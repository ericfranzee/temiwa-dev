"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6967],{69348:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});var t=s(9950),i=s(59233),l=s(23263),r=s(87094),n=s(41988),c=s(55902),d=s(25933),u=s(48538),m=s(85923),o=s(28429),v=s(91854),h=s(74623),A=s(70030),j=s(14056),x=s(59759),p=s(48970),b=s(44414);const g=()=>{var e,a;const{t:s}=(0,A.B)(),{activeMenu:g}=(0,v.d4)((e=>e.menu),v.bN),f=(0,v.wA)(),[y]=i.A.useForm(),k=(0,o.Zp)(),[w,I]=(0,t.useState)(null!==(e=g.data)&&void 0!==e&&e.image?[null===(a=g.data)||void 0===a?void 0:a.image]:[]),[q,E]=(0,t.useState)(!1);(0,t.useEffect)((()=>()=>{const e=y.getFieldsValue(!0);f((0,h.Ok)({activeMenu:g,data:e}))}),[]);return(0,b.jsx)(l.A,{title:s("add.brand"),children:(0,b.jsxs)(i.A,{name:"basic",layout:"vertical",onFinish:e=>{var a;const t={...e,active:e.active?1:0,"images[0]":null===(a=w[0])||void 0===a?void 0:a.name};E(!0);const i="seller/brands";j.A.create(t).then((()=>{m.oR.success(s("successfully.created")),f((0,h.EK)({...g,nextUrl:i})),k("/".concat(i)),f((0,x.w1)())})).finally((()=>E(!1)))},form:y,initialValues:{active:!0,...g.data},children:[(0,b.jsxs)(r.A,{gutter:12,children:[(0,b.jsx)(n.A,{span:12,children:(0,b.jsx)(i.A.Item,{label:s("title"),name:"title",rules:[{required:!0,message:s("required")}],children:(0,b.jsx)(c.A,{})})}),(0,b.jsx)(n.A,{span:6,children:(0,b.jsx)(i.A.Item,{label:s("image"),name:"images",rules:[{validator:(e,a)=>0===w.length?Promise.reject(new Error(s("required"))):Promise.resolve()}],children:(0,b.jsx)(p.A,{type:"brands",imageList:w,setImageList:I,form:y,multiple:!1})})}),(0,b.jsx)(n.A,{span:6,children:(0,b.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,b.jsx)(i.A.Item,{label:s("active"),name:"active",valuePropName:"checked",children:(0,b.jsx)(d.A,{})})})})]}),(0,b.jsx)(u.A,{type:"primary",htmlType:"submit",loading:q,children:s("submit")})]})})}}}]);