"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4625],{80415:(e,a,n)=>{n.d(a,{G:()=>o,HV:()=>l,LH:()=>r,PR:()=>t,wO:()=>d,xt:()=>i});const r={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},l=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),t=30,o="HH:mm",i="hh:mm a",d=!0},51066:(e,a,n)=>{n.d(a,{Q:()=>t});var r=n(17706),l=n(80415);const t=()=>{var e,a,n,t;return null!==(e=null===(a=r.M.getState())||void 0===a||null===(n=a.globalSettings)||void 0===n||null===(t=n.settings)||void 0===t?void 0:t.hour_format)&&void 0!==e?e:l.G}},64625:(e,a,n)=>{n.r(a),n.d(a,{default:()=>h});var r=n(28429),l=n(23263),t=n(70030),o=n(9950),i=n(84970),d=n(91854),s=n(74623),u=n(25679),c=n(59051),m=n.n(c),v=n(71999),p=n(44414);const h=function(){const{t:e}=(0,t.B)(),a=(0,d.wA)(),{activeMenu:n}=(0,d.d4)((e=>e.menu)),{languages:c}=(0,d.d4)((e=>e.formLang)),[h,j]=(0,o.useState)(!1),{id:_}=(0,r.g)(),[x,A]=(0,o.useState)({});function f(e){if(!e)return{};const{translations:a=[]}=e,n=c.map((e=>{var n,r;return{["title[".concat(e.locale,"]")]:null===(n=a.find((a=>a.locale===e.locale)))||void 0===n?void 0:n.title,["description[".concat(e.locale,"]")]:null===(r=a.find((a=>a.locale===e.locale)))||void 0===r?void 0:r.description}}));return Object.assign({},...n)}return(0,o.useEffect)((()=>{n.refetch&&((e=>{j(!0),i.A.getById(e).then((e=>{let{data:a}=e;const n={...a,...f(a),can_booking:Boolean(a.can_booking),date:m()(a.date),from:m()(a.from,"HH:mm"),to:m()(a.to,"HH:mm")};var r;a.end_value&&("date"===a.end_type?n.end_value_date=m()(a.end_value):n.end_value_number=a.end_value),"custom"===a.repeats&&(n.custom_repeat_value={},n.custom_repeat_value.every=null===a||void 0===a?void 0:a.custom_repeat_value[0],"week"===a.custom_repeat_type&&(n.custom_repeat_value.weekDays=null===a||void 0===a||null===(r=a.custom_repeat_value)||void 0===r?void 0:r.slice(1))),A(n)})).catch((e=>{throw e})).finally((()=>{j(!1)}))})(_),a((0,s.km)(n)))}),[n.refetch]),(0,p.jsx)(l.A,{title:e("edit.disabled.time"),loading:h,extra:(0,p.jsx)(v.A,{}),children:!h&&(0,p.jsx)(u.A,{initialValues:x,onSubmit:e=>i.A.update(_,e)})})}},25679:(e,a,n)=>{n.d(a,{A:()=>N});var r=n(59233),l=n(87094),t=n(40895),o=n(41988),i=n(55902),d=n(25933),s=n(86971),u=n(57796),c=n(99674),m=n(40577),v=n(48538);const p=["dont_repeat","day","week","month","custom"],h=["day","week","month"],j=["never","date","after"],_=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];var x=n(70030),A=n(9950),f=n(59051),g=n.n(f),y=n(85923),b=n(91854),w=n(74623),k=n(28429),q=n(48676),P=n(51066),I=n(44414);const N=function(e){let{initialValues:a={},onSubmit:n}=e;const{t:f}=(0,x.B)(),N=(0,b.wA)(),O=(0,k.Zp)(),{activeMenu:E}=(0,b.d4)((e=>e.menu)),[H,S]=(0,A.useState)((null===a||void 0===a?void 0:a.repeats)||""),[C,D]=(0,A.useState)((null===a||void 0===a?void 0:a.end_type)||""),[M,Y]=(0,A.useState)((null===a||void 0===a?void 0:a.custom_repeat_type)||""),[R,F]=(0,A.useState)(!1),{defaultLang:L,languages:B}=(0,b.d4)((e=>e.formLang),b.bN),V=(0,b.d4)((e=>{var a,n;return null===(a=e.globalSettings)||void 0===a||null===(n=a.settings)||void 0===n?void 0:n.using_12_hour_format}),b.bN),T=(0,P.Q)();return(0,I.jsxs)(r.A,{initialValues:a,layout:"vertical",onFinish:e=>{var a,r,l;F(!0);const t="master/disabled-times",o=void 0!==e.end_value?"date"===C?g()(null===e||void 0===e?void 0:e.end_value_date).format("YYYY-MM-DD"):null===e||void 0===e?void 0:e.end_value_number:void 0,i="custom"===H?"week"===M?[null===e||void 0===e||null===(a=e.custom_repeat_value)||void 0===a?void 0:a.every,...null===e||void 0===e||null===(r=e.custom_repeat_value)||void 0===r?void 0:r.weekDays]:[null===e||void 0===e||null===(l=e.custom_repeat_value)||void 0===l?void 0:l.every]:void 0,d={...e,date:g()(null===e||void 0===e?void 0:e.date).format("YYYY-MM-DD"),from:g()(null===e||void 0===e?void 0:e.from).format("HH:mm"),to:g()(null===e||void 0===e?void 0:e.to).format("HH:mm"),end_value:o,can_booking:null!==e&&void 0!==e&&e.can_booking?1:0,custom_repeat_value:i};return delete d.end_value_date,delete d.end_value_number,n(d).then((()=>{y.oR.success("successfully.added"),(0,b.vA)((()=>{N((0,w.EK)({...E,nextUrl:t})),N((0,q.nP)({})),O("/"+t)}))})).finally((()=>{F(!1)}))},children:[(0,I.jsxs)(l.A,{gutter:24,children:[(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:f("overview")}),(0,I.jsx)(o.A,{span:8,children:B.map((e=>(0,I.jsx)(r.A.Item,{label:f("name"),name:"title[".concat(e.locale,"]"),rules:[{validator:(a,n)=>n||(null===e||void 0===e?void 0:e.locale)!==L?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(f("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.length)<2?Promise.reject(new Error(f("min.2.letters"))):Promise.resolve():Promise.reject(new Error(f("required")))}],hidden:e.locale!==L,children:(0,I.jsx)(i.A,{})},"title"+e.id)))}),(0,I.jsx)(o.A,{span:8,children:B.map((e=>(0,I.jsx)(r.A.Item,{label:f("description"),name:"description[".concat(e.locale,"]"),rules:[{validator:(a,n)=>n||(null===e||void 0===e?void 0:e.locale)!==L?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(f("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<5?Promise.reject(new Error(f("must.be.at.least.5"))):Promise.resolve():Promise.reject(new Error(f("required")))}],hidden:e.locale!==L,children:(0,I.jsx)(i.A,{maxLength:150})},"description"+e.locale)))}),(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:"can_booking",label:f("can.booking"),valuePropName:"can_booking",children:(0,I.jsx)(d.A,{defaultChecked:a.can_booking})})}),(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:f("date")}),(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:"date",label:f("date"),rules:[{required:!0,message:f("required")}],children:(0,I.jsx)(s.A,{className:"w-100"})})}),(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:"from",label:f("from"),rules:[{required:!0,message:f("required")}],children:(0,I.jsx)(u.A,{format:T,use12Hour:"1"===V,className:"w-100"})})}),(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:"to",label:f("to"),rules:[{required:!0,message:f("required")}],children:(0,I.jsx)(u.A,{format:T,use12Hour:"1"===V,className:"w-100"})})}),(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:f("repeat")}),(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:"repeats",label:f("repeats"),rules:[{required:!0,message:f("required")}],help:"month"===H?"Repeat on the ".concat(g()().date()," of every month"):void 0,children:(0,I.jsx)(c.A,{onChange:S,children:p.map((e=>(0,I.jsx)(c.A.Option,{value:e,children:f(e)},e)))})})}),"custom"===H&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:f("custom.repeat")}),(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{label:f("every"),children:(0,I.jsxs)(l.A,{children:[(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:["custom_repeat_value","every"],rules:[{required:!0,message:f("required")}],children:(0,I.jsx)(m.A,{min:1,className:"w-100"})})}),(0,I.jsx)(o.A,{span:16,children:(0,I.jsx)(r.A.Item,{name:["custom_repeat_type"],rules:[{required:!0,message:f("required")}],children:(0,I.jsx)(c.A,{onChange:Y,children:h.map((e=>(0,I.jsx)(c.A.Option,{value:e,children:f(e)},e)))})})})]})})}),"week"===M&&(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:["custom_repeat_value","weekDays"],rules:[{required:!0,message:f("required")}],label:f("on.days"),children:(0,I.jsx)(c.A,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",children:_.map((e=>(0,I.jsx)(c.A.Option,{value:e,children:f(e)},e)))})})})]}),"dont_repeat"!==H&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:f("ends")}),(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:"end_type",label:f("end.type"),rules:[{required:!0,message:f("required")}],children:(0,I.jsx)(c.A,{onChange:D,children:j.map((e=>(0,I.jsx)(c.A.Option,{value:e,children:f(e)},e)))})})}),"date"===C?(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:"end_value_date",label:f("end.value"),rules:[{required:!0,message:f("required")}],children:(0,I.jsx)(s.A,{className:"w-100"})})}):"after"===C?(0,I.jsx)(o.A,{span:8,children:(0,I.jsx)(r.A.Item,{name:"end_value_number",label:f("occurrences"),rules:[{required:!0,message:f("required")}],children:(0,I.jsx)(m.A,{min:1,className:"w-100"})})}):null]})]}),(0,I.jsx)(v.A,{type:"primary",htmlType:"submit",loading:R,children:f("submit")})]})}},57796:(e,a,n)=>{n.d(a,{A:()=>c});var r=n(58168),l=n(9950),t=n(86971),o=function(e,a){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)a.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n},i=t.A.TimePicker,d=t.A.RangePicker,s=l.forwardRef((function(e,a){return l.createElement(d,(0,r.A)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:a}))})),u=l.forwardRef((function(e,a){var n=e.addon,t=e.renderExtraFooter,d=e.popupClassName,s=o(e,["addon","renderExtraFooter","popupClassName"]),u=l.useMemo((function(){return t||(n||void 0)}),[n,t]);return l.createElement(i,(0,r.A)({},s,{dropdownClassName:d,mode:void 0,ref:a,renderExtraFooter:u}))}));u.displayName="TimePicker",u.RangePicker=s;const c=u}}]);