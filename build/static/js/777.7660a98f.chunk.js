"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[777],{85023:(e,t,n)=>{n.d(t,{D:()=>o});var s=n(9950),l=n(99674),a=n(90650),i=n(44414);const o=e=>{let{fetchOptions:t,refetch:n=!1,value:o,...r}=e;const[u,c]=(0,s.useState)(!1),[d,h]=(0,s.useState)([]);"object"===typeof(null===o||void 0===o?void 0:o.label)&&null!==(null===o||void 0===o?void 0:o.label)&&(o.label=o.label.value);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.A,{labelInValue:!0,filterOption:!1,notFoundContent:u?(0,i.jsx)(a.A,{size:"small"}):"no results",value:o,...r,options:u?[]:d,onFocus:()=>{d.length&&!n||(c(!0),t().then((e=>{h(e),c(!1)})))},getPopupContainer:e=>e.parentNode})})}},47992:(e,t,n)=>{n.d(t,{G:()=>u});var s=n(9950),l=n(95491),a=n.n(l),i=n(99674),o=n(90650),r=n(44414);const u=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:l,refetchOptions:u=!1,...c}=e;const[d,h]=(0,s.useState)(!1),[m,p]=(0,s.useState)([]),v=(0,s.useMemo)((()=>a()((e=>{p([]),h(!0),t(e).then((e=>{p(e),h(!1)}))}),n)),[t,n]);return(0,r.jsx)(i.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:v,onClear:()=>{v(""),l&&l()},notFoundContent:d?(0,r.jsx)(o.A,{size:"small"}):"no results",...c,options:m,onFocus:()=>{m.length&&!u||v("")}})}},80777:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(9950),l=n(28429),a=n(85923),i=n(59233),o=n(23263),r=n(87094),u=n(41988),c=n(55902),d=n(40577),h=n(48538),m=n(91854),p=n(74623),v=n(70030),x=n(71999),A=n(91422),b=(n(85023),n(93394)),j=n(47992),f=n(44414);const g=()=>{const{t:e}=(0,v.B)(),{activeMenu:t}=(0,m.d4)((e=>e.menu),m.bN),{id:n}=(0,l.g)(),g=(0,m.wA)(),[_]=i.A.useForm(),y=(0,l.Zp)(),[F,S]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!1);(0,s.useEffect)((()=>()=>{const e=_.getFieldsValue(!0);g((0,p.Ok)({activeMenu:t,data:e}))}),[]);return(0,s.useEffect)((()=>{t.refetch&&(e=>{S(!0),A.A.getById(e).then((e=>{var t,n,s;let l=e.data;_.setFieldsValue({...l,shop_section_id:{label:null===(t=l.shop_section)||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title,value:null===(s=l.shop_section)||void 0===s?void 0:s.id}})})).finally((()=>{S(!1),g((0,p.km)(t))}))})(n)}),[t.refetch]),(0,f.jsx)(o.A,{title:e("edit.booking.table"),extra:(0,f.jsx)(x.A,{}),loading:F,children:(0,f.jsxs)(i.A,{name:"basic",layout:"vertical",onFinish:s=>{const l={...s,chair_count:String(s.chair_count),shop_section_id:s.shop_section_id.value};C(!0);const i="seller/booking/tables";A.A.update(n,l).then((()=>{a.oR.success(e("successfully.updated")),y("/".concat(i)),g((0,p.EK)({...t,nextUrl:i}))})).finally((()=>C(!1)))},form:_,initialValues:{active:!0,...t.data},children:[(0,f.jsxs)(r.A,{gutter:12,children:[(0,f.jsx)(u.A,{span:12,children:(0,f.jsx)(i.A.Item,{label:e("zona"),name:"shop_section_id",rules:[{required:!0,message:e("required")}],children:(0,f.jsx)(j.G,{fetchOptions:function(e){return b.A.getAll({search:e}).then((e=>e.data.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))))},debounceTimeout:300})})}),(0,f.jsx)(u.A,{span:12,children:(0,f.jsx)(i.A.Item,{label:"name",name:"name",rules:[{required:!0,message:""}],children:(0,f.jsx)(c.A,{})})}),(0,f.jsx)(u.A,{span:12,children:(0,f.jsx)(i.A.Item,{label:e("chair.count"),name:"chair_count",rules:[{required:!0,message:e("required")}],children:(0,f.jsx)(d.A,{className:"w-100"})})}),(0,f.jsx)(u.A,{span:12,children:(0,f.jsx)(i.A.Item,{label:e("tax"),name:"tax",rules:[{required:!0,message:e("required")}],children:(0,f.jsx)(d.A,{className:"w-100"})})})]}),(0,f.jsx)(h.A,{type:"primary",htmlType:"submit",loading:k,children:e("submit")})]})})}}}]);