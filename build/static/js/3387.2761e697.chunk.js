"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3387],{4587:(e,s,t)=>{t.d(s,{A:()=>x});var l=t(9950),r=t(23263),i=t(39452),n=t(94116),o=t(53439),a=t(44414);const d={position:"absolute",zIndex:"1"},c={position:"absolute",zIndex:"1",right:"0",top:"-2px"},u=e=>{let{title:s,series:t,width:u,height:x,xAxis:h,customOptions:v,card:m,type:p,extra:j,direction:f,bodyClass:A}=e,g=JSON.parse(JSON.stringify((e=>{switch(e){case"line":default:return o.V3;case"bar":return o.ck;case"area":return o.cZ;case"pie":return o.vX}})(p)));const b=window.innerWidth<768,y=()=>{if(N.current){var e;const s=N.current.querySelectorAll("div.apexcharts-legend")[0];s.style.marginRight="".concat(b?0:null===(e=w.current)||void 0===e?void 0:e.offsetWidth,"px"),"rtl"===f&&(s.style.right="auto",s.style.left="0"),b&&(s.style.position="relative",s.style.top=0,s.style.justifyContent="start",s.style.padding=0)}};(0,l.useEffect)((()=>{y()}),[]);const w=(0,l.useRef)(null),N=(0,l.useRef)();g.xaxis={categories:h},v&&(g={...g,...v});const k=()=>(0,a.jsx)(n.Ay,{onResize:void setTimeout((()=>{y()}),600),children:(0,a.jsx)("div",{style:"rtl"===f?{direction:"ltr"}:{},className:"chartRef",ref:N,children:(0,a.jsx)(i.A,{options:g,type:p,series:t,width:u,height:x})})});return(0,a.jsx)(a.Fragment,{children:m?(0,a.jsx)(r.A,{children:(0,a.jsxs)("div",{className:"position-relative ".concat(A),children:[(0,a.jsx)("div",{style:b?{}:d,children:s})&&(0,a.jsx)("h4",{className:"font-weight-bold",style:b?{}:d,children:s}),j&&(0,a.jsx)("div",{ref:w,style:b?{}:c,children:j}),k()]})}):k()})};u.defaultProps={series:[],height:300,width:"100%",card:!0,type:"line"};const x=u},1201:(e,s,t)=>{t.d(s,{A:()=>d});t(9950);var l=t(70030),r=t(88542);const i=t.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",n=t.p+"static/media/noresult.ac4af107751f94856a9c.riv",o=t.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var a=t(44414);const d=function(e){let{id:s="noresult",text:t=""}=e;const{t:d}=(0,l.B)(),c={src:{noproductsfound:i,noresult:n,nosell:o}[s],artboard:"New Artboard",autoplay:!0},{RiveComponent:u}=(0,r.useRive)(c);return(0,a.jsxs)("div",{className:"animation-canvas",children:[(0,a.jsx)("div",{style:{width:"100%",height:200},children:(0,a.jsx)(u,{})}),(0,a.jsx)("div",{className:"text",children:d(t)})]})}},53439:(e,s,t)=>{t.d(s,{V3:()=>r,cZ:()=>i,ck:()=>n,lm:()=>l,vX:()=>o});const l=["#3e82f7","#04d182","#ff6b72","#ffc107","#a461d8","#fa8c16","#17bcff"],r={chart:{zoom:{enabled:!1},toolbar:{show:!1}},colors:[...l],dataLabels:{enabled:!1},stroke:{width:3,curve:"smooth",lineCap:"round"},legend:{position:"top",horizontalAlign:"right",offsetY:-15,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,s){return e+" - "+s.w.globals.series[s.seriesIndex][s.dataPointIndex]}},xaxis:{categories:[]},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}}},i={...r},n={chart:{zoom:{enabled:!1},toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"25px",startingShapre:"rounded",endingShape:"rounded"}},colors:[...l],dataLabels:{enabled:!1},stroke:{show:!0,width:6,curve:"smooth",colors:["transparent"]},legend:{position:"top",horizontalAlign:"right",offsetY:-15,inverseOrder:!0,itemMargin:{vertical:20},tooltipHoverFormatter:function(e,s){return e+" - "+s.w.globals.series[s.seriesIndex][s.dataPointIndex]}},xaxis:{categories:[]},fill:{opacity:1},tooltip:{y:{formatter:e=>"".concat(e)}}},o={colors:[...l],plotOptions:{pie:{size:200,donut:{labels:{show:!0,total:{show:!1,showAlways:!0,label:"",fontSize:"18px",fontFamily:"Roboto",fontWeight:"bold",color:"#1a3353",formatter:function(e){return e.globals.seriesTotals.reduce(((e,s)=>e+s),0)+"Orders count"}}},size:"100%"}}},labels:[],dataLabels:{enabled:!0},legend:{show:!0}}},53774:(e,s,t)=>{function l(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const t=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===s?"".concat(t," ").concat(e):"".concat(e," ").concat(t)}t.r(s),t.d(s,{default:()=>l})},77746:(e,s,t)=>{t.r(s),t.d(s,{default:()=>me});var l=t(9950),r=t(91854),i=t(74623),n=t(71876),o=t(79890),a=t(36307),d=t(81446),c=t(3928),u=t(40706),x=t(505),h=t(87094),v=t(41988),m=t(23263),p=t(70030),j=t(28429),f=t(99674),A=t(90650),g=t(74947),b=t(59051),y=t.n(b),w=t(4587),N=t(53439),k=t(44414);function C(){const{t:e}=(0,p.B)(),s=(0,r.wA)(),{counts:t,params:i,loading:n}=(0,r.d4)((e=>e.orderCounts),r.bN),{role:o}=(0,r.d4)((e=>e.auth.user),r.bN),{direction:a}=(0,r.d4)((e=>e.theme.theme),r.bN),d=(0,l.useMemo)((()=>t.map((e=>y()(e.time).format("D MMM")))),[t]),u=(0,l.useMemo)((()=>[{name:e("orders"),data:(null===t||void 0===t?void 0:t.map((e=>e.count)))||[]}]),[t]);return(0,k.jsxs)(m.A,{className:"h-100",title:e("orders"),extra:(0,k.jsxs)(f.A,{value:i.time,size:"small",style:{minWidth:110},onSelect:e=>{const t={time:e};switch(s((0,c.HV)(t)),o){case"admin":s((0,c.TZ)(t));break;case"seller":s((0,c._I)(t))}},defaultValue:"subMonth",children:[(0,k.jsx)(f.A.Option,{value:"subWeek",children:e("this.week")}),(0,k.jsx)(f.A.Option,{value:"subMonth",children:e("this.month")}),(0,k.jsx)(f.A.Option,{value:"subYear",children:e("this.year")})]}),children:[n&&(0,k.jsx)("div",{className:"loader",children:(0,k.jsx)(A.A,{})}),(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsxs)("div",{className:"mr-5",children:[(0,k.jsx)("h2",{className:"font-weight-bold mb-1",children:null===t||void 0===t?void 0:t.reduce(((e,s)=>e+(null===s||void 0===s?void 0:s.count)),0)}),(0,k.jsxs)("p",{children:[(0,k.jsx)(g.A,{color:N.lm[6]}),e("total.orders.count")]})]})}),(0,k.jsx)("div",{children:(0,k.jsx)(w.A,{card:!1,series:u,xAxis:d,height:280,customOptions:{colors:[N.lm[6],N.lm[0]],legend:{show:!1},stroke:{width:2.5,curve:"smooth"}},direction:a})})]})}var O=t(53774);function M(){const{t:e}=(0,p.B)(),s=(0,r.wA)(),{defaultCurrency:t}=(0,r.d4)((e=>e.currency),r.bN),{sales:i,params:n,loading:o}=(0,r.d4)((e=>e.orderSales),r.bN),{role:a}=(0,r.d4)((e=>e.auth.user),r.bN),{direction:d}=(0,r.d4)((e=>e.theme.theme),r.bN),c=(0,l.useMemo)((()=>i.map((e=>y()(e.time).format("D MMM")))),[i]),x=(0,l.useMemo)((()=>[{name:e("sales"),data:(null===i||void 0===i?void 0:i.map((e=>e.total_price.toFixed(2))))||[]}]),[i]);return(0,k.jsxs)(m.A,{className:"h-100",title:e("sales"),extra:(0,k.jsxs)(f.A,{value:n.time,size:"small",style:{minWidth:110},onSelect:e=>{const t={time:e};switch(s((0,u.ZP)(t)),a){case"admin":s((0,u.dt)(t));break;case"seller":s((0,u.Uj)(t))}},defaultValue:"subMonth",children:[(0,k.jsx)(f.A.Option,{value:"subWeek",children:e("this.week")}),(0,k.jsx)(f.A.Option,{value:"subMonth",children:e("this.month")}),(0,k.jsx)(f.A.Option,{value:"subYear",children:e("this.year")})]}),children:[o&&(0,k.jsx)("div",{className:"loader",children:(0,k.jsx)(A.A,{})}),(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsxs)("div",{className:"mr-5",children:[(0,k.jsx)("h2",{className:"font-weight-bold mb-1",children:(0,O.default)(i.reduce(((e,s)=>e+(s.total_price||0)),0),null===t||void 0===t?void 0:t.symbol,null===t||void 0===t?void 0:t.position)}),(0,k.jsxs)("p",{children:[(0,k.jsx)(g.A,{color:N.lm[0]}),e("total.sales.amount")]})]})}),(0,k.jsx)("div",{children:(0,k.jsx)(w.A,{card:!1,type:"area",series:x,xAxis:c,height:280,customOptions:{colors:N.lm,legend:{show:!1},stroke:{width:2.5,curve:"smooth"}},direction:d})})]})}var _=t(74704);function S(e){let{title:s="Orders",value:t=0,subtitle:l}=e;const{defaultCurrency:i}=(0,r.d4)((e=>e.currency),r.bN);return(0,k.jsxs)(m.A,{children:[s&&(0,k.jsx)("h4",{className:"mb-0",children:s}),(0,k.jsx)("div",{className:"".concat(s?"mt-3":""),children:(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"d-flex align-items-center",children:(0,k.jsx)("h1",{className:"mb-0 font-weight-bold",children:(0,O.default)(t,null===i||void 0===i?void 0:i.symbol,null===i||void 0===i?void 0:i.position)})}),l&&(0,k.jsx)("div",{className:"text-gray-light mt-1",children:l})]})})]})}function z(){const{t:e}=(0,p.B)(),{user:s}=(0,r.d4)((e=>e.auth),r.bN);return(0,k.jsx)(m.A,{children:(0,k.jsx)("div",{className:"d-flex justify-content-between",children:(0,k.jsxs)("div",{children:[(0,k.jsxs)("h2",{children:[e("hello"),", ",s.fullName," \ud83d\udc4b"]}),(0,k.jsx)("p",{children:e("hello.text")})]})})})}var F=t(80737),Y=t(72243),D=t(7974),E=t(1201);function P(){const{t:e}=(0,p.B)(),s=(0,r.wA)(),{topCustomers:t,loading:l,params:i}=(0,r.d4)((e=>e.topCustomers),r.bN),{defaultCurrency:n}=(0,r.d4)((e=>e.currency),r.bN),{role:a}=(0,r.d4)((e=>e.auth.user),r.bN),d=(e,t)=>{const l={...i,[e]:t};switch(s((0,o.ro)(l)),a){case"admin":s((0,o.lr)(l));break;case"seller":s((0,o.Yv)(l))}};return(0,k.jsxs)(m.A,{title:e("top.customers"),extra:(0,k.jsxs)(F.A,{children:[(0,k.jsxs)(f.A,{value:i.perPage,size:"small",style:{minWidth:110},onSelect:e=>d("perPage",e),children:[(0,k.jsx)(f.A.Option,{value:5,children:"5 / ".concat(e("page"))}),(0,k.jsx)(f.A.Option,{value:10,children:"10 / ".concat(e("page"))}),(0,k.jsx)(f.A.Option,{value:50,children:"50 / ".concat(e("page"))}),(0,k.jsx)(f.A.Option,{value:100,children:"100 / ".concat(e("page"))})]}),(0,k.jsxs)(f.A,{value:i.time,size:"small",style:{minWidth:110},onSelect:e=>d("time",e),defaultValue:"subMonth",children:[(0,k.jsx)(f.A.Option,{value:"subWeek",children:e("this.week")}),(0,k.jsx)(f.A.Option,{value:"subMonth",children:e("this.month")}),(0,k.jsx)(f.A.Option,{value:"subYear",children:e("this.year")})]})]}),className:"h-100",children:[l&&(0,k.jsx)("div",{className:"loader",children:(0,k.jsx)(A.A,{})}),(0,k.jsx)("div",{style:{overflowY:"auto",maxHeight:370},children:t.length?t.map(((s,t)=>(0,k.jsxs)("div",{className:"w-100 py-3 flex",children:[(0,k.jsxs)("div",{className:"d-flex avatar",children:[(0,k.jsx)(Y.A,{src:(0,D.A)(s.img),width:40,height:40,preview:!1,className:"rounded"}),(0,k.jsxs)("div",{className:"ml-2 avatar-text",children:[(0,k.jsx)("h5",{className:"title",children:"".concat((null===s||void 0===s?void 0:s.firstname)||""," ").concat((null===s||void 0===s?void 0:s.lastname)||"")}),(0,k.jsx)("div",{className:"text-muted",children:s.phone})]})]}),(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsxs)("div",{className:"mr-3 text-right",children:[(0,k.jsxs)("span",{className:"text-muted",children:[s.count," ",e("orders")]}),(0,k.jsx)("div",{className:"mb-0 h5 font-weight-bold",children:(0,O.default)(s.total_price,null===n||void 0===n?void 0:n.symbol,null===n||void 0===n?void 0:n.position)})]})})]},t))):(0,k.jsx)(h.A,{children:(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(E.A,{id:"nosell"})})})})]})}var B=t(69554);function R(){const{t:e}=(0,p.B)(),s=(0,r.wA)(),{topProducts:t,loading:l,params:i}=(0,r.d4)((e=>e.topProducts),r.bN),{role:n}=(0,r.d4)((e=>e.auth.user),r.bN),o=(e,t)=>{const l={...i,[e]:t};switch(s((0,a.c6)(l)),n){case"admin":s((0,a.Qq)(l));break;case"seller":s((0,a.ny)(l))}};return(0,k.jsxs)(m.A,{title:e("top.selled.products"),extra:(0,k.jsxs)(F.A,{children:[(0,k.jsxs)(f.A,{value:i.perPage,size:"small",style:{minWidth:110},onSelect:e=>o("perPage",e),children:[(0,k.jsx)(f.A.Option,{value:5,children:"5 / ".concat(e("page"))}),(0,k.jsx)(f.A.Option,{value:10,children:"10 / ".concat(e("page"))}),(0,k.jsx)(f.A.Option,{value:50,children:"50 / ".concat(e("page"))}),(0,k.jsx)(f.A.Option,{value:100,children:"100 / ".concat(e("page"))})]}),(0,k.jsxs)(f.A,{value:i.time,size:"small",style:{minWidth:110},onSelect:e=>o("time",e),defaultValue:"subMonth",children:[(0,k.jsx)(f.A.Option,{value:"subWeek",children:e("this.week")}),(0,k.jsx)(f.A.Option,{value:"subMonth",children:e("this.month")}),(0,k.jsx)(f.A.Option,{value:"subYear",children:e("this.year")})]})]}),className:"h-100",children:[l&&(0,k.jsx)("div",{className:"loader",children:(0,k.jsx)(A.A,{})}),(0,k.jsx)("div",{style:{overflowY:"auto",maxHeight:370},children:null!==t&&void 0!==t&&t.length?t.map(((s,t)=>{var l,r,i,n;return(0,k.jsxs)("div",{className:"w-100 py-3 flex",children:[(0,k.jsxs)("div",{className:"d-flex avatar",children:[(0,k.jsx)(Y.A,{src:(0,B.A)(null===s||void 0===s||null===(l=s.product)||void 0===l?void 0:l.img),width:40,height:40,preview:!1,style:{borderRadius:10}}),(0,k.jsx)("div",{className:"ml-2 avatar-text",children:(0,k.jsx)("h5",{className:"title",children:null===s||void 0===s||null===(r=s.product)||void 0===r||null===(i=r.translation)||void 0===i?void 0:i.title})})]}),(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsxs)("div",{className:"mr-3 text-right",children:[(0,k.jsx)("span",{className:"text-muted",children:e("sales")}),(0,k.jsx)("div",{className:"mb-0 h5 font-weight-bold",children:null!==(n=null===s||void 0===s?void 0:s.count)&&void 0!==n?n:0})]})})]},t)})):(0,k.jsx)(h.A,{children:(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(E.A,{id:"nosell"})})})})]})}var I=t(48538),V=t(59233),T=t(55902),W=t(89379);const H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]},name:"plus-circle",theme:"filled"};var Z=t(25085),L=function(e,s){return l.createElement(Z.A,(0,W.A)((0,W.A)({},e),{},{ref:s,icon:H}))};const q=l.forwardRef(L),Q=e=>{let{onFormSubmit:s}=e;const[t]=V.A.useForm(),{t:l}=(0,p.B)();return(0,k.jsx)(V.A,{form:t,onFinish:e=>{s(e),t.resetFields()},layout:"horizontal",className:"todo-form",children:(0,k.jsxs)(h.A,{gutter:20,children:[(0,k.jsx)(v.A,{xs:24,sm:24,md:12,lg:14,xl:18,children:(0,k.jsx)(V.A.Item,{name:"name",rules:[{validator:(e,s)=>s?s&&""===(null===s||void 0===s?void 0:s.trim())?Promise.reject(new Error(l("no.empty.space"))):s&&(null===s||void 0===s?void 0:s.trim().length)<2?Promise.reject(new Error(l("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(l("required")))}],children:(0,k.jsx)(T.A,{placeholder:l("todo.placeholder")})})}),(0,k.jsx)(v.A,{xs:24,sm:24,md:12,lg:10,xl:6,children:(0,k.jsxs)(I.A,{type:"primary",htmlType:"submit",block:!0,children:[(0,k.jsx)(q,{}),l("todo.add")]})})]})})};var X=t(66362),G=t(63611),$=t(52765);const J=e=>{let{todos:s,onTodoToggle:t}=e;const{t:l}=(0,p.B)(),i=(0,r.d4)((e=>e.globalSettings.settings.hour_format));return(0,k.jsxs)(k.Fragment,{children:[0===s.length||(0,k.jsxs)(X.A.Text,{children:[s.filter((e=>e.isComplete)).length," of ",s.length," ",l("remaining")]}),(0,k.jsx)("div",{style:{maxHeight:"280px",overflowY:"auto"},children:(0,k.jsx)(G.Ay,{locale:{emptyText:l("todo.empty")},dataSource:s,renderItem:e=>(0,k.jsx)(G.Ay.Item,{style:{paddingRight:0,paddingLeft:0},onClick:()=>t(e.id),children:(0,k.jsxs)(F.A,{className:"w-100 justify-content-between",children:[(0,k.jsxs)(F.A,{className:"align-items-end",children:[(0,k.jsx)($.A,{checked:e.isComplete}),(0,k.jsx)(X.A.Text,{delete:e.isComplete,children:e.name})]}),(0,k.jsx)(X.A.Text,{children:y()(e.date).format("MMM DD YYYY ".concat(i))})]})},e.id)})})]})};var K=t(11868);const U=()=>{const e=(0,r.d4)((e=>e.todo.todos)),{t:s}=(0,p.B)(),t=(0,r.wA)();return(0,k.jsxs)(m.A,{className:"h-100",title:s("todo.list"),extra:(0,k.jsx)(I.A,{danger:!0,type:"primary",disabled:0===e.filter((e=>e.isComplete)).length,onClick:()=>{t((0,K.H9)(e.filter((e=>e.isComplete)).map((e=>e.id))))},children:s("archive")}),children:[(0,k.jsx)(Q,{onFormSubmit:e=>t((0,K.eW)(e))}),(0,k.jsx)(J,{todos:e,onTodoToggle:e=>t((0,K.zQ)(e))})]})},ee=e=>{let{counts:s}=e;const{t:t}=(0,p.B)();return(0,k.jsx)(m.A,{title:t("orders"),className:"h-100",children:(0,k.jsx)(w.A,{type:"pie",series:[(null===s||void 0===s?void 0:s.progress_orders_count)||{data:[]},(null===s||void 0===s?void 0:s.delivered_orders_count)||{data:[]},(null===s||void 0===s?void 0:s.cancel_orders_count)||{data:[]}],xAxis:[t("in.progress.orders"),t("delivered.orders"),t("canceled.orders")],customOptions:{labels:[t("in.progress.orders"),t("delivered.orders"),t("canceled.orders")]}})})};var se=t(24843);const te=e=>{var s,t,l,i,n,o,a,d,c,u;let{isSeller:x=!1,isMaster:j=!1}=e;const{t:f}=(0,p.B)(),{statisticsData:A,seller:g,master:b}=(0,r.d4)((e=>e.bookingsReport),r.bN),y=x?g.statisticsData:j?b.statisticsData:A,w={display:"flex",flexDirection:"column",alignItems:"center",rowGap:"10px"},N="0 0 20%";return(0,k.jsxs)(h.A,{gutter:16,children:[(0,k.jsx)(v.A,{flex:N,children:(0,k.jsx)(m.A,{style:{width:"100%"},children:(0,k.jsxs)(v.A,{style:{...w},children:[(0,k.jsx)(se.A,{type:"circle",percent:null===y||void 0===y||null===(s=y.new)||void 0===s||null===(t=s.percent)||void 0===t?void 0:t.toFixed(0)}),(0,k.jsx)("h4",{children:f("new")})]})})}),(0,k.jsx)(v.A,{flex:N,children:(0,k.jsx)(m.A,{children:(0,k.jsxs)(v.A,{style:{...w},children:[(0,k.jsx)(se.A,{type:"circle",percent:null===y||void 0===y||null===(l=y.booked)||void 0===l||null===(i=l.percent)||void 0===i?void 0:i.toFixed(0)}),(0,k.jsx)("h4",{children:f("booked")})]})})}),(0,k.jsx)(v.A,{flex:N,children:(0,k.jsx)(m.A,{children:(0,k.jsxs)(v.A,{style:{...w},children:[(0,k.jsx)(se.A,{type:"circle",percent:null===y||void 0===y||null===(n=y.progress)||void 0===n||null===(o=n.percent)||void 0===o?void 0:o.toFixed(0)}),(0,k.jsx)("h4",{children:f("progress")})]})})}),(0,k.jsx)(v.A,{flex:N,children:(0,k.jsx)(m.A,{children:(0,k.jsxs)(v.A,{style:{...w},children:[(0,k.jsx)(se.A,{type:"circle",percent:null===y||void 0===y||null===(a=y.canceled)||void 0===a||null===(d=a.percent)||void 0===d?void 0:d.toFixed(0)}),(0,k.jsx)("h4",{children:f("canceled")})]})})}),(0,k.jsx)(v.A,{flex:N,children:(0,k.jsx)(m.A,{children:(0,k.jsxs)(v.A,{style:{...w},children:[(0,k.jsx)(se.A,{type:"circle",percent:null===y||void 0===y||null===(c=y.ended)||void 0===c||null===(u=c.percent)||void 0===u?void 0:u.toFixed(0)}),(0,k.jsx)("h4",{children:f("ended")})]})})})]})},le=e=>{var s,t,l,i,n,o,a,d,c,u;let{isSeller:x=!1,isMaster:m=!1}=e;const{t:j}=(0,p.B)(),{statisticsData:f,seller:A,master:g}=(0,r.d4)((e=>e.bookingsReport),r.bN),b=x?A.statisticsData:m?g.statisticsData:f,y="0 0 20%";return(0,k.jsxs)(h.A,{gutter:16,children:[(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(_.A,{title:j("new"),value:(null===b||void 0===b||null===(s=b.new)||void 0===s||null===(t=s.count)||void 0===t?void 0:t.toFixed(0))||0,color:"purple"})}),(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(_.A,{title:j("booked"),value:(null===b||void 0===b||null===(l=b.booked)||void 0===l||null===(i=l.count)||void 0===i?void 0:i.toFixed(0))||0,color:"purple"})}),(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(_.A,{title:j("progress"),value:(null===b||void 0===b||null===(n=b.progress)||void 0===n||null===(o=n.count)||void 0===o?void 0:o.toFixed(0))||0,color:"purple"})}),(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(_.A,{title:j("canceled"),value:(null===b||void 0===b||null===(a=b.canceled)||void 0===a||null===(d=a.count)||void 0===d?void 0:d.toFixed(0))||0,color:"purple"})}),(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(_.A,{title:j("ended"),value:(null===b||void 0===b||null===(c=b.ended)||void 0===c||null===(u=c.count)||void 0===u?void 0:u.toFixed(0))||0,color:"purple"})})]})},re=e=>{var s,t,l,i,n,o,a,d,c,u;let{isSeller:x=!1,isMaster:m=!1}=e;const{t:j}=(0,p.B)(),{statisticsData:f,seller:A,master:g}=(0,r.d4)((e=>e.bookingsReport),r.bN),b=x?A.statisticsData:m?g.statisticsData:f,y="0 0 20%";return(0,k.jsxs)(h.A,{gutter:16,children:[(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(S,{title:j("new"),value:(null===b||void 0===b||null===(s=b.new)||void 0===s||null===(t=s.total_price)||void 0===t?void 0:t.toFixed(0))||0,color:"purple"})}),(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(S,{title:j("booked"),value:(null===b||void 0===b||null===(l=b.booked)||void 0===l||null===(i=l.total_price)||void 0===i?void 0:i.toFixed(0))||0,color:"purple"})}),(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(S,{title:j("progress"),value:(null===b||void 0===b||null===(n=b.progress)||void 0===n||null===(o=n.total_price)||void 0===o?void 0:o.toFixed(0))||0,color:"purple"})}),(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(S,{title:j("canceled"),value:(null===b||void 0===b||null===(a=b.canceled)||void 0===a||null===(d=a.total_price)||void 0===d?void 0:d.toFixed(0))||0,color:"purple"})}),(0,k.jsx)(v.A,{style:{flex:y},children:(0,k.jsx)(S,{title:j("ended"),value:(null===b||void 0===b||null===(c=b.ended)||void 0===c||null===(u=c.total_price)||void 0===u?void 0:u.toFixed(0))||0,color:"purple"})})]})};function ie(e){let{isSeller:s}=e;const{products_enabled:t}=(0,r.d4)((e=>e.globalSettings.settings),r.bN),{t:n}=(0,p.B)(),o=(0,j.Zp)(),a=(0,r.wA)(),{user:d}=(0,r.d4)((e=>e.auth),r.bN),{counts:c}=(0,r.d4)((e=>e.statisticsCount),r.bN),{theme:u}=(0,r.d4)((e=>e.theme),r.bN),x=(0,l.useMemo)((()=>!!u.parcelMode&&"admin"===(null===d||void 0===d?void 0:d.role)),[u,d]),f="1"===t,A=(e,s)=>{const t="report/stock"===e?{id:e,url:e,name:s,refetch:!0,data:{value:"out_of_stock",label:"Out of stock"}}:{id:e,url:e,name:s,refetch:!0};a((0,i.wr)(t)),o("/".concat(e))};return(0,k.jsxs)("div",{children:[(0,k.jsx)(z,{}),x?(0,k.jsx)("div",{}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(h.A,{gutter:16,className:"mt-3",children:[(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:n("last.30.days.statistics")})})}),f&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:n("orders.statistics")})})}),(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:n("in.progress.orders"),value:null===c||void 0===c?void 0:c.progress_orders_count,color:"purple",onClick:()=>A("seller"===(null===d||void 0===d?void 0:d.role)?"seller/orders?status=new":"orders?status=new",n("in.progress.orders"))})}),(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:n("cancelled.orders"),value:null===c||void 0===c?void 0:c.cancel_orders_count,color:"red",onClick:()=>A("seller"===(null===d||void 0===d?void 0:d.role)?"seller/orders?status=canceled":"orders?status=canceled",n("cancelled.orders"))})}),(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:n("delivered.orders"),value:null===c||void 0===c?void 0:c.delivered_orders_count,color:"green",onClick:()=>A("seller"===(null===d||void 0===d?void 0:d.role)?"seller/orders?status=delivered":"orders?status=delivered",n("delivered.orders"))})}),(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:n("out.of.stock.products"),value:null===c||void 0===c?void 0:c.products_out_of_count,color:"red",onClick:()=>{"admin"===(null===d||void 0===d?void 0:d.role)&&A("report/stock",n("stock"))}})}),(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:n("total.products"),value:null===c||void 0===c?void 0:c.products_count,color:"grey",onClick:()=>A("seller"===(null===d||void 0===d?void 0:d.role)?"seller/products":"catalog/products",n("products"))})}),(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:n("shop.reviews"),value:null===c||void 0===c?void 0:c.reviews_count,color:"purple"})})]})]}),f&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:n("order.total.statistics")})})}),(0,k.jsxs)(h.A,{gutter:16,children:[(0,k.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,k.jsx)(S,{title:n("total.earned"),value:null===c||void 0===c?void 0:c.total_earned,subtitle:n("last.30.days")})}),(0,k.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,k.jsx)(S,{title:n("delivery.earning"),value:null===c||void 0===c?void 0:c.delivery_earned,subtitle:n("last.30.days")})}),(0,k.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,k.jsx)(S,{title:n("total.order.tax"),value:null===c||void 0===c?void 0:c.tax_earned,subtitle:n("last.30.days")})}),(0,k.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,k.jsx)(S,{title:n("total.comission"),value:null===c||void 0===c?void 0:c.commission_earned,subtitle:n("last.30.days")})})]})]}),(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:n("bookings.count.statistics")})})}),(0,k.jsx)(h.A,{gutter:16,children:(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(le,{isSeller:s})})}),(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:n("bookings.percent.statistics")})})}),(0,k.jsx)(h.A,{gutter:16,children:(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(te,{isSeller:s})})}),(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:n("bookings.total.statistics")})})}),(0,k.jsx)(h.A,{gutter:16,children:(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(re,{isSeller:s})})}),(0,k.jsxs)(h.A,{gutter:[24,24],children:[f&&(0,k.jsx)(v.A,{span:12,children:(0,k.jsx)(C,{})}),(0,k.jsx)(v.A,{span:12,children:(0,k.jsx)(U,{})}),f&&(0,k.jsx)(v.A,{span:12,children:(0,k.jsx)(R,{})}),f&&(0,k.jsx)(v.A,{span:12,children:(0,k.jsx)(M,{})}),!s&&(0,k.jsx)(v.A,{span:12,children:(0,k.jsx)(P,{})}),f&&(0,k.jsx)(v.A,{span:12,children:(0,k.jsx)(ee,{counts:c})})]})]})]})}var ne=t(53271);function oe(){var e;const{t:s}=(0,p.B)(),[t,i]=(0,l.useState)(null),{counts:n}=(0,r.d4)((e=>e.statisticsCount),r.bN);return(0,l.useEffect)((()=>{ne.A.profileShow().then((e=>{let{data:s}=e;return i(s)}))}),[]),(0,k.jsxs)("div",{children:[(0,k.jsxs)(h.A,{gutter:16,className:"mt-3",children:[(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:s("total.orders"),value:n.orders_count})}),(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:s("in.progress.orders"),value:n.progress_orders_count})}),(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:s("cancelled.orders"),value:n.cancel_orders_count})}),(0,k.jsx)(v.A,{flex:"0 0 16.6%",children:(0,k.jsx)(_.A,{title:s("delivered.orders"),value:n.delivered_orders_count})})]}),(0,k.jsx)(h.A,{gutter:16,children:(0,k.jsx)(v.A,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,k.jsx)(S,{title:s("balance"),value:null===t||void 0===t||null===(e=t.wallet)||void 0===e?void 0:e.price})})})]})}var ae=t(32312);const de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"};var ce=function(e,s){return l.createElement(Z.A,(0,W.A)((0,W.A)({},e),{},{ref:s,icon:de}))};const ue=l.forwardRef(ce);function xe(){const{t:e}=(0,p.B)(),s=(0,r.wA)(),t=(0,j.Zp)(),{user:l}=(0,r.d4)((e=>e.auth),r.bN);return(0,k.jsx)(m.A,{children:(0,k.jsx)(ae.Ay,{icon:(0,k.jsx)(ue,{}),title:"".concat(e("welcome"),", ").concat(null===l||void 0===l?void 0:l.fullName),subTitle:e("welcome.manager"),extra:(0,k.jsx)(I.A,{type:"primary",onClick:()=>{s((0,i.X4)({id:"orders",url:"orders",name:e("orders")})),t("/orders")},children:e("get.started")})})})}function he(){const{t:e}=(0,p.B)(),s=(0,r.wA)(),t=(0,j.Zp)(),{user:l}=(0,r.d4)((e=>e.auth),r.bN);return(0,k.jsx)(m.A,{children:(0,k.jsx)(ae.Ay,{icon:(0,k.jsx)(ue,{}),title:"".concat(e("welcome"),", ").concat(null===l||void 0===l?void 0:l.fullName),subTitle:e("welcome.manager"),extra:(0,k.jsx)(I.A,{type:"primary",onClick:()=>{s((0,i.X4)({id:"orders",url:"seller/orders",name:e("orders")})),t("/seller/orders")},children:e("get.started")})})})}function ve(){const{t:e}=(0,p.B)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(z,{}),(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:e("last.30.days.statistics")})})}),(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:e("bookings.count.statistics")})})}),(0,k.jsx)(le,{isMaster:!0}),(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:e("bookings.percent.statistics")})})}),(0,k.jsx)(te,{isMaster:!0}),(0,k.jsx)(v.A,{span:24,children:(0,k.jsx)(m.A,{children:(0,k.jsx)("span",{style:{fontSize:"1rem"},children:e("bookings.total.statistics")})})}),(0,k.jsx)(re,{isMaster:!0})]})}function me(){const e=(0,r.wA)(),{activeMenu:s}=(0,r.d4)((e=>e.menu),r.bN),{user:t}=(0,r.d4)((e=>e.auth),r.bN),{loading:h}=(0,r.d4)((e=>e.statisticsCount),r.bN),{master:v}=(0,r.d4)((e=>e.bookingsReport),r.bN);(0,l.useEffect)((()=>{s.refetch&&(!function(){const s={time:"subMonth"},l={date_from:y()().subtract(30,"days").format("YYYY-MM-DD"),date_to:y()().format("YYYY-MM-DD")},r={date_from:y()().subtract(30,"days").format("YYYY-MM-DD"),date_to:y()().format("YYYY-MM-DD")};switch(null===t||void 0===t?void 0:t.role){case"admin":e((0,n.sz)(s)),e((0,o.lr)(s)),e((0,a.Qq)(s)),e((0,c.TZ)(s)),e((0,u.dt)(s)),e((0,x.nD)(l));break;case"manager":e((0,o.lr)(s)),e((0,a.Qq)(s));break;case"seller":e((0,n.Kr)(s)),e((0,a.ny)(s)),e((0,c._I)(s)),e((0,u.Uj)(s)),e((0,x.M0)(l));break;case"moderator":default:break;case"deliveryman":e((0,n.X7)({}));break;case"master":e((0,x.iq)(r))}}(),e((0,i.km)(s)))}),[s.refetch]);return(0,k.jsx)("div",{className:"h-100",children:h||v.loading?(0,k.jsx)(d.A,{size:"large"}):(()=>{switch(t.role){case"admin":return(0,k.jsx)(ie,{});case"manager":return(0,k.jsx)(xe,{});case"seller":return(0,k.jsx)(ie,{isSeller:!0});case"moderator":return(0,k.jsx)(he,{});case"deliveryman":return(0,k.jsx)(oe,{});case"waiter":return(0,k.jsx)(j.C5,{to:"/waiter/orders-board",replace:!0});case"master":return(0,k.jsx)(ve,{});default:return null}})()})}},74704:(e,s,t)=>{t.d(s,{A:()=>i});t(9950);var l=t(23263),r=t(44414);function i(e){let{title:s="Orders",value:t=0,color:i="grey",onClick:n}=e;return(0,r.jsx)(l.A,{className:"statistics-card",hoverable:!!n,onClick:n,children:(0,r.jsxs)("div",{className:"card-wrapper",children:[(0,r.jsx)("div",{className:"space"}),(0,r.jsx)("div",{className:"content",children:(0,r.jsx)("h1",{className:"number",children:t})}),(0,r.jsx)("span",{className:"highlighter ".concat(i)}),s&&(0,r.jsx)("h4",{className:"title",children:s})]})})}},52765:(e,s,t)=>{t.d(s,{A:()=>N});var l=t(64467),r=t(58168),i=t(9950),n=t(48738),o=t.n(n),a=t(14691),d=t(77643),c=t(60436),u=t(5544),x=t(15207),h=t(12578),v=function(e,s){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)s.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(t[l[r]]=e[l[r]])}return t},m=i.createContext(null),p=function(e,s){var t=e.defaultValue,n=e.children,a=e.options,d=void 0===a?[]:a,p=e.prefixCls,j=e.className,f=e.style,A=e.onChange,g=v(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),b=i.useContext(h.QO),w=b.getPrefixCls,N=b.direction,k=i.useState(g.value||t||[]),C=(0,u.A)(k,2),O=C[0],M=C[1],_=i.useState([]),S=(0,u.A)(_,2),z=S[0],F=S[1];i.useEffect((function(){"value"in g&&M(g.value||[])}),[g.value]);var Y=function(){return d.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},D=w("checkbox",p),E="".concat(D,"-group"),P=(0,x.A)(g,["value","disabled"]);d&&d.length>0&&(n=Y().map((function(e){return i.createElement(y,{prefixCls:D,key:e.value.toString(),disabled:"disabled"in e?e.disabled:g.disabled,value:e.value,checked:-1!==O.indexOf(e.value),onChange:e.onChange,className:"".concat(E,"-item"),style:e.style},e.label)})));var B={toggleOption:function(e){var s=O.indexOf(e.value),t=(0,c.A)(O);-1===s?t.push(e.value):t.splice(s,1),"value"in g||M(t);var l=Y();null===A||void 0===A||A(t.filter((function(e){return-1!==z.indexOf(e)})).sort((function(e,s){return l.findIndex((function(s){return s.value===e}))-l.findIndex((function(e){return e.value===s}))})))},value:O,disabled:g.disabled,name:g.name,registerValue:function(e){F((function(s){return[].concat((0,c.A)(s),[e])}))},cancelValue:function(e){F((function(s){return s.filter((function(s){return s!==e}))}))}},R=o()(E,(0,l.A)({},"".concat(E,"-rtl"),"rtl"===N),j);return i.createElement("div",(0,r.A)({className:R,style:f},P,{ref:s}),i.createElement(m.Provider,{value:B},n))},j=i.forwardRef(p);const f=i.memo(j);var A=function(e,s){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)s.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(t[l[r]]=e[l[r]])}return t},g=function(e,s){var t,n=e.prefixCls,c=e.className,u=e.children,x=e.indeterminate,v=void 0!==x&&x,p=e.style,j=e.onMouseEnter,f=e.onMouseLeave,g=e.skipGroup,b=void 0!==g&&g,y=A(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),w=i.useContext(h.QO),N=w.getPrefixCls,k=w.direction,C=i.useContext(m),O=(0,i.useContext)(d.$W).isFormItemInput,M=i.useRef(y.value);i.useEffect((function(){null===C||void 0===C||C.registerValue(y.value)}),[]),i.useEffect((function(){if(!b)return y.value!==M.current&&(null===C||void 0===C||C.cancelValue(M.current),null===C||void 0===C||C.registerValue(y.value),M.current=y.value),function(){return null===C||void 0===C?void 0:C.cancelValue(y.value)}}),[y.value]);var _=N("checkbox",n),S=(0,r.A)({},y);C&&!b&&(S.onChange=function(){y.onChange&&y.onChange.apply(y,arguments),C.toggleOption&&C.toggleOption({label:u,value:y.value})},S.name=C.name,S.checked=-1!==C.value.indexOf(y.value),S.disabled=y.disabled||C.disabled);var z=o()((t={},(0,l.A)(t,"".concat(_,"-wrapper"),!0),(0,l.A)(t,"".concat(_,"-rtl"),"rtl"===k),(0,l.A)(t,"".concat(_,"-wrapper-checked"),S.checked),(0,l.A)(t,"".concat(_,"-wrapper-disabled"),S.disabled),(0,l.A)(t,"".concat(_,"-wrapper-in-form-item"),O),t),c),F=o()((0,l.A)({},"".concat(_,"-indeterminate"),v)),Y=v?"mixed":void 0;return i.createElement("label",{className:z,style:p,onMouseEnter:j,onMouseLeave:f},i.createElement(a.A,(0,r.A)({"aria-checked":Y},S,{prefixCls:_,className:F,ref:s})),void 0!==u&&i.createElement("span",null,u))},b=i.forwardRef(g);b.displayName="Checkbox";const y=b;var w=y;w.Group=f,w.__ANT_CHECKBOX=!0;const N=w}}]);