"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7068],{35116:(e,t,a)=>{a.d(t,{A:()=>o});a(9950);var s=a(48538),c=a(44070),i=a(85923),n=a(70030),l=a(13311),r=a(44414);function o(e){let{size:t="",onClick:a,type:o="default",...d}=e;const{t:u}=(0,n.B)(),{isDemo:h}=(0,l.A)();return(0,r.jsx)(s.A,{size:t,icon:(0,r.jsx)(c.A,{}),onClick:e=>{h?i.oR.warning(u("cannot.work.demo")):a(e)},type:o,...d})}},28645:(e,t,a)=>{a.d(t,{A:()=>g});var s=a(9950),c=a(66362),i=a(69216),n=a(80737),l=a(25933),r=a(57811),o=a(81541),d=a(48538),u=a(89323),h=a(70030),v=a(44414);const{Text:m}=c.A,g=e=>{let{columns:t=[],setColumns:a,style:c,size:g="",iconOnly:p}=e;const{t:x}=(0,h.B)(),[A,y]=(0,s.useState)(!1),j=(0,v.jsx)(i.A,{children:null===t||void 0===t?void 0:t.map(((e,s)=>(0,v.jsx)(i.A.Item,{children:(0,v.jsxs)(n.A,{className:"d-flex justify-content-between",children:[(0,v.jsx)(m,{children:e.title}),(0,v.jsx)(l.A,{defaultChecked:!0,onClick:()=>function(e){const s=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(s)}(e),disabled:1===s})]})},e+s)))});return(0,v.jsx)(r.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{y(e)},visible:A,children:(0,v.jsx)(o.A,{title:x("change.columns"),children:(0,v.jsx)(d.A,{style:{...c},size:g,icon:(0,v.jsx)(u.A,{}),children:p?null:x("Columns")})})})}},8297:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(9950),c=a(55902),i=a(41397),n=a(60767),l=a(44414);function r(e){let{handleChange:t,defaultValue:a,resetSearch:r,...o}=e;const[d,u]=(0,s.useState)(a),h=(0,s.useMemo)((()=>(0,i.debounce)((e=>{t(e)}),800)),[]);return(0,s.useEffect)((()=>{u(a)}),[r]),(0,l.jsx)(c.A,{value:d,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,l.jsx)(n.A,{}),...o})}},8168:(e,t,a)=>{function s(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{A:()=>s})},27068:(e,t,a)=>{a.d(t,{A:()=>T});var s=a(9950),c=a(24513),i=a(12678),n=a(67376),l=a(44070),r=a(53387),o=a(13700),d=a(54909),u=a(80737),h=a(12916),v=a(72243),m=a(25933),g=a(48538),p=a(23263),x=a(52913),A=a(63620),y=a(55386),j=a(28429),f=a(85923),C=a(76083),b=a(91854),w=a(74623),k=a(62572),z=a(28264),_=a(70030),V=a(35116),H=a(28645),I=a(8297),S=a(88986),N=a(38525),M=a(8168),R=a(66133),W=a(59233),B=a(82706),E=a(87094),O=a(41988),D=a(99674),P=a(44414);const U=["published","pending","unpublished"];function X(e){let{categoryDetails:t,handleCancel:a,paramsData:c}=e;const{activeMenu:i}=(0,b.d4)((e=>e.menu),b.bN),[n]=W.A.useForm(),l=(0,b.wA)(),{t:r}=(0,_.B)(),[o,d]=(0,s.useState)(!1);return(0,P.jsx)(B.A,{visible:!!t,title:t.title,onCancel:a,footer:[(0,P.jsx)(g.A,{type:"primary",onClick:()=>n.submit(),loading:o,children:r("save")}),(0,P.jsx)(g.A,{type:"default",onClick:a,children:r("cancel")})],children:(0,P.jsx)(W.A,{form:n,layout:"vertical",onFinish:e=>{d(!0);const s={...e,type:"service"};k.A.statusUpdate(t.uuid,s).then((()=>{a(),l((0,R.Y)(c)),l((0,w.km)(i))})).finally((()=>d(!1)))},initialValues:{status:t.status},children:(0,P.jsx)(E.A,{gutter:12,children:(0,P.jsx)(O.A,{span:24,children:(0,P.jsx)(W.A.Item,{label:r("status"),name:"status",rules:[{required:!0,message:r("required")}],children:(0,P.jsx)(D.A,{children:U.map(((e,t)=>(0,P.jsx)(D.A.Option,{value:e,children:r(e)},e+t)))})})})})})})}const Y=["blue","red","gold","volcano","cyan","lime"],{TabPane:F}=d.A,K=["all","pending","published","unpublished"],T=e=>{var t,a,W,B,E,O,D,U;let{parentId:T,type:q="service",parent_type:$,isRefetch:Z=!1,handleAddAction:G=(()=>{})}=e;const{t:J}=(0,_.B)(),L=(0,b.wA)(),Q=(0,j.Zp)(),{state:ee}=(0,j.zy)(),{activeMenu:te}=(0,b.d4)((e=>e.menu),b.bN),[ae,se]=(0,s.useState)("all"),ce=(null===(t=te.data)||void 0===t?void 0:t.role)||ae,{uuid:ie}=(0,j.g)(),[ne,le]=(0,s.useState)(null),[re,oe]=(0,s.useState)(null);const de=()=>{T?G(T):(L((0,w.X4)({id:T?"sub-service-category":"service-category-add",url:"service-category/add",name:J(T?"sub.service.category":"add.service.category")})),Q("/service-category/add",{state:{parentId:T,parentUuid:ie}}))},ue=()=>{T?G(T):(L((0,w.X4)({url:"catalog/service-category/import",id:T?"sub_service_category_import":"service_category_import",name:J(T?"import.sub.service.category":"import.service.category")})),Q("/catalog/service-category/import",{state:{parentId:T,parentUuid:ie}}))},[he,ve]=(0,s.useState)([{title:J("id"),dataIndex:"id",key:"id",is_show:!0},{title:J("name"),dataIndex:"name",key:"name",is_show:!0},{title:J("translations"),dataIndex:"locales",is_show:!0,render:(e,t)=>{var a;return(0,P.jsx)(u.A,{children:null===(a=t.locales)||void 0===a?void 0:a.map(((e,t)=>(0,P.jsx)(h.A,{className:"text-uppercase",color:[Y[t]],children:e})))})}},{title:J("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,t)=>(0,P.jsx)(v.A,{src:e||"https://via.placeholder.com/150",alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0},e+t.id)},{title:J("active"),dataIndex:"active",is_show:!0,render:(e,t)=>(0,P.jsx)(m.A,{onChange:()=>{me(!0),pe(t.uuid),le(!0)},checked:e})},{title:J("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,P.jsxs)("div",{children:["pending"===e?(0,P.jsx)(h.A,{color:"blue",children:J(e)}):"unpublished"===e?(0,P.jsx)(h.A,{color:"error",children:J(e)}):(0,P.jsx)(h.A,{color:"cyan",children:J(e)}),(0,P.jsx)(c.A,{onClick:()=>oe(t)})]})},{title:J("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,P.jsxs)(u.A,{children:[(0,P.jsx)(g.A,{icon:(0,P.jsx)(i.A,{}),onClick:()=>function(e){L((0,w.X4)({url:"service-category/show/".concat(e.uuid),id:"service_category_show",name:J("service.category.show")})),Q("/service-category/show/".concat(e.uuid),{state:{parentId:T,parentUuid:ie}})}(t)}),(0,P.jsx)(g.A,{icon:(0,P.jsx)(n.A,{}),onClick:()=>{return e=t.uuid,L((0,w.X4)({id:T?"sub-category-clone":"service-category-clone",url:"service-category-clone/".concat(e),name:J(T?"sub.service.category":"service.category.clone")})),void Q("/service-category-clone/".concat(e),{state:{parentId:T,parentUuid:ie}});var e}}),(0,P.jsx)(g.A,{type:"primary",icon:(0,P.jsx)(c.A,{}),onClick:()=>function(e){L((0,w.X4)({url:"service-category/".concat(e.uuid),id:T?"service_category_sub_edit":"service_category_edit",name:J(T?"edit.sub.service.category":"edit.service.category")})),Q("/service-category/".concat(e.uuid),{state:{parentId:ie}})}(t)}),(0,P.jsx)(V.A,{icon:(0,P.jsx)(l.A,{}),onClick:()=>{pe([t.id]),me(!0),Ce(!0)}})]})}]),{setIsModalVisible:me}=(0,s.useContext)(y.o),[ge,pe]=(0,s.useState)(null),[xe,Ae]=(0,s.useState)(!1),[ye,je]=(0,s.useState)(!1),[fe,Ce]=(0,s.useState)(null),{serviceCategories:be,meta:we,loading:ke}=(0,b.d4)((e=>e.serviceCategories),b.bN),ze=te.data,_e={search:null===ze||void 0===ze?void 0:ze.search,perPage:(null===te||void 0===te||null===(a=te.data)||void 0===a?void 0:a.perPage)||10,page:(null===ze||void 0===ze?void 0:ze.page)||1,status:"all"===ce?void 0:ce,type:q,parent_id:T};(0,s.useEffect)((()=>{"child_service"===_e.type&&_e.parent_id===ee.parentId||(L((0,R.Y)(_e)),L((0,w.km)(te)))}),[te.refetch,q,T]),(0,s.useEffect)((()=>{Z&&L((0,R.Y)(_e))}),[Z]),(0,S.A)((()=>{L((0,R.Y)(_e))}),[te.data]);const Ve=()=>{je(!0),k.A.export(_e).then((e=>{const t=A.bb+e.data.file_name;window.location.href=t})).finally((()=>je(!1)))},He={selectedRowKeys:ge,onChange:e=>{pe(e)}},Ie=()=>{null===ge||0===ge.length?f.oR.warning(J("select.the.product")):(me(!0),Ce(!1))},Se=e=>{const t=te.data;L((0,w.Ok)({activeMenu:te,data:{...t,...e}}))},Ne=()=>{L((0,w.Ok)({activeMenu:te,data:void 0}))};return(0,P.jsxs)(P.Fragment,{children:[!T&&(0,P.jsx)(p.A,{className:"p-0",children:(0,P.jsxs)(u.A,{wrap:!0,size:[14,20],children:[(0,P.jsx)(I.A,{placeholder:J("search"),className:"w-25",handleChange:e=>{Se({search:e})},defaultValue:null===(W=te.data)||void 0===W?void 0:W.search,resetSearch:!(null!==(B=te.data)&&void 0!==B&&B.search),style:{minWidth:300}}),(0,P.jsx)(V.A,{size:"",onClick:Ie,children:J("delete.selected")}),(0,P.jsxs)(g.A,{style:{minWidth:150},onClick:ue,children:[(0,P.jsx)(N.I8R,{className:"mr-2"}),J("import")]}),(0,P.jsxs)(g.A,{style:{minWidth:150},loading:ye,onClick:Ve,children:[(0,P.jsx)(N.$tV,{className:"mr-2"}),J("export")]}),(0,P.jsx)(g.A,{type:"primary",icon:(0,P.jsx)(r.A,{}),onClick:de,children:J("add.service.category")}),(0,P.jsx)(g.A,{icon:(0,P.jsx)(o.A,{}),onClick:Ne,disabled:!te.data,style:{minWidth:100}}),(0,P.jsx)(H.A,{columns:he,setColumns:ve})]})}),(0,P.jsxs)(p.A,{title:J(T?"sub.service.category":"service.categories"),children:[T&&(0,P.jsxs)(u.A,{wrap:!0,size:[14,20],children:[(0,P.jsx)(I.A,{placeholder:J("search"),className:"w-25",handleChange:e=>{Se({search:e})},defaultValue:null===(E=te.data)||void 0===E?void 0:E.search,resetSearch:!(null!==(O=te.data)&&void 0!==O&&O.search),style:{minWidth:300}}),(0,P.jsx)(V.A,{size:"",onClick:Ie,children:J("delete.selected")}),(0,P.jsxs)(g.A,{style:{minWidth:150},onClick:ue,children:[(0,P.jsx)(N.I8R,{className:"mr-2"}),J("import")]}),(0,P.jsxs)(g.A,{style:{minWidth:150},loading:ye,onClick:Ve,children:[(0,P.jsx)(N.$tV,{className:"mr-2"}),J("export")]}),"sub_service"!==$&&(0,P.jsx)(g.A,{type:"primary",icon:(0,P.jsx)(r.A,{}),onClick:de,children:J("add.category")}),(0,P.jsx)(g.A,{icon:(0,P.jsx)(o.A,{}),onClick:Ne,disabled:!te.data,style:{minWidth:100}}),(0,P.jsx)(H.A,{columns:he,setColumns:ve})]}),(0,P.jsx)(d.A,{className:"mt-3",activeKey:ce,onChange:e=>{Se({role:e,page:1}),se(e)},type:"card",children:K.map((e=>(0,P.jsx)(F,{tab:J(e)},e)))}),(0,P.jsx)(x.A,{scroll:{x:!0},rowSelection:He,columns:null===he||void 0===he?void 0:he.filter((e=>e.is_show)),dataSource:be,pagination:{pageSize:(null===(D=te.data)||void 0===D?void 0:D.perPage)||10,page:(null===ze||void 0===ze?void 0:ze.page)||1,total:we.total,defaultCurrent:null===ze||void 0===ze?void 0:ze.page,current:null===(U=te.data)||void 0===U?void 0:U.page},rowKey:e=>e.id,onChange:function(e,t,a){const{pageSize:s,current:c}=e,{field:i,order:n}=a,l=(0,M.A)(n);L((0,w.Ok)({activeMenu:te,data:{...te.data,perPage:s,page:c,column:i,sort:l}}))},loading:ke})]}),(0,P.jsx)(C.A,{click:ne?()=>{Ae(!0),k.A.setActive(ge).then((()=>{me(!1),L((0,z.jE)(_e)),f.oR.success(J("successfully.updated")),le(!1)})).finally((()=>Ae(!1)))}:()=>{Ae(!0);const e={...Object.assign({},...ge.map(((e,t)=>({["ids[".concat(t,"]")]:e})))),type:"service"};k.A.delete(e).then((()=>{L((0,R.Y)(_e)),f.oR.success(J("successfully.deleted"))})).finally((()=>{me(!1),Ae(!1),Ce(null),pe(null)}))},text:J(ne?"set.active.category":fe?"delete":"all.delete"),setText:pe,loading:xe}),re&&(0,P.jsx)(X,{categoryDetails:re,handleCancel:()=>oe(null),paramsData:_e})]})}},13700:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(89379),c=a(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var n=a(25085),l=function(e,t){return c.createElement(n.A,(0,s.A)((0,s.A)({},e),{},{ref:t,icon:i}))};const r=c.forwardRef(l)},53387:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(89379),c=a(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var n=a(25085),l=function(e,t){return c.createElement(n.A,(0,s.A)((0,s.A)({},e),{},{ref:t,icon:i}))};const r=c.forwardRef(l)},89323:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(89379),c=a(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var n=a(25085),l=function(e,t){return c.createElement(n.A,(0,s.A)((0,s.A)({},e),{},{ref:t,icon:i}))};const r=c.forwardRef(l)}}]);