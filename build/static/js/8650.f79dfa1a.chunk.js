"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8650],{80415:(e,r,n)=>{n.d(r,{G:()=>i,HV:()=>l,LH:()=>a,PR:()=>t,wO:()=>d,xt:()=>s});const a={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},l=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),t=30,i="HH:mm",s="hh:mm a",d=!0},51066:(e,r,n)=>{n.d(r,{Q:()=>t});var a=n(17706),l=n(80415);const t=()=>{var e,r,n,t;return null!==(e=null===(r=a.M.getState())||void 0===r||null===(n=r.globalSettings)||void 0===n||null===(t=n.settings)||void 0===t?void 0:t.hour_format)&&void 0!==e?e:l.G}},48650:(e,r,n)=>{n.r(r),n.d(r,{default:()=>o});var a=n(23263),l=n(70030),t=n(25679),i=n(71999),s=n(84970),d=n(44414);const o=function(){const{t:e}=(0,l.B)();return(0,d.jsx)(a.A,{title:e("add.disabled.time"),extra:(0,d.jsx)(i.A,{}),children:(0,d.jsx)(t.A,{onSubmit:e=>s.A.create(e)})})}},25679:(e,r,n)=>{n.d(r,{A:()=>N});var a=n(59233),l=n(87094),t=n(40895),i=n(41988),s=n(55902),d=n(25933),o=n(86971),u=n(57796),c=n(99674),m=n(40577),v=n(48538);const p=["dont_repeat","day","week","month","custom"],h=["day","week","month"],j=["never","date","after"],x=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];var A=n(70030),f=n(9950),_=n(59051),y=n.n(_),g=n(85923),b=n(91854),w=n(74623),k=n(28429),q=n(48676),P=n(51066),I=n(44414);const N=function(e){let{initialValues:r={},onSubmit:n}=e;const{t:_}=(0,A.B)(),N=(0,b.wA)(),O=(0,k.Zp)(),{activeMenu:E}=(0,b.d4)((e=>e.menu)),[C,S]=(0,f.useState)((null===r||void 0===r?void 0:r.repeats)||""),[H,D]=(0,f.useState)((null===r||void 0===r?void 0:r.end_type)||""),[Y,M]=(0,f.useState)((null===r||void 0===r?void 0:r.custom_repeat_type)||""),[R,F]=(0,f.useState)(!1),{defaultLang:L,languages:T}=(0,b.d4)((e=>e.formLang),b.bN),V=(0,b.d4)((e=>{var r,n;return null===(r=e.globalSettings)||void 0===r||null===(n=r.settings)||void 0===n?void 0:n.using_12_hour_format}),b.bN),z=(0,P.Q)();return(0,I.jsxs)(a.A,{initialValues:r,layout:"vertical",onFinish:e=>{var r,a,l;F(!0);const t="master/disabled-times",i=void 0!==e.end_value?"date"===H?y()(null===e||void 0===e?void 0:e.end_value_date).format("YYYY-MM-DD"):null===e||void 0===e?void 0:e.end_value_number:void 0,s="custom"===C?"week"===Y?[null===e||void 0===e||null===(r=e.custom_repeat_value)||void 0===r?void 0:r.every,...null===e||void 0===e||null===(a=e.custom_repeat_value)||void 0===a?void 0:a.weekDays]:[null===e||void 0===e||null===(l=e.custom_repeat_value)||void 0===l?void 0:l.every]:void 0,d={...e,date:y()(null===e||void 0===e?void 0:e.date).format("YYYY-MM-DD"),from:y()(null===e||void 0===e?void 0:e.from).format("HH:mm"),to:y()(null===e||void 0===e?void 0:e.to).format("HH:mm"),end_value:i,can_booking:null!==e&&void 0!==e&&e.can_booking?1:0,custom_repeat_value:s};return delete d.end_value_date,delete d.end_value_number,n(d).then((()=>{g.oR.success("successfully.added"),(0,b.vA)((()=>{N((0,w.EK)({...E,nextUrl:t})),N((0,q.nP)({})),O("/"+t)}))})).finally((()=>{F(!1)}))},children:[(0,I.jsxs)(l.A,{gutter:24,children:[(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:_("overview")}),(0,I.jsx)(i.A,{span:8,children:T.map((e=>(0,I.jsx)(a.A.Item,{label:_("name"),name:"title[".concat(e.locale,"]"),rules:[{validator:(r,n)=>n||(null===e||void 0===e?void 0:e.locale)!==L?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(_("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.length)<2?Promise.reject(new Error(_("min.2.letters"))):Promise.resolve():Promise.reject(new Error(_("required")))}],hidden:e.locale!==L,children:(0,I.jsx)(s.A,{})},"title"+e.id)))}),(0,I.jsx)(i.A,{span:8,children:T.map((e=>(0,I.jsx)(a.A.Item,{label:_("description"),name:"description[".concat(e.locale,"]"),rules:[{validator:(r,n)=>n||(null===e||void 0===e?void 0:e.locale)!==L?n&&""===(null===n||void 0===n?void 0:n.trim())?Promise.reject(new Error(_("no.empty.space"))):n&&(null===n||void 0===n?void 0:n.trim().length)<5?Promise.reject(new Error(_("must.be.at.least.5"))):Promise.resolve():Promise.reject(new Error(_("required")))}],hidden:e.locale!==L,children:(0,I.jsx)(s.A,{maxLength:150})},"description"+e.locale)))}),(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:"can_booking",label:_("can.booking"),valuePropName:"can_booking",children:(0,I.jsx)(d.A,{defaultChecked:r.can_booking})})}),(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:_("date")}),(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:"date",label:_("date"),rules:[{required:!0,message:_("required")}],children:(0,I.jsx)(o.A,{className:"w-100"})})}),(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:"from",label:_("from"),rules:[{required:!0,message:_("required")}],children:(0,I.jsx)(u.A,{format:z,use12Hour:"1"===V,className:"w-100"})})}),(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:"to",label:_("to"),rules:[{required:!0,message:_("required")}],children:(0,I.jsx)(u.A,{format:z,use12Hour:"1"===V,className:"w-100"})})}),(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:_("repeat")}),(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:"repeats",label:_("repeats"),rules:[{required:!0,message:_("required")}],help:"month"===C?"Repeat on the ".concat(y()().date()," of every month"):void 0,children:(0,I.jsx)(c.A,{onChange:S,children:p.map((e=>(0,I.jsx)(c.A.Option,{value:e,children:_(e)},e)))})})}),"custom"===C&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:_("custom.repeat")}),(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{label:_("every"),children:(0,I.jsxs)(l.A,{children:[(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:["custom_repeat_value","every"],rules:[{required:!0,message:_("required")}],children:(0,I.jsx)(m.A,{min:1,className:"w-100"})})}),(0,I.jsx)(i.A,{span:16,children:(0,I.jsx)(a.A.Item,{name:["custom_repeat_type"],rules:[{required:!0,message:_("required")}],children:(0,I.jsx)(c.A,{onChange:M,children:h.map((e=>(0,I.jsx)(c.A.Option,{value:e,children:_(e)},e)))})})})]})})}),"week"===Y&&(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:["custom_repeat_value","weekDays"],rules:[{required:!0,message:_("required")}],label:_("on.days"),children:(0,I.jsx)(c.A,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",children:x.map((e=>(0,I.jsx)(c.A.Option,{value:e,children:_(e)},e)))})})})]}),"dont_repeat"!==C&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(t.A,{orientation:"left",plain:!0,children:_("ends")}),(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:"end_type",label:_("end.type"),rules:[{required:!0,message:_("required")}],children:(0,I.jsx)(c.A,{onChange:D,children:j.map((e=>(0,I.jsx)(c.A.Option,{value:e,children:_(e)},e)))})})}),"date"===H?(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:"end_value_date",label:_("end.value"),rules:[{required:!0,message:_("required")}],children:(0,I.jsx)(o.A,{className:"w-100"})})}):"after"===H?(0,I.jsx)(i.A,{span:8,children:(0,I.jsx)(a.A.Item,{name:"end_value_number",label:_("occurrences"),rules:[{required:!0,message:_("required")}],children:(0,I.jsx)(m.A,{min:1,className:"w-100"})})}):null]})]}),(0,I.jsx)(v.A,{type:"primary",htmlType:"submit",loading:R,children:_("submit")})]})}},57796:(e,r,n)=>{n.d(r,{A:()=>c});var a=n(58168),l=n(9950),t=n(86971),i=function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n},s=t.A.TimePicker,d=t.A.RangePicker,o=l.forwardRef((function(e,r){return l.createElement(d,(0,a.A)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:r}))})),u=l.forwardRef((function(e,r){var n=e.addon,t=e.renderExtraFooter,d=e.popupClassName,o=i(e,["addon","renderExtraFooter","popupClassName"]),u=l.useMemo((function(){return t||(n||void 0)}),[n,t]);return l.createElement(s,(0,a.A)({},o,{dropdownClassName:d,mode:void 0,ref:r,renderExtraFooter:u}))}));u.displayName="TimePicker",u.RangePicker=o;const c=u}}]);