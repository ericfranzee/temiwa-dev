"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6668],{35116:(e,t,l)=>{l.d(t,{A:()=>r});l(9950);var a=l(48538),i=l(44070),n=l(85923),d=l(70030),s=l(13311),o=l(44414);function r(e){let{size:t="",onClick:l,type:r="default",...c}=e;const{t:u}=(0,d.B)(),{isDemo:v}=(0,s.A)();return(0,o.jsx)(a.A,{size:t,icon:(0,o.jsx)(i.A,{}),onClick:e=>{v?n.oR.warning(u("cannot.work.demo")):l(e)},type:r,...c})}},16668:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var a=l(9950),i=l(12678),n=l(29633),d=l(80737),s=l(48538),o=l(23263),r=l(52913),c=l(85923),u=l(76083),v=l(55386),x=l(91854),m=l(74623),h=l(88986),p=l(8168),g=l(70030),f=l(47526),y=l(89702),w=l(59051),k=l.n(w),A=l(28429),j=l(35116),C=l(28645),_=l(1160),b=l(44414);function S(){const{t:e}=(0,g.B)(),t=(0,x.wA)(),l=(0,A.Zp)(),[w,S]=(0,a.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:a=>(0,b.jsxs)("div",{className:"text-hover",onClick:()=>(a=>{t((0,m.X4)({id:"order_details",url:"order/details/".concat(a),name:e("order.details")})),l("/order/details/".concat(a))})(null===a||void 0===a?void 0:a.id),children:["#",null===a||void 0===a?void 0:a.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,b.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,b.jsx)(n.A,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>k()(e).format("DD.MM.YYYY")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,b.jsx)(d.A,{children:(0,b.jsx)(s.A,{type:"primary",icon:(0,b.jsx)(i.A,{}),onClick:()=>P(t.id)})})}]),{setIsModalVisible:z}=(0,a.useContext)(v.o),[I,M]=(0,a.useState)(null),[N,P]=(0,a.useState)(null),[R,Y]=(0,a.useState)(!1),[D,$]=(0,a.useState)(null),{activeMenu:B}=(0,x.d4)((e=>e.menu),x.bN),{reviews:O,meta:V,loading:E,params:H}=(0,x.d4)((e=>e.deliveryboyReview),x.bN),K=B.data,T={sort:null===K||void 0===K?void 0:K.sort,column:null===K||void 0===K?void 0:K.column,perPage:null===K||void 0===K?void 0:K.perPage,page:null===K||void 0===K?void 0:K.page,assign:"deliveryman"};(0,a.useEffect)((()=>{B.refetch&&(t((0,_.$r)(T)),t((0,m.km)(B)))}),[B.refetch]),(0,h.A)((()=>{t((0,_.$r)(T))}),[B.data]);const X={id:I,onChange:e=>{M(e)}};return(0,b.jsxs)(o.A,{title:e("deliveryboy.reviews"),extra:(0,b.jsxs)(d.A,{wrap:!0,children:[(0,b.jsx)(j.A,{size:"",onClick:()=>{null===I||0===I.length?c.oR.warning(e("select.the.product")):(z(!0),$(!1))},children:e("delete.selected")}),(0,b.jsx)(C.A,{columns:w,setColumns:S})]}),children:[(0,b.jsx)(r.A,{scroll:{x:!0},rowSelection:X,columns:null===w||void 0===w?void 0:w.filter((e=>e.is_show)),dataSource:O,pagination:{pageSize:H.perPage,page:H.page,total:V.total,defaultCurrent:H.page},rowKey:e=>e.id,onChange:function(e,l,a){const{pageSize:i,current:n}=e,{field:d,order:s}=a,o=(0,p.A)(s);t((0,m.Ok)({activeMenu:B,data:{perPage:i,page:n,column:d,sort:o}}))},loading:E}),(0,b.jsx)(u.A,{click:()=>{Y(!0);const l={...Object.assign({},...I.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};f.A.delete(l).then((()=>{c.oR.success(e("successfully.deleted")),t((0,_.$r)()),z(!1)})).finally((()=>Y(!1)))},text:e(D?"delete":"all.delete"),setText:M,loading:R}),N&&(0,b.jsx)(y.A,{id:N,handleCancel:()=>P(null)})]})}}}]);