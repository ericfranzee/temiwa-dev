"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1687,2952],{53196:(e,s,i)=>{i.d(s,{A:()=>l});var r=i(82371);const l={getAll:e=>r.A.get("dashboard/admin/subscriptions",{params:e}),getById:(e,s)=>r.A.get("dashboard/admin/subscriptions/".concat(e),{params:s}),update:(e,s)=>r.A.put("dashboard/admin/subscriptions/".concat(e),s),create:e=>r.A.post("dashboard/admin/subscriptions",e)}},81687:(e,s,i)=>{i.r(s),i.d(s,{default:()=>k});var r=i(9950),l=i(23263),a=i(80737),t=i(48538),n=i(87094),c=i(41988),d=i(74947),m=i(90650),o=i(53196),h=i(91854),u=i(70030),x=i(32952),p=i(59233),j=i(82706),A=i(55902),b=i(40577),v=i(25933),f=i(44414);function g(e){let{modal:s,handleCancel:i,refetch:l}=e;const[a]=p.A.useForm(),{t:d}=(0,u.B)(),[m,h]=(0,r.useState)(!1);return(0,f.jsx)(j.A,{visible:!!s,title:d("add.subscription"),onCancel:i,style:{minWidth:800},footer:[(0,f.jsx)(t.A,{type:"primary",onClick:()=>a.submit(),loading:m,children:d("save")},"save-btn"),(0,f.jsx)(t.A,{type:"default",onClick:i,children:d("cancel")},"cancel-btn")],children:(0,f.jsx)(p.A,{form:a,layout:"vertical",onFinish:e=>{const s={...e,active:Number(e.active),with_report:Number(e.with_report),type:"shop"};h(!0),o.A.create(s).then((()=>{i(),l()})).finally((()=>h(!1)))},initialValues:{active:!0,with_report:!0,...s},children:(0,f.jsxs)(n.A,{gutter:12,children:[(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(p.A.Item,{label:d("title"),name:"title",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(A.A,{})})}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(p.A.Item,{label:d("period"),name:"month",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(b.A,{min:0,max:12,className:"w-100"})})}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(p.A.Item,{label:d("product_limit"),name:"product_limit",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(b.A,{min:0,className:"w-100"})})}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(p.A.Item,{label:d("order_limit"),name:"order_limit",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(b.A,{min:0,className:"w-100"})})}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(p.A.Item,{label:d("price"),name:"price",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(b.A,{min:0,className:"w-100"})})}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(p.A.Item,{label:d("booking.limit"),name:"booking_limit",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(b.A,{min:0,className:"w-100"})})}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(p.A.Item,{label:d("with_report"),name:"with_report",rules:[{required:!0,message:d("required")}],children:(0,f.jsx)(v.A,{})})}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(p.A.Item,{label:d("active"),name:"active",valuePropName:"checked",children:(0,f.jsx)(v.A,{})})})]})})})}var N=i(53387),y=i(24513),w=i(74623);const q=[],k=()=>{const{t:e}=(0,u.B)(),{defaultCurrency:s}=(0,h.d4)((e=>e.currency),h.bN),[i,p]=(0,r.useState)(null),[j,A]=(0,r.useState)(null),[b,v]=(0,r.useState)(!1),[k,_]=(0,r.useState)([]),I=k.length,C=(0,h.wA)(),{activeMenu:S}=(0,h.d4)((e=>e.menu),h.bN),z=()=>{v(!0),o.A.getAll().then((e=>{_(e.data)})).finally((()=>{v(!1),C((0,w.km)(S))}))};return(0,r.useEffect)((()=>{S.refetch&&z()}),[S.refetch]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.A,{className:"h-100",extra:(0,f.jsx)(a.A,{children:(0,f.jsx)(t.A,{type:"primary",icon:(0,f.jsx)(N.A,{}),onClick:()=>p(!0),children:e("add.subscription")})}),children:b?(0,f.jsx)(c.A,{className:"ant-col-spin d-flex justify-content-center",children:(0,f.jsx)(m.A,{size:"large"})}):(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"text-center mb-4",children:[(0,f.jsx)("h2",{className:"font-weight-semibold",children:"Pick a base plan"}),(0,f.jsx)(n.A,{type:"flex",justify:"center",children:(0,f.jsx)(c.A,{sm:24,md:12,lg:8,children:(0,f.jsx)("p",{children:"Space, the final frontier. These are the voyages of the Starship Enterprise. Its five-year mission."})})})]}),(0,f.jsx)(n.A,{children:k.map(((i,r)=>(0,f.jsx)(c.A,{span:6,className:I===r+1?"":"border-right",children:(0,f.jsxs)("div",{className:"p-3",children:[(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsxs)("h1",{className:"display-4 mt-4",children:["before"===(null===s||void 0===s?void 0:s.position)&&(0,f.jsx)("span",{className:"font-size-md d-inline-block mr-1",style:{transform:"translate(0px, -17px)"},children:null===s||void 0===s?void 0:s.symbol}),(0,f.jsx)("span",{children:i.price}),"after"===(null===s||void 0===s?void 0:s.position)&&(0,f.jsx)("span",{className:"font-size-md d-inline-block mr-1",style:{transform:"translate(0px, -17px)"},children:null===s||void 0===s?void 0:s.symbol})]}),(0,f.jsxs)("p",{className:"mb-0 text-lowercase",children:[i.month," ",e("month")]})]}),(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsxs)("h2",{className:"text-center font-weight-semibold cursor-pointer",onClick:()=>A(i),children:[i.title," ",(0,f.jsx)("span",{className:"ant-btn-link",children:(0,f.jsx)(y.A,{})})]})}),(0,f.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,f.jsx)("div",{children:null===q||void 0===q?void 0:q.map(((e,s)=>(0,f.jsxs)("p",{children:[(0,f.jsx)(d.A,{color:"blue"}),(0,f.jsx)("span",{children:e})]},"pricing-feature-".concat(s))))})})]})},"price-column-".concat(r))))})]})}),j&&(0,f.jsx)(x.default,{modal:j,handleCancel:()=>A(null),refetch:z}),i&&(0,f.jsx)(g,{modal:i,handleCancel:()=>p(null),refetch:z})]})}},32952:(e,s,i)=>{i.r(s),i.d(s,{default:()=>j});var r=i(9950),l=i(59233),a=i(82706),t=i(48538),n=i(87094),c=i(41988),d=i(55902),m=i(40577),o=i(25933),h=i(70030),u=i(53196),x=i(81446),p=i(44414);function j(e){let{modal:s,handleCancel:i,refetch:j}=e;const[A]=l.A.useForm(),{t:b}=(0,h.B)(),[v,f]=(0,r.useState)(!1),[g,N]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{N(!0),u.A.getById(s.id).then((e=>{console.log("data",e.data),A.setFieldsValue({...e.data})})).finally((()=>N(!1)))}),[s]),(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(a.A,{visible:!!s,title:b("edit.subscription"),onCancel:i,style:{minWidth:800},footer:[(0,p.jsx)(t.A,{type:"primary",onClick:()=>A.submit(),loading:v,children:b("save")},"save-btn"),(0,p.jsx)(t.A,{type:"default",onClick:i,children:b("cancel")},"cancel-btn")],children:g?(0,p.jsx)(x.A,{}):(0,p.jsx)(l.A,{form:A,layout:"vertical",onFinish:e=>{const r={...e,active:Number(e.active),with_report:Number(e.with_report),type:"shop"};f(!0),u.A.update(s.id,r).then((()=>{i(),j()})).finally((()=>f(!1)))},initialValues:{active:Boolean(null===s||void 0===s?void 0:s.active),with_report:Boolean(null===s||void 0===s?void 0:s.with_report),...s},children:(0,p.jsxs)(n.A,{gutter:12,children:[(0,p.jsx)(c.A,{span:12,children:(0,p.jsx)(l.A.Item,{label:b("title"),name:"title",rules:[{required:!0,message:b("required")}],children:(0,p.jsx)(d.A,{})})}),(0,p.jsx)(c.A,{span:12,children:(0,p.jsx)(l.A.Item,{label:b("period"),name:"month",rules:[{required:!0,message:b("required")}],children:(0,p.jsx)(m.A,{min:0,max:12,className:"w-100"})})}),(0,p.jsx)(c.A,{span:12,children:(0,p.jsx)(l.A.Item,{label:b("product_limit"),name:"product_limit",rules:[{required:!0,message:b("required")}],children:(0,p.jsx)(m.A,{min:0,className:"w-100"})})}),(0,p.jsx)(c.A,{span:12,children:(0,p.jsx)(l.A.Item,{label:b("order_limit"),name:"order_limit",rules:[{required:!0,message:b("required")}],children:(0,p.jsx)(m.A,{min:0,className:"w-100"})})}),(0,p.jsx)(c.A,{span:12,children:(0,p.jsx)(l.A.Item,{label:b("price"),name:"price",rules:[{required:!0,message:b("required")}],children:(0,p.jsx)(m.A,{min:0,className:"w-100"})})}),(0,p.jsx)(c.A,{span:12,children:(0,p.jsx)(l.A.Item,{label:b("booking.limit"),name:"booking_limit",rules:[{required:!0,message:b("required")}],children:(0,p.jsx)(m.A,{min:0,className:"w-100"})})}),(0,p.jsx)(c.A,{span:12,children:(0,p.jsx)(l.A.Item,{label:b("with_report"),name:"with_report",valuePropName:"checked",children:(0,p.jsx)(o.A,{})})}),(0,p.jsx)(c.A,{span:12,children:(0,p.jsx)(l.A.Item,{label:b("active"),name:"active",valuePropName:"checked",children:(0,p.jsx)(o.A,{})})})]})})})})}},53387:(e,s,i)=>{i.d(s,{A:()=>c});var r=i(89379),l=i(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var t=i(25085),n=function(e,s){return l.createElement(t.A,(0,r.A)((0,r.A)({},e),{},{ref:s,icon:a}))};const c=l.forwardRef(n)}}]);