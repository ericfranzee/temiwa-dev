"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8630],{98630:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var d=a(9950),l=a(12678),s=a(29633),r=a(80737),i=a(48538),o=a(23263),n=a(52913),u=a(85923),c=a(76083),v=a(55386),h=a(91854),p=a(74623),x=a(88986),g=a(8168),m=a(70030),f=a(47526),j=a(25966),w=a(89702),k=a(59051),A=a.n(k),y=a(28429),C=a(28645),_=a(44414);function S(){const{t:e}=(0,m.B)(),t=(0,h.wA)(),a=(0,y.Zp)(),[k,S]=(0,d.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:d=>(0,_.jsxs)("div",{className:"text-hover",onClick:()=>(d=>{t((0,p.X4)({id:"order_details",url:"seller/order/details/".concat(d),name:e("order.details")})),a("/seller/order/details/".concat(d))})(null===d||void 0===d?void 0:d.id),children:["#",null===d||void 0===d?void 0:d.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,_.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("shop"),dataIndex:"order",key:"shop",is_show:!0,render:e=>{var t,a;return(0,_.jsx)("div",{className:"text-hover",children:null===(t=e.shop)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,_.jsx)(s.A,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>A()(e).format("DD.MM.YYYY")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,_.jsx)(r.A,{children:(0,_.jsx)(i.A,{type:"primary",icon:(0,_.jsx)(l.A,{}),onClick:()=>z(t.id)})})}]),{setIsModalVisible:b}=(0,d.useContext)(v.o),[I,M]=(0,d.useState)(null),[N,z]=(0,d.useState)(null),[P,Y]=(0,d.useState)(!1),[D,O]=(0,d.useState)(null),{activeMenu:R}=(0,h.d4)((e=>e.menu),h.bN),{reviews:V,meta:B,loading:E,params:K}=(0,h.d4)((e=>e.orderReview),h.bN);(0,d.useEffect)((()=>{R.refetch&&(t((0,j.ju)()),t((0,p.km)(R)))}),[R.refetch]),(0,x.A)((()=>{const e=R.data,a={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,j.ju)(a))}),[R.data]);const T={id:I,onChange:e=>{M(e)}};return(0,_.jsxs)(o.A,{title:e("order.reviews"),extra:(0,_.jsx)(r.A,{wrap:!0,children:(0,_.jsx)(C.A,{columns:k,setColumns:S})}),children:[(0,_.jsx)(n.A,{scroll:{x:!0},rowSelection:T,columns:null===k||void 0===k?void 0:k.filter((e=>e.is_show)),dataSource:V,pagination:{pageSize:K.perPage,page:K.page,total:B.total,defaultCurrent:K.page},rowKey:e=>e.id,onChange:function(e,a,d){const{pageSize:l,current:s}=e,{field:r,order:i}=d,o=(0,g.A)(i);t((0,p.Ok)({activeMenu:R,data:{perPage:l,page:s,column:r,sort:o}}))},loading:E}),(0,_.jsx)(c.A,{click:()=>{Y(!0);const a={...Object.assign({},...I.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};f.A.delete(a).then((()=>{u.oR.success(e("successfully.deleted")),t((0,j.ju)()),b(!1)})).finally((()=>Y(!1)))},text:e(D?"delete":"all.delete"),setText:M,loading:P}),N&&(0,_.jsx)(w.A,{id:N,handleCancel:()=>z(null)})]})}}}]);