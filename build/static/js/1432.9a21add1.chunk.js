"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1432],{84509:(e,t,l)=>{l.d(t,{A:()=>o});l(9950);var n=l(28429),a=l(23263),i=l(48538),c=l(91854),s=l(74623),r=l(53387),d=l(44414);const o=e=>{let{children:t,containerName:l,headerTitle:o,subtitle:u,navLInkTo:h,buttonTitle:A,state:m}=e;const x=(0,c.wA)(),j=(0,n.Zp)();return(0,d.jsx)("div",{className:l,children:(0,d.jsx)(a.A,{title:o,extra:A?(0,d.jsx)(i.A,{type:"primary",icon:(0,d.jsx)(r.A,{}),onClick:()=>{let e="";const t=h.split("");"/"===t[0]&&t.shift(),e=t.join("");const l={id:e,url:e,name:A};x((0,s.X4)(l)),j(h)},children:A}):null,children:t})})}},41064:(e,t,l)=>{function n(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===t||void 0===t||!t.translations)return{};const{translations:n}=t,a=(e,t)=>{const l=null===n||void 0===n?void 0:n.find((t=>(null===t||void 0===t?void 0:t.locale)===(null===e||void 0===e?void 0:e.locale)));return l||{[t]:""}},i=e.flatMap((e=>l.flatMap((t=>({["".concat(t,"[").concat(null===e||void 0===e?void 0:e.locale,"]")]:a(e,t)[t]})))));return Object.assign({},...i)}l.d(t,{A:()=>n})},31281:(e,t,l)=>{function n(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const n=e.map((e=>({[e.locale]:""===t["".concat(l,"[").concat(e.locale,"]")]?void 0:t["".concat(l,"[").concat(e.locale,"]")]})));return Object.assign({},...n)}l.d(t,{A:()=>n})},21432:(e,t,l)=>{l.r(t),l.d(t,{default:()=>q});var n=l(9950),a=l(25933),i=l(52913),c=l(55386),s=l(84509),r=l(76083),d=l(91854),o=l(53496),u=l(74623),h=l(34996),A=l(70030),m=l(59233),x=l(82706),j=l(48538),v=l(87094),f=l(41988),p=l(55902),g=l(81446),b=l(71999),y=l(31281),_=l(41064),k=l(44414);function C(e){let{modal:t,handleCancel:l}=e;const{activeMenu:a}=(0,d.d4)((e=>e.menu),d.bN),{languages:i,defaultLang:c}=(0,d.d4)((e=>e.formLang),d.bN),[s]=m.A.useForm(),r=(0,d.wA)(),{t:o}=(0,A.B)(),[C,q]=(0,n.useState)(!1),[I,w]=(0,n.useState)(!1);(0,n.useEffect)((()=>{var e;t&&(e=t.id,q(!0),h.A.getById(e).then((e=>{let{data:t}=e;const l=(0,_.A)(i,t,["title","client_title","secret_title"]);s.setFieldsValue({...t,...l})})).finally((()=>q(!1))))}),[t]);return(0,k.jsx)(x.A,{visible:!!t,title:o("edit.payment"),onCancel:l,footer:[(0,k.jsx)(j.A,{type:"primary",onClick:()=>s.submit(),loading:I,children:o("save")},"save-btn"),(0,k.jsx)(j.A,{type:"default",onClick:l,children:o("cancel")},"cancel-btn")],children:C?(0,k.jsx)(g.A,{}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"d-flex justify-content-end",children:(0,k.jsx)(b.A,{})}),(0,k.jsx)(m.A,{form:s,layout:"vertical",onFinish:e=>{const n={client_id:e.client_id,secret_id:e.secret_id,title:(0,y.A)(i,e,"title"),client_title:(0,y.A)(i,e,"client_title"),secret_title:(0,y.A)(i,e,"secret_title")};w(!0),h.A.update(t.id,n).then((()=>{l(),r((0,u.Ms)(a))})).finally((()=>w(!1)))},children:(0,k.jsxs)(v.A,{gutter:12,children:[(0,k.jsx)(f.A,{span:24,children:i.map((e=>(0,k.jsx)(m.A.Item,{label:o("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===c,message:o("required")}],hidden:e.locale!==c,children:(0,k.jsx)(p.A,{})})))}),(0,k.jsx)(f.A,{span:24,children:i.map((e=>(0,k.jsx)(m.A.Item,{label:o("client.title"),name:"client_title[".concat(e.locale,"]"),rules:[{required:e.locale===c,message:o("required")}],hidden:e.locale!==c,children:(0,k.jsx)(p.A,{})})))}),(0,k.jsx)(f.A,{span:24,children:i.map((e=>(0,k.jsx)(m.A.Item,{label:o("secret.title"),name:"secret_title[".concat(e.locale,"]"),rules:[{required:e.locale===c,message:o("requried")}],hidden:e.locale!==c,children:(0,k.jsx)(p.A,{})})))}),(0,k.jsx)(f.A,{span:24,children:(0,k.jsx)(m.A.Item,{label:o("client.id"),name:"client_id",rules:[{required:!0,message:o("required")}],children:(0,k.jsx)(p.A,{})})}),(0,k.jsx)(f.A,{span:24,children:(0,k.jsx)(m.A.Item,{label:o("secret.id"),name:"secret_id",rules:[{required:!0,message:o("required")}],children:(0,k.jsx)(p.A,{})})})]})})]})})}function q(){const{t:e}=(0,A.B)(),[t,l]=(0,n.useState)(null),[m,x]=(0,n.useState)(null),[j,v]=(0,n.useState)(!1),{setIsModalVisible:f}=(0,n.useContext)(c.o),{payments:p,loading:g}=(0,d.d4)((e=>e.payment),d.bN),{activeMenu:b}=(0,d.d4)((e=>e.menu),d.bN),y=(0,d.wA)(),_=[{title:e("title"),dataIndex:"tag",key:"tag"},{title:e("active"),dataIndex:"active",key:"active",render:(e,t)=>(0,k.jsx)(a.A,{onChange:()=>{f(!0),l(t.id)},checked:e})}];return(0,n.useEffect)((()=>{b.refetch&&(y((0,o.CK)()),y((0,u.km)(b)))}),[b.refetch]),(0,k.jsxs)(s.A,{headerTitle:e("payments"),children:[(0,k.jsx)(i.A,{scroll:{x:!0},columns:_,dataSource:p,rowKey:e=>e.id,loading:g,pagination:!1}),(0,k.jsx)(r.A,{click:function(){v(!0),h.A.setActive(t).then((()=>{f(!1),l(null),y((0,o.CK)())})).finally((()=>v(!1)))},text:e("set.active.payment"),loading:j}),m&&(0,k.jsx)(C,{modal:m,handleCancel:()=>x(null)})]})}},53387:(e,t,l)=>{l.d(t,{A:()=>r});var n=l(89379),a=l(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var c=l(25085),s=function(e,t){return a.createElement(c.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:i}))};const r=a.forwardRef(s)}}]);