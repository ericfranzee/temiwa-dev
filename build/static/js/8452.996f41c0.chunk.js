"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8452],{35116:(e,l,a)=>{a.d(l,{A:()=>d});a(9950);var t=a(48538),n=a(44070),i=a(85923),s=a(70030),o=a(13311),r=a(44414);function d(e){let{size:l="",onClick:a,type:d="default",...c}=e;const{t:u}=(0,s.B)(),{isDemo:m}=(0,o.A)();return(0,r.jsx)(t.A,{size:l,icon:(0,r.jsx)(n.A,{}),onClick:e=>{m?i.oR.warning(u("cannot.work.demo")):a(e)},type:d,...c})}},28645:(e,l,a)=>{a.d(l,{A:()=>p});var t=a(9950),n=a(66362),i=a(69216),s=a(80737),o=a(25933),r=a(57811),d=a(81541),c=a(48538),u=a(89323),m=a(70030),v=a(44414);const{Text:h}=n.A,p=e=>{let{columns:l=[],setColumns:a,style:n,size:p="",iconOnly:g}=e;const{t:A}=(0,m.B)(),[x,j]=(0,t.useState)(!1),y=(0,v.jsx)(i.A,{children:null===l||void 0===l?void 0:l.map(((e,t)=>(0,v.jsx)(i.A.Item,{children:(0,v.jsxs)(s.A,{className:"d-flex justify-content-between",children:[(0,v.jsx)(h,{children:e.title}),(0,v.jsx)(o.A,{defaultChecked:!0,onClick:()=>function(e){const t=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));a(t)}(e),disabled:1===t})]})},e+t)))});return(0,v.jsx)(r.A,{overlay:y,trigger:["click"],onVisibleChange:e=>{j(e)},visible:x,children:(0,v.jsx)(d.A,{title:A("change.columns"),children:(0,v.jsx)(c.A,{style:{...n},size:p,icon:(0,v.jsx)(u.A,{}),children:g?null:A("Columns")})})})}},78498:(e,l,a)=>{a.d(l,{A:()=>g});var t=a(9950),n=a(97239);const i=a.p+"static/media/pin.0e41858db80c699cd8a2.png";var s=a(96011),o=a.n(s),r=a(63620);async function d(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.CJ,a={latlng:"".concat(null===e||void 0===e?void 0:e.lat,",").concat(null===e||void 0===e?void 0:e.lng),key:l};return o().get("https://maps.googleapis.com/maps/api/geocode/json",{params:a}).then((e=>{var l;let{data:a}=e;return null===(l=a.results[0])||void 0===l?void 0:l.formatted_address})).catch((e=>"not found"))}var c=a(39174),u=a(85923),m=a(70030),v=a(6566),h=a(44414);const p=(0,v.A)();const g=(0,n.GoogleApiWrapper)({apiKey:p,libraries:["places","geometry"]})((function(e){var l,a;const[s,o]=(0,t.useState)(),{t:r}=(0,m.B)(),v=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const l={lat:e.coords.latitude,lng:e.coords.longitude};o(l)}),(function(e){u.oR.warning(r("turn.on.gps"))}))};(0,t.useEffect)((()=>{v()}),[]);const g=[{lat:Number(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.lat)||0,lng:Number(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.lng)||0}];for(var A=new e.google.maps.LatLngBounds,x=0;x<g.length;x++)A.extend(g[x]);return(0,h.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,h.jsx)("button",{className:"map-button",type:"button",onClick:()=>{v(),s&&(async l=>{const a={lat:null===l||void 0===l?void 0:l.lat,lng:null===l||void 0===l?void 0:l.lng};e.setLocation(a);const t=await d(a,p);e.setAddress(t)})(s)},children:(0,h.jsx)(c.uFi,{})}),(0,h.jsx)(n.Map,{cursor:"pointer",onClick:async(l,a,t)=>{const{latLng:n}=t,i={lat:n.lat(),lng:n.lng()};e.setLocation(i);const s=await d(i,p);e.setAddress(s)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,h.jsx)(n.Marker,{position:e.location,icon:{url:i,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},47992:(e,l,a)=>{a.d(l,{G:()=>d});var t=a(9950),n=a(95491),i=a.n(n),s=a(99674),o=a(90650),r=a(44414);const d=e=>{let{fetchOptions:l,debounceTimeout:a=400,onClear:n,refetchOptions:d=!1,...c}=e;const[u,m]=(0,t.useState)(!1),[v,h]=(0,t.useState)([]),p=(0,t.useMemo)((()=>i()((e=>{h([]),m(!0),l(e).then((e=>{h(e),m(!1)}))}),a)),[l,a]);return(0,r.jsx)(s.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),n&&n()},notFoundContent:u?(0,r.jsx)(o.A,{size:"small"}):"no results",...c,options:v,onFocus:()=>{v.length&&!d||p("")}})}},80415:(e,l,a)=>{a.d(l,{G:()=>s,HV:()=>n,LH:()=>t,PR:()=>i,wO:()=>r,xt:()=>o});const t={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},n=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),i=30,s="HH:mm",o="hh:mm a",r=!0},8168:(e,l,a)=>{function t(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(l,{A:()=>t})},29597:(e,l,a)=>{function t(e){var l;if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const a=null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.split(", ");return{lat:Number(null===a||void 0===a?void 0:a[0]),lng:Number(null===a||void 0===a?void 0:a[1])}}a.d(l,{A:()=>t})},51066:(e,l,a)=>{a.d(l,{Q:()=>i});var t=a(17706),n=a(80415);const i=()=>{var e,l,a,i;return null!==(e=null===(l=t.M.getState())||void 0===l||null===(a=l.globalSettings)||void 0===a||null===(i=a.settings)||void 0===i?void 0:i.hour_format)&&void 0!==e?e:n.G}},6566:(e,l,a)=>{a.d(l,{A:()=>n});var t=a(17706);const n=()=>{var e,l;const a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IS_DEMO:"false"}.MAP_API_KEY,{google_map_key:n}=null===(e=t.M.getState())||void 0===e||null===(l=e.globalSettings)||void 0===l?void 0:l.settings;return n||a}},53774:(e,l,a)=>{function t(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const a=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===l?"".concat(a," ").concat(e):"".concat(e," ").concat(a)}a.r(l),a.d(l,{default:()=>t})},1840:(e,l,a)=>{a.d(l,{A:()=>_});var t=a(59233),n=a(87094),i=a(41988),s=a(55902),o=a(99674),r=a(25933),d=a(48538),c=a(9950),u=a(70030),m=a(64272),v=a(81446),h=a(91854),p=a(48970),g=a(78498),A=a(29597),x=a(85923),j=a(47992),y=a(82206),f=a(78687),b=a(44414);const w=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}],_=e=>{let{id:l,data:a}=e;const{t:_}=(0,u.B)(),[S]=t.A.useForm(),[k,C]=(0,c.useState)(!1),[I,P]=(0,c.useState)(!1),[N,q]=(0,c.useState)([]),[E,z]=(0,c.useState)(""),{settings:M}=(0,h.d4)((e=>e.globalSettings),h.bN),[V,O]=(0,c.useState)((0,A.A)(M)),H=e=>e.map((e=>({uid:e.id,name:e.path,url:e.path}))),F=t.A.useWatch("country",S);return(0,c.useEffect)((()=>{l&&(e=>{P(!0),m.A.getById(e).then((e=>{var l,a,t,n,i,s,o,r,d,c,u,m,v,h,p,g,A,x,j,y,f,b,w;const _={...e.data,country:{label:null===(l=e.data)||void 0===l||null===(a=l.country)||void 0===a||null===(t=a.translation)||void 0===t?void 0:t.title,value:null===(n=e.data)||void 0===n||null===(i=n.country)||void 0===i?void 0:i.id,key:null===(s=e.data)||void 0===s||null===(o=s.country)||void 0===o?void 0:o.region_id},city:{label:null===(r=e.data)||void 0===r||null===(d=r.city)||void 0===d||null===(c=d.translation)||void 0===c?void 0:c.title,value:null===(u=e.data)||void 0===u||null===(m=u.city)||void 0===m?void 0:m.id},user_id:{label:(null===(v=e.data.deliveryman)||void 0===v?void 0:v.firstname)+" "+(null===(h=e.data.deliveryman)||void 0===h?void 0:h.firstname),value:null===(p=e.data.deliveryman)||void 0===p?void 0:p.id,images:H(e.data.galleries),location:{lat:null===(g=e.data)||void 0===g||null===(A=g.location)||void 0===A?void 0:A.latitude,lng:null===(x=e.data)||void 0===x||null===(j=x.location)||void 0===j?void 0:j.longitude}}};O({lat:null===(y=e.data)||void 0===y||null===(f=y.location)||void 0===f?void 0:f.latitude,lng:null===(b=e.data)||void 0===b||null===(w=b.location)||void 0===w?void 0:w.longitude}),q(H(e.data.galleries)),S.setFieldsValue(_)})).finally((()=>P(!1)))})(l)}),[]),(0,b.jsx)(t.A,{name:"basic",layout:"vertical",onFinish:e=>{var t,n,i,s,o;C(!0);const r={...e,user_id:a.id,images:null!==(t=N[0])&&void 0!==t&&t.name?[null===(n=N[0])||void 0===n?void 0:n.name]:void 0,country_id:null===e||void 0===e||null===(i=e.country)||void 0===i?void 0:i.value,city_id:null===e||void 0===e||null===(s=e.city)||void 0===s?void 0:s.value,region_id:null===e||void 0===e||null===(o=e.country)||void 0===o?void 0:o.key,location:{latitude:V.lat,longitude:V.lng},online:Boolean(e.online)};m.A.update(l,r).then((()=>x.oR.success(_("successfully.updated")))).finally((()=>C(!1)))},form:S,children:I?(0,b.jsx)(v.A,{}):(0,b.jsxs)(n.A,{gutter:12,children:[(0,b.jsx)(i.A,{span:12,children:(0,b.jsx)(t.A.Item,{label:_("brand"),name:"brand",rules:[{required:!0,message:_("required")}],children:(0,b.jsx)(s.A,{})})}),(0,b.jsx)(i.A,{span:12,children:(0,b.jsx)(t.A.Item,{label:_("model"),name:"model",rules:[{required:!0,message:_("required")}],children:(0,b.jsx)(s.A,{})})}),(0,b.jsx)(i.A,{span:12,children:(0,b.jsx)(t.A.Item,{label:_("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:_("required")}],children:(0,b.jsx)(o.A,{options:w})})}),(0,b.jsx)(i.A,{span:12,children:(0,b.jsx)(t.A.Item,{label:_("car.number"),name:"number",rules:[{required:!0,message:_("required")}],children:(0,b.jsx)(s.A,{})})}),(0,b.jsx)(i.A,{span:12,children:(0,b.jsx)(t.A.Item,{label:_("car.color"),name:"color",rules:[{required:!0,message:_("required")}],children:(0,b.jsx)(s.A,{})})}),(0,b.jsx)(i.A,{span:12,children:(0,b.jsx)(t.A.Item,{name:"country",label:_("country"),rules:[{required:!0,message:_("required")}],children:(0,b.jsx)(j.G,{fetchOptions:e=>{const l={search:e,perPage:10,page:1,has_price:1};return f.A.get(l).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.region_id}}))}))},placeholder:_("select.country"),onClear:()=>{S.setFieldsValue({city:[]})},autoComplete:"none"})})}),(0,b.jsx)(i.A,{span:12,children:(0,b.jsx)(t.A.Item,{name:"city",label:_("city"),children:(0,b.jsx)(j.G,{fetchOptions:e=>{const l={search:e,perPage:10,page:1,country_id:null===F||void 0===F?void 0:F.value,has_price:1};return y.A.get(l).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},placeholder:_("select.city"),refetchOptions:!0,disabled:!F,autoComplete:"none"})})}),(0,b.jsx)(i.A,{span:12,children:(0,b.jsx)(t.A.Item,{label:_("image"),name:"images",children:(0,b.jsx)(p.A,{type:"deliveryman/settings",imageList:N,setImageList:q,form:S,length:"1",multiple:!0})})}),(0,b.jsx)(i.A,{span:6,children:(0,b.jsx)(t.A.Item,{label:_("online"),name:"online",valuePropName:"checked",children:(0,b.jsx)(r.A,{})})}),(0,b.jsx)(i.A,{span:24,children:(0,b.jsx)(t.A.Item,{label:_("map"),name:"location",children:(0,b.jsx)(g.A,{location:V,setLocation:O,setAddress:z})})}),(0,b.jsx)(i.A,{span:24,children:(0,b.jsx)(d.A,{type:"primary",htmlType:"submit",loading:k,children:_("save")})})]})})}},50273:(e,l,a)=>{a.d(l,{A:()=>N});var t=a(9950),n=a(23263),i=a(59233),s=a(87094),o=a(41988),r=a(55902),d=a(40577),c=a(86971),u=a(99674),m=a(48538),v=a(28429),h=a(91854),p=a(53271),g=a(85923),A=a(74623),x=a(39539),j=a(59051),y=a.n(j),f=a(70030),b=a(3855),w=a(48970),_=a(47992),S=a(58547),k=a(13311),C=a(98591),I=a(71999),P=a(44414);function N(e){var l;let{form:a,data:j,image:N,setImage:q,action_type:E=""}=e;const{t:z}=(0,f.B)(),M=(0,h.d4)((e=>e.menu.activeMenu),h.bN),V=(0,h.wA)(),O=(0,v.Zp)(),{uuid:H}=(0,v.g)(),F=(0,v.zy)(),[R,B]=(0,t.useState)(null),[D,L]=(0,t.useState)(!1),T=null===M||void 0===M||null===(l=M.data)||void 0===l?void 0:l.role,K=(0,h.d4)((e=>e.user),h.bN),G=(0,h.d4)((e=>e.client),h.bN),{defaultLang:Y,languages:U}=(0,h.d4)((e=>e.formLang),h.bN),{isDemo:W}=(0,k.A)();async function $(e){const l={search:e,status:"approved"};return S.A.search(l).then((e=>e.data.map((e=>({label:null!==e.translation?e.translation.title:z("no.name"),value:e.id,key:e.id})))))}return(0,P.jsx)(n.A,{extra:"master"===T?(0,P.jsx)(I.A,{}):null,children:(0,P.jsx)(i.A,{form:a,layout:"vertical",initialValues:{gender:"male",role:"admin",...j},onFinish:e=>{var l,a,t,n;L(!0);const i={firstname:e.firstname,lastname:e.lastname,email:W||null===e||void 0===e?void 0:e.email,phone:W||null===e||void 0===e?void 0:e.phone,birthday:y()(e.birthday).format("YYYY-MM-DD"),gender:e.gender,images:N[0]?[null===(l=N[0])||void 0===l?void 0:l.name]:void 0,shop_id:null!==e&&void 0!==e&&e.shop_id?void 0!==(null===e||void 0===e||null===(a=e.shop_id)||void 0===a?void 0:a.length)?null===e||void 0===e||null===(t=e.shop_id)||void 0===t?void 0:t.map((e=>e.value)):[null===e||void 0===e||null===(n=e.shop_id)||void 0===n?void 0:n.value]:void 0,role:T};"master"===T&&(i.title={},i.description={},U.forEach((l=>{const a=l.locale;i.title[a]=e["title[".concat(a,"]")],i.description[a]=e["description[".concat(a,"]")]})));const s=0===F.pathname.search("/user/delivery/")?"deliveries/list":"user"!==j.role?"users/admin":"users/user",o={...K.params,role:j.role},r={...G.params};"edit"===E?p.A.update(H,i).then((()=>{g.oR.success(z("successfully.updated")),V((0,A.EK)({...M,nextUrl:s})),O("/".concat(s)),"user"===j.role?V((0,b.$3)(r)):V((0,x.hU)(o))})).catch((e=>B(e.response.data.params))).finally((()=>L(!1))):p.A.create(i).then((()=>{g.oR.success(z("successfully.updated")),V((0,A.EK)({...M,nextUrl:s})),O("/".concat(s)),"user"===j.role?V((0,b.$3)(r)):V((0,x.hU)(o))})).catch((e=>B(e.response.data.params))).finally((()=>L(!1)))},className:"px-2",children:(0,P.jsxs)(s.A,{gutter:12,children:[(0,P.jsx)(o.A,{span:24,children:(0,P.jsx)(i.A.Item,{name:"images",label:z("avatar"),rules:[{validator:()=>0===(null===N||void 0===N?void 0:N.length)?Promise.reject(new Error(z("required"))):Promise.resolve()}],children:(0,P.jsx)(w.A,{type:"users",imageList:N,setImageList:q,form:a,multiple:!1,name:"logo_img"})})}),(0,P.jsx)(o.A,{span:12,children:(0,P.jsx)(i.A.Item,{label:z("firstname"),name:"firstname",help:null!==R&&void 0!==R&&R.firstname?R.firstname[0]:null,validateStatus:null!==R&&void 0!==R&&R.firstname?"error":"success",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(z("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(z("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(z("required")))}],children:(0,P.jsx)(r.A,{className:"w-100"})})}),(0,P.jsx)(o.A,{span:12,children:(0,P.jsx)(i.A.Item,{label:z("lastname"),name:"lastname",help:null!==R&&void 0!==R&&R.lastname?R.lastname[0]:null,validateStatus:null!==R&&void 0!==R&&R.lastname?"error":"success",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(z("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(z("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(z("required")))}],children:(0,P.jsx)(r.A,{className:"w-100"})})}),"master"===T&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.A,{span:12,children:U.map(((e,l)=>(0,P.jsx)(i.A.Item,{label:z("title"),name:"title[".concat(e.locale,"]"),rules:[{validator:(l,a)=>a||(null===e||void 0===e?void 0:e.locale)!==Y?a&&""===(null===a||void 0===a?void 0:a.trim())?Promise.reject(new Error(z("no.empty.space"))):a&&(null===a||void 0===a?void 0:a.length)<2?Promise.reject(new Error(z("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(z("required")))}],hidden:e.locale!==Y,children:(0,P.jsx)(r.A,{})},"title"+l)))}),(0,P.jsx)(o.A,{span:12,children:U.map(((e,l)=>(0,P.jsx)(i.A.Item,{label:z("description"),name:"description[".concat(e.locale,"]"),rules:[{validator:(l,a)=>a||(null===e||void 0===e?void 0:e.locale)!==Y?a&&""===(null===a||void 0===a?void 0:a.trim())?Promise.reject(new Error(z("no.empty.space"))):a&&(null===a||void 0===a?void 0:a.length)<5?Promise.reject(new Error(z("must.be.at.least.5"))):Promise.resolve():Promise.reject(new Error(z("required")))}],hidden:e.locale!==Y,children:(0,P.jsx)(C.A,{rows:4})},"desc"+l)))})]}),(0,P.jsx)(o.A,{span:12,children:(0,P.jsx)(i.A.Item,{label:z("phone"),name:"phone",help:null!==R&&void 0!==R&&R.phone?R.phone[0]:null,validateStatus:null!==R&&void 0!==R&&R.phone?"error":"success",rules:[{required:!W,message:z("required")}],children:(0,P.jsx)(d.A,{min:0,className:"w-100"})})}),(0,P.jsx)(o.A,{span:12,children:(0,P.jsx)(i.A.Item,{label:z("birthday"),name:"birthday",rules:[{required:!0,message:z("required")}],valuePropName:"birthday",children:(0,P.jsx)(c.A,{className:"w-100",disabledDate:e=>y()().add(-18,"years")<=e,defaultPickerValue:y()().add(-18,"years"),defaultValue:y()(null===j||void 0===j?void 0:j.birthday)})})}),(0,P.jsx)(o.A,{span:12,children:(0,P.jsx)(i.A.Item,{label:z("gender"),name:"gender",rules:[{required:!0,message:z("required")}],children:(0,P.jsxs)(u.A,{picker:"dayTime",className:"w-100",children:[(0,P.jsx)(u.A.Option,{value:"male",children:z("male")}),(0,P.jsx)(u.A.Option,{value:"female",children:z("female")})]})})}),(0,P.jsx)(o.A,{span:12,children:(0,P.jsx)(i.A.Item,{label:z("email"),name:"email",help:null!==R&&void 0!==R&&R.email?R.email[0]:null,validateStatus:null!==R&&void 0!==R&&R.email?"error":"success",rules:[{required:!W,message:z("required")},{type:"email",message:z("invalid.email")}],children:(0,P.jsx)(r.A,{type:"email",className:"w-100",disabled:W})})}),"cook"===T&&(0,P.jsx)(o.A,{span:12,children:(0,P.jsx)(i.A.Item,{label:z("shop"),name:"shop_id",rules:[{required:!1,message:z("required")}],children:(0,P.jsx)(_.G,{fetchOptions:$,className:"w-100",placeholder:z("select.shop"),allowClear:!1})})}),("moderator"===T||"master"===T||"deliveryman"===T)&&(0,P.jsx)(o.A,{span:12,children:(0,P.jsx)(i.A.Item,{label:z("shops"),name:"shop_id",rules:[{required:!1,message:z("required")}],children:(0,P.jsx)(_.G,{fetchOptions:$,className:"w-100",placeholder:z("select.shop"),allowClear:!1,mode:"multiple"})})}),(0,P.jsx)(o.A,{span:24,children:(0,P.jsx)(m.A,{type:"primary",htmlType:"submit",loading:D,children:z("save")})})]})})})}},90150:(e,l,a)=>{a.d(l,{A:()=>_});var t=a(9950),n=a(80737),i=a(48538),s=a(23263),o=a(52913),r=a(28429),d=a(12678),c=a(44070),u=a(91854),m=a(74623),v=a(70030),h=a(53774),p=a(53177),g=a(8168),A=a(55386),x=a(85923),j=a(35116),y=a(76083),f=a(23758),b=a(28645),w=a(44414);function _(e){let{data:l}=e;const a=(0,u.wA)(),_=(0,r.Zp)(),{t:S}=(0,v.B)(),[k,C]=(0,t.useState)(null),[I,P]=(0,t.useState)(null),{setIsModalVisible:N}=(0,t.useContext)(A.o),[q,E]=(0,t.useState)(!1),{activeMenu:z}=(0,u.d4)((e=>e.menu),u.bN),{orders:M,meta:V,loading:O,params:H}=(0,u.d4)((e=>e.orders),u.bN),{defaultCurrency:F}=(0,u.d4)((e=>e.currency),u.bN),[R,B]=(0,t.useState)([{title:S("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:S("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,w.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:S("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:e=>(0,w.jsxs)("div",{className:"text-lowercase",children:[e||0," ",S("products")]})},{title:S("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:e=>(0,h.default)(e,null===F||void 0===F?void 0:F.symbol)},{title:S("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var l;return S(null===e||void 0===e||null===(l=e.payment_system)||void 0===l?void 0:l.tag)||"-"}},{title:S("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:S("options"),is_show:!0,key:"options",render:(e,l)=>(0,w.jsxs)(n.A,{children:[(0,w.jsx)(i.A,{icon:(0,w.jsx)(d.A,{}),onClick:()=>(e=>{a((0,m.X4)({url:"order/details/".concat(e.id),id:"order_details",name:S("order.details")})),_("/order/details/".concat(e.id))})(l)}),(0,w.jsx)(j.A,{icon:(0,w.jsx)(c.A,{}),onClick:()=>{C([l.id]),N(!0),P(!0)}})]})}]);(0,t.useEffect)((()=>{const e={user_id:null===l||void 0===l?void 0:l.uuid,page:1,perPage:10};a((0,p.DX)(e))}),[]);const D={selectedRowKeys:k,onChange:e=>{C(e)}};return(0,w.jsx)("div",{children:(0,w.jsxs)(s.A,{title:S("orders"),extra:(0,w.jsxs)(n.A,{wrap:!0,children:[(0,w.jsx)(j.A,{type:"danger",onClick:()=>{null===k||0===k.length?x.oR.warning(S("select.the.product")):(N(!0),P(!1))},children:S("delete.all")}),(0,w.jsx)(b.A,{setColumns:B,columns:R})]}),children:[(0,w.jsx)(o.A,{scroll:{x:!0},rowSelection:D,columns:null===R||void 0===R?void 0:R.filter((e=>e.is_show)),dataSource:M,loading:O,pagination:{pageSize:H.perPage,page:H.page,total:V.total,defaultCurrent:H.page},rowKey:e=>e.id,onChange:function(e,l,t){const{pageSize:n,current:i}=e,{field:s,order:o}=t,r=(0,g.A)(o);a((0,m.Ok)({activeMenu:z,data:{...z.data,perPage:n,page:i,column:s,sort:r}}))}}),(0,w.jsx)(y.A,{click:()=>{E(!0);const e={...Object.assign({},...k.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};f.A.delete(e).then((()=>{x.oR.success(S("successfully.deleted")),N(!1),a((0,p.DX)()),P(null)})).finally((()=>E(!1)))},text:S(I?"delete":"all.delete"),loading:q,setText:C})]})})}},50302:(e,l,a)=>{a.d(l,{A:()=>p});var t=a(9950),n=a(59233),i=a(23263),s=a(87094),o=a(41988),r=a(55902),d=a(48538),c=a(28429),u=a(85923),m=a(53271),v=a(70030),h=a(44414);function p(){const{t:e}=(0,v.B)(),[l]=n.A.useForm(),[a,p]=(0,t.useState)(null),[g,A]=(0,t.useState)(!1),{uuid:x}=(0,c.g)();return(0,h.jsx)(i.A,{title:e("user.password.change"),children:(0,h.jsx)(n.A,{form:l,layout:"vertical",onFinish:l=>{A(!0);const a={password:l.password?l.password:void 0,password_confirmation:l.password_confirmation};m.A.updatePassword(x,a).then((()=>{u.oR.success(e("successfully.created"))})).catch((e=>p(e.response.data.params))).finally((()=>A(!1)))},children:(0,h.jsxs)(s.A,{gutter:12,children:[(0,h.jsx)(o.A,{span:12,children:(0,h.jsx)(n.A.Item,{label:e("password"),name:"password",help:null!==a&&void 0!==a&&a.password?a.password[0]:null,validateStatus:null!==a&&void 0!==a&&a.password?"error":"success",rules:[{required:!0,message:e("required")}],children:(0,h.jsx)(r.A.Password,{type:"password",className:"w-100",placeholder:"********"})})}),(0,h.jsx)(o.A,{span:12,children:(0,h.jsx)(n.A.Item,{label:e("password.confirmation"),help:null!==a&&void 0!==a&&a.password_confirmation?a.password_confirmation[0]:null,validateStatus:null!==a&&void 0!==a&&a.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:e("required")},l=>{let{getFieldValue:a}=l;return{validator:(l,t)=>t&&a("password")!==t?Promise.reject(e("two.passwords.dont.match")):Promise.resolve()}}],children:(0,h.jsx)(r.A.Password,{type:"password",placeholder:"********"})})}),(0,h.jsx)(o.A,{span:24,children:(0,h.jsx)(d.A,{type:"primary",htmlType:"submit",loading:g,children:e("save")})})]})})})}},54766:(e,l,a)=>{a.d(l,{A:()=>_});var t=a(9950),n=a(80737),i=a(48538),s=a(52913),o=a(91854),r=a(70030),d=a(53774),c=a(53271),u=a(53387),m=a(59233),v=a(82706),h=a(40577),p=a(55902),g=a(85923),A=a(74623),x=a(44414);function j(e){let{modal:l,uuid:a,handleCancel:n}=e;const[s,d]=(0,t.useState)(!1),[u]=m.A.useForm(),{t:j}=(0,r.B)(),y=(0,o.wA)(),{activeMenu:f}=(0,o.d4)((e=>e.menu),o.bN);return(0,x.jsx)(v.A,{visible:l,title:j("topup.wallet"),onCancel:n,footer:[(0,x.jsx)(i.A,{type:"default",onClick:n,children:j("cancel")},"cancel-btn"),(0,x.jsx)(i.A,{type:"primary",onClick:()=>u.submit(),loading:s,children:j("save")},"submit-btn")],children:(0,x.jsxs)(m.A,{layout:"vertical",form:u,onFinish:e=>{d(!0),c.A.topupWallet(a,e).then((()=>{g.oR.success(j("successfully.added")),y((0,A.Ms)(f)),n()})).finally((()=>d(!1)))},children:[(0,x.jsx)(m.A.Item,{label:j("price"),name:"price",rules:[{required:!0,message:j("required")}],children:(0,x.jsx)(h.A,{min:0,className:"w-100"})}),(0,x.jsx)(m.A.Item,{label:j("note"),name:"note",children:(0,x.jsx)(p.A,{})})]})})}var y=a(28645),f=a(59051),b=a.n(f),w=a(51066);function _(e){var l;let{data:a}=e;const{t:m}=(0,r.B)(),[v,h]=(0,t.useState)(1),[p,g]=(0,t.useState)(10),[A,f]=(0,t.useState)(1),[_,S]=(0,t.useState)(!1),[k,C]=(0,t.useState)([]),[I,P]=(0,t.useState)(!1),{defaultCurrency:N}=(0,o.d4)((e=>e.currency),o.bN),q=(0,w.Q)(),[E,z]=(0,t.useState)([{title:m("created.by"),dataIndex:"author",key:"author",is_show:!0,render:e=>(0,x.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:m("price"),dataIndex:"price",key:"price",is_show:!0,render:e=>(0,d.default)(e,null===N||void 0===N?void 0:N.symbol)},{title:m("note"),dataIndex:"note",key:"note",is_show:!0},{title:m("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>b()(e).format("YYYY-MM-DD ".concat(q))}]);return(0,t.useEffect)((()=>{!function(){S(!0);const e={pageSize:10,page:v||1};c.A.walletHistory(a.uuid,e).then((e=>{C(e.data),f(e.meta.total)})).finally((()=>S(!1)))}()}),[v]),(0,x.jsxs)("div",{className:"px-2",children:[(0,x.jsx)("div",{className:"d-flex justify-content-end",children:(0,x.jsxs)(n.A,{wrap:!0,children:[(0,x.jsx)(i.A,{type:"primary",icon:(0,x.jsx)(u.A,{}),onClick:()=>P(!0),children:"".concat(m("wallet"),": ").concat((0,d.default)(null===a||void 0===a||null===(l=a.wallet)||void 0===l?void 0:l.price,null===N||void 0===N?void 0:N.symbol))}),(0,x.jsx)(y.A,{columns:E,setColumns:z})]})}),(0,x.jsx)(s.A,{scroll:{x:!0},columns:null===E||void 0===E?void 0:E.filter((e=>e.is_show)),dataSource:k,loading:_,pagination:{pageSize:p,page:v,total:A},rowKey:e=>e.id,onChange:function(e){const{pageSize:l,current:a}=e;h(a),g(l)}}),I&&(0,x.jsx)(j,{modal:I,uuid:a.uuid,handleCancel:()=>P(!1)})]})}},53387:(e,l,a)=>{a.d(l,{A:()=>r});var t=a(89379),n=a(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var s=a(25085),o=function(e,l){return n.createElement(s.A,(0,t.A)((0,t.A)({},e),{},{ref:l,icon:i}))};const r=n.forwardRef(o)},89323:(e,l,a)=>{a.d(l,{A:()=>r});var t=a(89379),n=a(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var s=a(25085),o=function(e,l){return n.createElement(s.A,(0,t.A)((0,t.A)({},e),{},{ref:l,icon:i}))};const r=n.forwardRef(o)}}]);