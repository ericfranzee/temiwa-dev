"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9005],{79005:(e,t,l)=>{l.r(t),l.d(t,{default:()=>j});var i=l(9950),n=l(91854),o=l(71999),a=l(70030),d=l(80313),v=l(86366),u=l(23263),r=l(57980),s=l(12958),c=l(65820),m=l(74623),p=l(55660),g=l(28429),x=l(49164),_=l(81446),f=l(76662),y=l(91647),b=l(47700),k=l(44414);const{Step:h}=v.A,j=()=>{var e,t;const{t:l}=(0,a.B)(),{activeMenu:j}=(0,n.d4)((e=>e.menu),n.bN),A=(0,c.s)(),{products_enabled:S}=(0,n.d4)((e=>e.globalSettings.settings),n.bN),C=Number((null===(e=A.values)||void 0===e?void 0:e.step)||0),[N,M]=(0,i.useState)(j.refetch),w=(0,n.wA)(),{uuid:F}=(0,g.g)(),{languages:O}=(0,n.d4)((e=>e.formLang),n.bN),T=(0,i.useMemo)((()=>"1"===S?d.C:d.C.filter((e=>"Product-location-content"!==e.content))),[S]),z=()=>{const e=C+1;A.set("step",e)},B=()=>{const e=C-1;A.set("step",e)},P=e=>({items:e,uid:e,url:e,name:e});function E(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,l=O.map((e=>{var l,i,n;return{["title[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.title,["description[".concat(e.locale,"]")]:null===(i=t.find((t=>t.locale===e.locale)))||void 0===i?void 0:i.description,["address[".concat(e.locale,"]")]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.address}}));return Object.assign({},...l)}return(0,i.useEffect)((()=>{j.refetch&&F&&(e=>{M(!0),p.A.getById(e).then((e=>{var t,i,n,o,a,d,v,u,r,s,c,p,g,x,_,f,y,b,k,h,A,S,C,N,M,F;const O={...e.data,...E(null===e||void 0===e?void 0:e.data),logo_img:P(null===(t=e.data)||void 0===t?void 0:t.logo_img),background_img:P(null===(i=e.data)||void 0===i?void 0:i.background_img),user:{label:(null===(n=e.data)||void 0===n||null===(o=n.seller)||void 0===o?void 0:o.firstname)+" "+(null===(a=e.data)||void 0===a||null===(d=a.seller)||void 0===d?void 0:d.lastname),value:null===(v=e.data)||void 0===v||null===(u=v.seller)||void 0===u?void 0:u.id},delivery_time_from:(null===(r=e.data)||void 0===r||null===(s=r.delivery_time)||void 0===s?void 0:s.from)||0,delivery_time_to:(null===(c=e.data)||void 0===c||null===(p=c.delivery_time)||void 0===p?void 0:p.to)||0,delivery_time_type:null===(g=e.data)||void 0===g||null===(x=g.delivery_time)||void 0===x?void 0:x.type,recommended:"recommended"===(null===(_=e.data)||void 0===_?void 0:_.mark),categories:null===(f=e.data)||void 0===f||null===(y=f.categories)||void 0===y?void 0:y.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}})),tags:null===(b=e.data)||void 0===b||null===(k=b.tags)||void 0===k?void 0:k.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}})),price:(null===(h=e.data)||void 0===h?void 0:h.price)||0,price_per_km:(null===(A=e.data)||void 0===A?void 0:A.price_per_km)||0,min_amount:(null===(S=e.data)||void 0===S?void 0:S.min_amount)||0,tax:(null===(C=e.data)||void 0===C?void 0:C.tax)||0,percentage:(null===(N=e.data)||void 0===N?void 0:N.percentage)||0,emailStatuses:null===e||void 0===e||null===(M=e.data)||void 0===M||null===(F=M.email_statuses)||void 0===F?void 0:F.map((e=>({label:l(e),value:e,key:e})))};w((0,m.Ok)({activeMenu:j,data:O}))})).finally((()=>{M(!1),w((0,m.km)(j))}))})(F)}),[j.refetch,C,F]),(0,k.jsxs)(u.A,{title:l("shop.edit"),extra:(0,k.jsx)(o.A,{}),children:[(0,k.jsx)(v.A,{current:C,onChange:e=>{w((0,m.Ok)({activeMenu:j,data:{...j.data,step:e}})),A.set("step",e)},children:T.map((e=>(0,k.jsx)(h,{title:l(e.title)},e.title)))}),N?(0,k.jsx)(_.A,{}):(0,k.jsxs)("div",{className:"steps-content",children:["First-content"===T[C].content&&(0,k.jsx)(r.A,{next:z,loading:N,action_type:"edit",user:null===(t=j.data)||void 0===t?void 0:t.seller}),"Product-location-content"===T[C].content&&(0,k.jsx)(f.A,{next:z,prev:B,locationType:{label:"product",value:1,key:1}}),"Service-location-content"===T[C].content&&(0,k.jsx)(f.A,{next:z,prev:B,locationType:{label:"service",value:2,key:2}}),"Third-content"===T[C].content&&(0,k.jsx)(y.A,{next:z,prev:B}),"Fourth-content"===T[C].content&&(0,k.jsx)(x.A,{next:z,prev:B}),"Shop-gallery-content"===T[C].content&&(0,k.jsx)(b.A,{next:z,prev:B}),"Fifth-content"===T[C].content&&(0,k.jsx)(s.A,{next:z,prev:B})]})]})}}}]);