"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[826],{35116:(e,l,n)=>{n.d(l,{A:()=>s});n(9950);var t=n(48538),o=n(44070),i=n(85923),a=n(70030),r=n(13311),d=n(44414);function s(e){let{size:l="",onClick:n,type:s="default",...u}=e;const{t:c}=(0,a.B)(),{isDemo:v}=(0,r.A)();return(0,d.jsx)(t.A,{size:l,icon:(0,d.jsx)(o.A,{}),onClick:e=>{v?i.oR.warning(c("cannot.work.demo")):n(e)},type:s,...u})}},28645:(e,l,n)=>{n.d(l,{A:()=>p});var t=n(9950),o=n(66362),i=n(69216),a=n(80737),r=n(25933),d=n(57811),s=n(81541),u=n(48538),c=n(89323),v=n(70030),h=n(44414);const{Text:m}=o.A,p=e=>{let{columns:l=[],setColumns:n,style:o,size:p="",iconOnly:g}=e;const{t:f}=(0,v.B)(),[y,x]=(0,t.useState)(!1),A=(0,h.jsx)(i.A,{children:null===l||void 0===l?void 0:l.map(((e,t)=>(0,h.jsx)(i.A.Item,{children:(0,h.jsxs)(a.A,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(r.A,{defaultChecked:!0,onClick:()=>function(e){const t=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));n(t)}(e),disabled:1===t})]})},e+t)))});return(0,h.jsx)(d.A,{overlay:A,trigger:["click"],onVisibleChange:e=>{x(e)},visible:y,children:(0,h.jsx)(s.A,{title:f("change.columns"),children:(0,h.jsx)(u.A,{style:{...o},size:p,icon:(0,h.jsx)(c.A,{}),children:g?null:f("Columns")})})})}},78498:(e,l,n)=>{n.d(l,{A:()=>g});var t=n(9950),o=n(97239);const i=n.p+"static/media/pin.0e41858db80c699cd8a2.png";var a=n(96011),r=n.n(a),d=n(63620);async function s(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.CJ,n={latlng:"".concat(null===e||void 0===e?void 0:e.lat,",").concat(null===e||void 0===e?void 0:e.lng),key:l};return r().get("https://maps.googleapis.com/maps/api/geocode/json",{params:n}).then((e=>{var l;let{data:n}=e;return null===(l=n.results[0])||void 0===l?void 0:l.formatted_address})).catch((e=>"not found"))}var u=n(39174),c=n(85923),v=n(70030),h=n(6566),m=n(44414);const p=(0,h.A)();const g=(0,o.GoogleApiWrapper)({apiKey:p,libraries:["places","geometry"]})((function(e){var l,n;const[a,r]=(0,t.useState)(),{t:d}=(0,v.B)(),h=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const l={lat:e.coords.latitude,lng:e.coords.longitude};r(l)}),(function(e){c.oR.warning(d("turn.on.gps"))}))};(0,t.useEffect)((()=>{h()}),[]);const g=[{lat:Number(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.lat)||0,lng:Number(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.lng)||0}];for(var f=new e.google.maps.LatLngBounds,y=0;y<g.length;y++)f.extend(g[y]);return(0,m.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,m.jsx)("button",{className:"map-button",type:"button",onClick:()=>{h(),a&&(async l=>{const n={lat:null===l||void 0===l?void 0:l.lat,lng:null===l||void 0===l?void 0:l.lng};e.setLocation(n);const t=await s(n,p);e.setAddress(t)})(a)},children:(0,m.jsx)(u.uFi,{})}),(0,m.jsx)(o.Map,{cursor:"pointer",onClick:async(l,n,t)=>{const{latLng:o}=t,i={lat:o.lat(),lng:o.lng()};e.setLocation(i);const a=await s(i,p);e.setAddress(a)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,m.jsx)(o.Marker,{position:e.location,icon:{url:i,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},8297:(e,l,n)=>{n.d(l,{A:()=>d});var t=n(9950),o=n(55902),i=n(41397),a=n(60767),r=n(44414);function d(e){let{handleChange:l,defaultValue:n,resetSearch:d,...s}=e;const[u,c]=(0,t.useState)(n),v=(0,t.useMemo)((()=>(0,i.debounce)((e=>{l(e)}),800)),[]);return(0,t.useEffect)((()=>{c(n)}),[d]),(0,r.jsx)(o.A,{value:u,onChange:e=>{c(e.target.value),v(e.target.value)},prefix:(0,r.jsx)(a.A,{}),...s})}},47992:(e,l,n)=>{n.d(l,{G:()=>s});var t=n(9950),o=n(95491),i=n.n(o),a=n(99674),r=n(90650),d=n(44414);const s=e=>{let{fetchOptions:l,debounceTimeout:n=400,onClear:o,refetchOptions:s=!1,...u}=e;const[c,v]=(0,t.useState)(!1),[h,m]=(0,t.useState)([]),p=(0,t.useMemo)((()=>i()((e=>{m([]),v(!0),l(e).then((e=>{m(e),v(!1)}))}),n)),[l,n]);return(0,d.jsx)(a.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),o&&o()},notFoundContent:c?(0,d.jsx)(r.A,{size:"small"}):"no results",...u,options:h,onFocus:()=>{h.length&&!s||p("")}})}},8168:(e,l,n)=>{function t(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(l,{A:()=>t})},29597:(e,l,n)=>{function t(e){var l;if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const n=null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}n.d(l,{A:()=>t})},6566:(e,l,n)=>{n.d(l,{A:()=>o});var t=n(17706);const o=()=>{var e,l;const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IS_DEMO:"false"}.MAP_API_KEY,{google_map_key:o}=null===(e=t.M.getState())||void 0===e||null===(l=e.globalSettings)||void 0===l?void 0:l.settings;return o||n}},53774:(e,l,n)=>{function t(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const n=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===l?"".concat(n," ").concat(e):"".concat(e," ").concat(n)}n.r(l),n.d(l,{default:()=>t})},86349:(e,l,n)=>{n.r(l),n.d(l,{default:()=>Q});var t=n(53387),o=n(24513),i=n(44070),a=n(29633),r=n(48538),d=n(80737),s=n(23263),u=n(99674),c=n(52913),v=n(9950),h=n(70030),m=n(91854),p=n(28429),g=n(85923),f=n(35116),y=n(28645),x=n(55386),A=n(76372),b=n(74623),j=n(64272),C=n(76083),w=n(53774),k=n(39174),_=n(69286),S=n(82706),E=n(63620),V=n(41478),I=n(29597),P=n(44414);const N=()=>(0,P.jsx)("img",{src:V,width:"50",alt:"Pin",style:{position:"absolute",transform:"translate(-50%, -100%)"}}),z=e=>{var l,n,t,o;let{id:i,handleCancel:a}=e;const{t:d}=(0,h.B)(),{settings:s}=(0,m.d4)((e=>e.globalSettings),m.bN),u=(0,I.A)(s),c={lat:null===i||void 0===i||null===(l=i.delivery_man_setting)||void 0===l||null===(n=l.location)||void 0===n?void 0:n.latitude,lng:null===i||void 0===i||null===(t=i.delivery_man_setting)||void 0===t||null===(o=t.location)||void 0===o?void 0:o.longitude},{google_map_key:v}=(0,m.d4)((e=>e.globalSettings.settings),m.bN);return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(S.A,{visible:!!i,title:d("show.locations"),closable:!1,style:{minWidth:"80vw"},onCancel:a,footer:[(0,P.jsx)(r.A,{type:"default",onClick:a,children:d("cancel")},"cancelBtn")],children:(0,P.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,P.jsx)(_.Ay,{bootstrapURLKeys:{key:void 0===v?E.CJ:v},defaultZoom:10,center:u,options:{fullscreenControl:!1},children:null!==(null===i||void 0===i?void 0:i.delivery_man_setting)?(0,P.jsx)(N,{lat:null===c||void 0===c?void 0:c.lat,lng:null===c||void 0===c?void 0:c.lng}):null})})})})};var H=n(59233),O=n(87094),M=n(41988),R=n(55902),F=n(25933),D=n(81446),B=n(48970),L=n(78498),T=n(47992),q=n(78687),K=n(82206),G=n(2905);const W=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"},{label:"Electric",value:"electric"}],X=e=>{let{data:l,handleCancel:n}=e;const{t:t}=(0,h.B)(),[o]=H.A.useForm(),i=(0,m.wA)(),[a,s]=(0,v.useState)(!1),[c,p]=(0,v.useState)(!1),[g,f]=(0,v.useState)([]),{settings:y}=(0,m.d4)((e=>e.globalSettings),m.bN),[x,b]=(0,v.useState)((0,I.A)(y)),[C,w]=(0,v.useState)({region:null,country:null,city:null}),k=e=>e.map((e=>({uid:e.id,name:e.path,url:e.path})));return(0,v.useEffect)((()=>{var e;l.settingsId&&(e=l.settingsId,p(!0),j.A.getById(e).then((e=>{var l,n,t,i,a,r,d,s,u,c,v,h,m,p,g,y,x,A,j,C,_,S,E,V,I,P,N,z,H,O,M,R,F,D,B,L,T,q,K,G,W,X,U,Z,J,$,Q,Y,ee,le,ne,te,oe,ie,ae,re,de,se,ue,ce,ve,he,me;const pe={...e.data,user_id:{label:(null===(l=e.data)||void 0===l||null===(n=l.deliveryman)||void 0===n?void 0:n.firstname)+" "+(null===(t=e.data)||void 0===t||null===(i=t.deliveryman)||void 0===i?void 0:i.firstname),value:null===(a=e.data)||void 0===a||null===(r=a.deliveryman)||void 0===r?void 0:r.id,images:k(null===(d=e.data)||void 0===d?void 0:d.galleries),location:{lat:null===(s=e.data)||void 0===s||null===(u=s.location)||void 0===u?void 0:u.latitude,lng:null===(c=e.data)||void 0===c||null===(v=c.location)||void 0===v?void 0:v.longitude}},region:null!==(h=e.data)&&void 0!==h&&h.region?{label:null===(m=e.data)||void 0===m||null===(p=m.region)||void 0===p||null===(g=p.translation)||void 0===g?void 0:g.title,value:null===(y=e.data)||void 0===y||null===(x=y.region)||void 0===x?void 0:x.id,key:null===(A=e.data)||void 0===A||null===(j=A.region)||void 0===j?void 0:j.id}:null,country:null!==(C=e.data)&&void 0!==C&&C.country?{label:null===(_=e.data)||void 0===_||null===(S=_.country)||void 0===S||null===(E=S.translation)||void 0===E?void 0:E.title,value:null===(V=e.data)||void 0===V||null===(I=V.country)||void 0===I?void 0:I.id,key:null===(P=e.data)||void 0===P||null===(N=P.country)||void 0===N?void 0:N.id}:null,city:null!==(z=e.data)&&void 0!==z&&z.city?{label:null===(H=e.data)||void 0===H||null===(O=H.city)||void 0===O||null===(M=O.translation)||void 0===M?void 0:M.title,value:null===(R=e.data)||void 0===R||null===(F=R.city)||void 0===F?void 0:F.id,key:null===(D=e.data)||void 0===D||null===(B=D.city)||void 0===B?void 0:B.id}:null};w({region:null!==(L=e.data)&&void 0!==L&&L.region?{label:null===(T=e.data)||void 0===T||null===(q=T.region)||void 0===q||null===(K=q.translation)||void 0===K?void 0:K.title,value:null===(G=e.data)||void 0===G||null===(W=G.region)||void 0===W?void 0:W.id,key:null===(X=e.data)||void 0===X||null===(U=X.region)||void 0===U?void 0:U.id}:null,country:null!==(Z=e.data)&&void 0!==Z&&Z.country?{label:null===(J=e.data)||void 0===J||null===($=J.country)||void 0===$||null===(Q=$.translation)||void 0===Q?void 0:Q.title,value:null===(Y=e.data)||void 0===Y||null===(ee=Y.country)||void 0===ee?void 0:ee.id,key:null===(le=e.data)||void 0===le||null===(ne=le.country)||void 0===ne?void 0:ne.id}:null,city:null!==(te=e.data)&&void 0!==te&&te.city?{label:null===(oe=e.data)||void 0===oe||null===(ie=oe.city)||void 0===ie||null===(ae=ie.translation)||void 0===ae?void 0:ae.title,value:null===(re=e.data)||void 0===re||null===(de=re.city)||void 0===de?void 0:de.id,key:null===(se=e.data)||void 0===se||null===(ue=se.city)||void 0===ue?void 0:ue.id}:null}),b({lat:null===(ce=e.data)||void 0===ce||null===(ve=ce.location)||void 0===ve?void 0:ve.latitude,lng:null===(he=e.data)||void 0===he||null===(me=he.location)||void 0===me?void 0:me.longitude}),f(k(e.data.galleries)),o.setFieldsValue(pe)})).finally((()=>p(!1))))}),[]),(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(S.A,{visible:!!l,title:l.id?t("edit.delivery.setting"):t("add.delivery.setting"),closable:!1,onCancel:n,style:{minWidth:"80vw"},footer:[(0,P.jsxs)(d.A,{children:[(0,P.jsx)(r.A,{type:"primary",htmlType:"submit",onClick:()=>o.submit(),loading:a,children:t("submit")},"submit"),(0,P.jsx)(r.A,{type:"default",onClick:n,children:t("cancel")},"cancelBtn")]})],children:(0,P.jsx)(H.A,{name:"basic",layout:"vertical",onFinish:e=>{s(!0);const t={...e,user_id:l.id,images:g.map((e=>e.name)),location:{latitude:x.lat,longitude:x.lng},region_id:e.region.value,country_id:e.country.value,city_id:e.city.value};l.settingsId?j.A.update(l.settingsId,t).then((()=>{n(),i((0,A.N)({}))})).finally((()=>s(!1))):j.A.create(t).then((()=>{n(),i((0,A.N)({}))})).finally((()=>s(!1)))},form:o,initialValues:{online:!0},children:c?(0,P.jsx)(D.A,{}):(0,P.jsxs)(O.A,{gutter:12,children:[(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{label:t("brand"),name:"brand",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(t("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(t("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(t("required")))}],children:(0,P.jsx)(R.A,{})})}),(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{label:t("model"),name:"model",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(t("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(t("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(t("required")))}],children:(0,P.jsx)(R.A,{})})}),(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{label:t("type.of.technique"),name:"type_of_technique",rules:[{required:!0,message:t("required")}],children:(0,P.jsx)(u.A,{options:W})})}),(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{label:t("car.number"),name:"number",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(t("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(t("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(t("required")))}],children:(0,P.jsx)(R.A,{})})}),(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{label:t("car.color"),name:"color",rules:[{validator:(e,l)=>l?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(t("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(t("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(t("required")))}],children:(0,P.jsx)(R.A,{})})}),(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{name:"region",label:t("region"),rules:[{required:!0,message:t("required")}],children:(0,P.jsx)(T.G,{fetchOptions:e=>{const l={search:e,perPage:10,page:1};return G.A.get(l).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},placeholder:t("select.region"),onChange:e=>{o.setFieldsValue({country:null,city:null}),w({region:e,country:null,city:null})},onClear:()=>{o.setFieldsValue({region:[],country:[],city:[]}),w({region:null,country:null,city:null})},autoComplete:"none"})})}),(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{name:"country",label:t("country"),rules:[{required:!0,message:t("required")}],children:(0,P.jsx)(T.G,{fetchOptions:e=>{var l;const n={search:e,perPage:10,page:1,region_id:null===C||void 0===C||null===(l=C.region)||void 0===l?void 0:l.value};return q.A.get(n).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.region_id}}))}))},placeholder:t("select.country"),refetchOptions:!0,onChange:e=>{o.setFieldsValue({city:null}),w({...C,country:e,city:null})},onClear:()=>{o.setFieldsValue({country:[],city:[]}),w({...C,country:null,city:null})},disabled:!C.region,autoComplete:"none"})})}),(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{name:"city",label:t("city"),children:(0,P.jsx)(T.G,{fetchOptions:e=>{var l;const n={search:e,perPage:10,page:1,country_id:null===C||void 0===C||null===(l=C.country)||void 0===l?void 0:l.value};return K.A.get(n).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.flatMap((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},placeholder:t("select.city"),refetchOptions:!0,disabled:!C.region||!C.country,autoComplete:"none"})})}),(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{label:t("image"),name:"images",rules:[{validator:()=>0===(null===g||void 0===g?void 0:g.length)?Promise.reject(new Error(t("required"))):Promise.resolve()}],children:(0,P.jsx)(B.A,{type:"deliveryman/settings",imageList:g,setImageList:f,form:o,length:"1",multiple:!0})})}),(0,P.jsx)(M.A,{span:12,children:(0,P.jsx)(H.A.Item,{label:t("online"),name:"online",valuePropName:"checked",children:(0,P.jsx)(F.A,{})})}),(0,P.jsx)(M.A,{span:24,children:(0,P.jsx)(H.A.Item,{label:t("map"),name:"location",children:(0,P.jsx)(L.A,{location:x,setLocation:b})})})]})})})})};var U=n(8297),Z=n(88986),J=n(8168);const $=[{label:"Benzine",value:"benzine"},{label:"Diesel",value:"diesel"},{label:"Gas",value:"gas"},{label:"Motorbike",value:"motorbike"},{label:"Bike",value:"bike"},{label:"Foot",value:"foot"}],Q=()=>{var e,l,n;const{t:_}=(0,h.B)(),S=(0,m.wA)(),E=(0,p.Zp)(),{setIsModalVisible:V}=(0,v.useContext)(x.o),[I,N]=(0,v.useState)(null),[H,O]=(0,v.useState)(!1),[M,R]=(0,v.useState)(null),[F,D]=(0,v.useState)(null),[B,L]=(0,v.useState)(null),{activeMenu:T}=(0,m.d4)((e=>e.menu),m.bN),q=null===T||void 0===T?void 0:T.data,K={search:null!==q&&void 0!==q&&q.search?q.search:void 0,type_of_technique:null===q||void 0===q?void 0:q.type,sort:null===q||void 0===q?void 0:q.sort,column:null===q||void 0===q?void 0:q.column,pageSize:null===q||void 0===q?void 0:q.per_page,page:(null===q||void 0===q?void 0:q.page)||1},{delivery:G,loading:W,meta:Q}=(0,m.d4)((e=>e.deliveries),m.bN),{defaultCurrency:Y}=(0,m.d4)((e=>e.currency),m.bN),ee=()=>{D(null),L(null)},[le,ne]=(0,v.useState)([{title:_("id"),dataIndex:"id",key:"id",is_show:!0},{title:_("name"),dataIndex:"name",key:"name",is_show:!0,render:(e,l)=>(null===l||void 0===l?void 0:l.firstname)+" "+(null===l||void 0===l?void 0:l.lastname)},{title:_("orders"),dataIndex:"count",key:"count",is_show:!0,sorter:!0,render:(e,l)=>null===l||void 0===l?void 0:l.deliveryman_orders.length},{title:_("rate"),dataIndex:"rating",key:"rating",is_show:!0,sorter:!0,render:(e,l)=>{var n;return(0,P.jsx)(a.A,{className:"mt-3 ml-3",disabled:!0,allowHalf:!0,value:null!==(n=null===l||void 0===l?void 0:l.r_avg)&&void 0!==n?n:0})}},{title:_("wallet"),dataIndex:"wallet_sum",key:"wallet_sum",is_show:!0,sorter:!0,render:(e,l)=>{var n;return(0,w.default)(null===l||void 0===l||null===(n=l.wallet)||void 0===n?void 0:n.price,null===Y||void 0===Y?void 0:Y.symbol,null===Y||void 0===Y?void 0:Y.position)}},{title:_("delivery.man.setting"),dataIndex:"setting",key:"setting",is_show:!0,render:(e,l)=>{var n,i,a,s,u;return null===(null===l||void 0===l?void 0:l.delivery_man_setting)?(0,P.jsx)(r.A,{icon:(0,P.jsx)(t.A,{}),onClick:()=>L({id:null===l||void 0===l?void 0:l.id}),children:_("add.settings")}):(0,P.jsxs)(d.A,{children:[(0,P.jsxs)("span",{children:[_("brand"),": ",null===l||void 0===l||null===(n=l.delivery_man_setting)||void 0===n?void 0:n.brand,(0,P.jsx)("br",{}),_("model"),": ",null===l||void 0===l||null===(i=l.delivery_man_setting)||void 0===i?void 0:i.model,(0,P.jsx)("br",{}),_("number"),": ",null===l||void 0===l||null===(a=l.delivery_man_setting)||void 0===a?void 0:a.number,(0,P.jsx)("br",{}),_("color"),": ",null===l||void 0===l||null===(s=l.delivery_man_setting)||void 0===s?void 0:s.color]}),null!==l&&void 0!==l&&null!==(u=l.delivery_man_setting)&&void 0!==u&&u.id?(0,P.jsx)(o.A,{onClick:()=>{var e;return L({settingsId:null===l||void 0===l||null===(e=l.delivery_man_setting)||void 0===e?void 0:e.id,id:null===l||void 0===l?void 0:l.id})}}):""]})}},{title:_("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,l)=>(0,P.jsxs)(d.A,{children:[(0,P.jsx)(r.A,{icon:(0,P.jsx)(k.kMs,{}),onClick:()=>D(l)}),(0,P.jsx)(r.A,{type:"primary",icon:(0,P.jsx)(o.A,{}),onClick:()=>(e=>{S((0,b.X4)({url:"user/delivery/".concat(e.uuid),id:"delivery_edit",name:_("delivery.edit")})),E("/user/delivery/".concat(e.uuid))})(l)}),(0,P.jsx)(f.A,{icon:(0,P.jsx)(i.A,{}),onClick:()=>{N([l.id]),V(!0),R(!0)}})]})}]);(0,v.useEffect)((()=>{T.refetch&&(0,m.vA)((()=>{S((0,A.N)(K)),S((0,b.km)(T))}))}),[T.refetch]),(0,Z.A)((()=>{S((0,A.N)(K))}),[T.data]);const te={selectedRowKeys:I,onChange:e=>{N(e)}},oe=(e,l)=>{S((0,b.Ok)({activeMenu:T,data:{...T.data,[l]:e}}))};return(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(s.A,{title:_("delivery"),extra:(0,P.jsxs)(d.A,{children:[(0,P.jsx)(u.A,{placeholder:_("type.of.technique"),style:{width:"150px"},options:$,onChange:e=>oe(e,"type"),allowClear:!0}),(0,P.jsx)(f.A,{size:"",onClick:()=>{null===I||0===I.length?g.oR.warning(_("select.the.product")):(V(!0),R(!1))},children:_("delete.selected")}),(0,P.jsx)(r.A,{type:"primary",icon:(0,P.jsx)(t.A,{}),onClick:()=>{S((0,b.X4)({id:"user-add-role",url:"add/user/delivery/".concat("deliveryman"),name:_("add.".concat("deliveryman"))})),E("/add/user/delivery/".concat("deliveryman"))},children:_("add.delivery")}),(0,P.jsx)(y.A,{columns:le,setColumns:ne})]}),children:[(0,P.jsx)(U.A,{placeholder:_("search"),className:"w-25",handleChange:e=>oe(e,"search"),resetSearch:!(null!==(e=T.data)&&void 0!==e&&e.search),defaultValue:null===(l=T.data)||void 0===l?void 0:l.search}),(0,P.jsx)(c.A,{scroll:{x:!0},rowSelection:te,columns:null===le||void 0===le?void 0:le.filter((e=>e.is_show)),dataSource:G,pagination:{pageSize:Q.per_page,page:(null===q||void 0===q?void 0:q.page)||1,total:Q.total,defaultCurrent:null===q||void 0===q?void 0:q.page,current:null===(n=T.data)||void 0===n?void 0:n.page},rowKey:e=>e.id,onChange:function(e,l,n){const{pageSize:t,current:o}=e,{field:i,order:a}=n,r=(0,J.A)(a);S((0,b.Ok)({activeMenu:T,data:{...q,perPage:t,page:o,column:i,sort:r}}))},loading:W}),(0,P.jsx)(C.A,{click:()=>{O(!0);const e={...Object.assign({},...I.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};j.A.delete(e).then((()=>{g.oR.success(_("successfully.deleted")),S((0,A.N)(K)),V(!1),R(null),N(null)})).finally((()=>{O(!1)}))},text:_(M?"delete":"all.delete"),setText:N,loading:H}),F&&(0,P.jsx)(z,{id:F,handleCancel:ee}),B&&(0,P.jsx)(X,{id:B.id,data:B,handleCancel:ee})]})})}},53387:(e,l,n)=>{n.d(l,{A:()=>d});var t=n(89379),o=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var a=n(25085),r=function(e,l){return o.createElement(a.A,(0,t.A)((0,t.A)({},e),{},{ref:l,icon:i}))};const d=o.forwardRef(r)},89323:(e,l,n)=>{n.d(l,{A:()=>d});var t=n(89379),o=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var a=n(25085),r=function(e,l){return o.createElement(a.A,(0,t.A)((0,t.A)({},e),{},{ref:l,icon:i}))};const d=o.forwardRef(r)},29633:(e,l,n)=>{n.d(l,{A:()=>S});var t=n(58168),o=n(9950),i=n(89379),a=n(64467),r=n(23029),d=n(92901),s=n(85501),u=n(29426),c=n(46962),v=n(48738),h=n.n(v),m=n(91478);var p=function(e){(0,s.A)(n,e);var l=(0,u.A)(n);function n(){var e;(0,r.A)(this,n);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=l.call.apply(l,[this].concat(o))).onHover=function(l){var n=e.props;(0,n.onHover)(l,n.index)},e.onClick=function(l){var n=e.props;(0,n.onClick)(l,n.index)},e.onKeyDown=function(l){var n=e.props,t=n.onClick,o=n.index;13===l.keyCode&&t(l,o)},e}return(0,d.A)(n,[{key:"getClassName",value:function(){var e=this.props,l=e.prefixCls,n=e.index,t=e.value,o=e.allowHalf,i=e.focused,a=n+1,r=l;return 0===t&&0===n&&i?r+=" ".concat(l,"-focused"):o&&t+.5>=a&&t<a?(r+=" ".concat(l,"-half ").concat(l,"-active"),i&&(r+=" ".concat(l,"-focused"))):(r+=" ".concat(l,a<=t?"-full":"-zero"),a===t&&i&&(r+=" ".concat(l,"-focused"))),r}},{key:"render",value:function(){var e=this.onHover,l=this.onClick,n=this.onKeyDown,t=this.props,i=t.disabled,a=t.prefixCls,r=t.character,d=t.characterRender,s=t.index,u=t.count,c=t.value,v="function"===typeof r?r(this.props):r,h=o.createElement("li",{className:this.getClassName()},o.createElement("div",{onClick:i?null:l,onKeyDown:i?null:n,onMouseMove:i?null:e,role:"radio","aria-checked":c>s?"true":"false","aria-posinset":s+1,"aria-setsize":u,tabIndex:i?-1:0},o.createElement("div",{className:"".concat(a,"-first")},v),o.createElement("div",{className:"".concat(a,"-second")},v)));return d&&(h=d(h,this.props)),h}}]),n}(o.Component);function g(){}var f=function(e){(0,s.A)(n,e);var l=(0,u.A)(n);function n(e){var t;(0,r.A)(this,n),(t=l.call(this,e)).stars=void 0,t.rate=void 0,t.onHover=function(e,l){var n=t.props.onHoverChange,o=t.getStarValue(l,e.pageX);o!==t.state.cleanedValue&&t.setState({hoverValue:o,cleanedValue:null}),n(o)},t.onMouseLeave=function(){var e=t.props.onHoverChange;t.setState({hoverValue:void 0,cleanedValue:null}),e(void 0)},t.onClick=function(e,l){var n=t.props.allowClear,o=t.state.value,i=t.getStarValue(l,e.pageX),a=!1;n&&(a=i===o),t.onMouseLeave(),t.changeValue(a?0:i),t.setState({cleanedValue:a?i:null})},t.onFocus=function(){var e=t.props.onFocus;t.setState({focused:!0}),e&&e()},t.onBlur=function(){var e=t.props.onBlur;t.setState({focused:!1}),e&&e()},t.onKeyDown=function(e){var l=e.keyCode,n=t.props,o=n.count,i=n.allowHalf,a=n.onKeyDown,r="rtl"===n.direction,d=t.state.value;l===m.A.RIGHT&&d<o&&!r?(d+=i?.5:1,t.changeValue(d),e.preventDefault()):l===m.A.LEFT&&d>0&&!r||l===m.A.RIGHT&&d>0&&r?(d-=i?.5:1,t.changeValue(d),e.preventDefault()):l===m.A.LEFT&&d<o&&r&&(d+=i?.5:1,t.changeValue(d),e.preventDefault()),a&&a(e)},t.saveRef=function(e){return function(l){t.stars[e]=l}},t.saveRate=function(e){t.rate=e};var o=e.value;return void 0===o&&(o=e.defaultValue),t.stars={},t.state={value:o,focused:!1,cleanedValue:null},t}return(0,d.A)(n,[{key:"componentDidMount",value:function(){var e=this.props,l=e.autoFocus,n=e.disabled;l&&!n&&this.focus()}},{key:"getStarDOM",value:function(e){return(0,c.A)(this.stars[e])}},{key:"getStarValue",value:function(e,l){var n=this.props,t=n.allowHalf,o="rtl"===n.direction,i=e+1;if(t){var a=this.getStarDOM(e),r=function(e){var l=function(e){var l,n,t=e.ownerDocument,o=t.body,i=t&&t.documentElement,a=e.getBoundingClientRect();return l=a.left,n=a.top,{left:l-=i.clientLeft||o.clientLeft||0,top:n-=i.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,t=n.defaultView||n.parentWindow;return l.left+=function(e){var l=e.pageXOffset,n="scrollLeft";if("number"!==typeof l){var t=e.document;"number"!==typeof(l=t.documentElement[n])&&(l=t.body[n])}return l}(t),l.left}(a),d=a.clientWidth;(o&&l-r>d/2||!o&&l-r<d/2)&&(i-=.5)}return i}},{key:"focus",value:function(){this.props.disabled||this.rate.focus()}},{key:"blur",value:function(){this.props.disabled||this.rate.blur()}},{key:"changeValue",value:function(e){var l=this.props.onChange;"value"in this.props||this.setState({value:e}),l(e)}},{key:"render",value:function(){for(var e=this.props,l=e.count,n=e.allowHalf,t=e.style,i=e.id,r=e.prefixCls,d=e.disabled,s=e.className,u=e.character,c=e.characterRender,v=e.tabIndex,m=e.direction,g=this.state,f=g.value,y=g.hoverValue,x=g.focused,A=[],b=d?"".concat(r,"-disabled"):"",j=0;j<l;j+=1)A.push(o.createElement(p,{ref:this.saveRef(j),index:j,count:l,disabled:d,prefixCls:"".concat(r,"-star"),allowHalf:n,value:void 0===y?f:y,onClick:this.onClick,onHover:this.onHover,key:j,character:u,characterRender:c,focused:x}));var C=h()(r,b,s,(0,a.A)({},"".concat(r,"-rtl"),"rtl"===m));return o.createElement("ul",{className:C,style:t,id:i,onMouseLeave:d?null:this.onMouseLeave,tabIndex:d?-1:v,onFocus:d?null:this.onFocus,onBlur:d?null:this.onBlur,onKeyDown:d?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},A)}}],[{key:"getDerivedStateFromProps",value:function(e,l){return"value"in e&&void 0!==e.value?(0,i.A)((0,i.A)({},l),{},{value:e.value}):l}}]),n}(o.Component);f.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:g,character:"\u2605",onHoverChange:g,tabIndex:0,direction:"ltr"};const y=f;const x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};var A=n(25085),b=function(e,l){return o.createElement(A.A,(0,i.A)((0,i.A)({},e),{},{ref:l,icon:x}))};const j=o.forwardRef(b);var C=n(81541),w=n(12578),k=function(e,l){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(n[t[o]]=e[t[o]])}return n},_=o.forwardRef((function(e,l){var n=e.prefixCls,i=e.tooltips,a=k(e,["prefixCls","tooltips"]),r=o.useContext(w.QO),d=r.getPrefixCls,s=r.direction,u=d("rate",n);return o.createElement(y,(0,t.A)({ref:l,characterRender:function(e,l){var n=l.index;return i?o.createElement(C.A,{title:i[n]},e):e}},a,{prefixCls:u,direction:s}))}));_.displayName="Rate",_.defaultProps={character:o.createElement(j,null)};const S=_},41478:(e,l,n)=>{e.exports=n.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);