"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4571],{17456:(e,a,l)=>{l.d(a,{A:()=>s});l(9950);const s=l.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},24571:(e,a,l)=>{l.r(a),l.d(a,{default:()=>v});var s=l(9950),t=l(28429),n=l(85923),i=l(59233),d=l(23263),r=l(87094),c=l(41988),u=l(99674),m=l(90650),h=l(55902),o=l(25933),p=l(48538),x=l(91854),j=l(74623),y=l(70030),A=l(76214),b=l(53496),f=(l(17456),l(54826),l(70283),l(44414));const v=()=>{const{t:e}=(0,y.B)(),{activeMenu:a}=(0,x.d4)((e=>e.menu),x.bN),l=(0,x.wA)(),[v]=i.A.useForm(),g=(0,t.Zp)(),{id:k}=(0,t.g)(),[q,N]=(0,s.useState)(!1),[w,F]=(0,s.useState)(!1),[I,_]=(0,s.useState)([]),[C,z]=(0,s.useState)(null);(0,s.useEffect)((()=>()=>{const e=v.getFieldsValue(!0);l((0,j.Ok)({activeMenu:a,data:e}))}),[]);(0,s.useEffect)((()=>{a.refetch&&((e=>{F(!0),A.A.getById(e).then((e=>{let{data:a}=e;z({label:a.payment.tag,value:a.payment.id}),v.setFieldsValue({...a,payment_id:a.payment.tag})})).finally((()=>l((0,j.km)(a))))})(k),async function(){F(!0),A.A.allPayment().then((e=>{let{data:a}=e;const l=a.map((e=>({label:e.tag[0].toUpperCase()+e.tag.substring(1),value:e.id,key:e.id})));_(l)})).finally((()=>F(!1)))}())}),[a.refetch]);return(0,f.jsx)(d.A,{title:e("edit.payment"),className:"h-100",children:w?(0,f.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,f.jsx)(m.A,{size:"large",className:"py-5"})}):(0,f.jsxs)(i.A,{name:"edit.payment",layout:"vertical",onFinish:s=>{N(!0);const t={...s,payment_id:C.value};A.A.update(k,t).then((()=>{const s="seller/payments";n.oR.success(e("successfully.updated")),l((0,j.EK)({...a,nextUrl:s})),g("/".concat(s)),l((0,b.Np)())})).finally((()=>N(!1)))},form:v,initialValues:{status:!0,...a.data},className:"d-flex flex-column h-100",children:[(0,f.jsxs)(r.A,{gutter:12,children:[(0,f.jsx)(c.A,{span:"cash"===(null===C||void 0===C?void 0:C.label)||"wallet"===(null===C||void 0===C?void 0:C.label)?12:24,children:(0,f.jsx)(i.A.Item,{label:e("payment"),name:"payment_id",rules:[{required:!0,message:e("required")}],children:(0,f.jsx)(u.A,{notFoundContent:w?(0,f.jsx)(m.A,{size:"small"}):"no results",allowClear:!0,disabled:!0})})}),"cash"===(null===C||void 0===C?void 0:C.label)||"wallet"===(null===C||void 0===C?void 0:C.label)?"":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(i.A.Item,{label:e("client.id"),name:"client_id",rules:[{required:!0,message:e("required")}],children:(0,f.jsx)(h.A,{})})}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(i.A.Item,{label:e("secret.id"),name:"secret_id",rules:[{required:!0,message:e("required")}],children:(0,f.jsx)(h.A,{})})}),"Paystack"===(null===C||void 0===C?void 0:C.label)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(i.A.Item,{label:e("payment.id"),name:"payment_key",rules:[{required:!0,message:e("required")}],children:(0,f.jsx)(h.A,{})})}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(i.A.Item,{label:e("merchant.email"),name:"merchant_email",rules:[{required:!0,message:e("required")}],children:(0,f.jsx)(h.A,{type:"email"})})})]}):""]}),(0,f.jsx)(c.A,{span:12,children:(0,f.jsx)(i.A.Item,{label:e("status"),name:"status",valuePropName:"checked",children:(0,f.jsx)(o.A,{})})})]}),(0,f.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,f.jsx)("div",{className:"pb-5",children:(0,f.jsx)(p.A,{type:"primary",htmlType:"submit",loading:q,disabled:q,children:e("submit")})})})]})})}}}]);