"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4302],{35116:(e,l,t)=>{t.d(l,{A:()=>d});t(9950);var a=t(48538),n=t(44070),i=t(85923),o=t(70030),s=t(13311),r=t(44414);function d(e){let{size:l="",onClick:t,type:d="default",...u}=e;const{t:c}=(0,o.B)(),{isDemo:v}=(0,s.A)();return(0,r.jsx)(a.A,{size:l,icon:(0,r.jsx)(n.A,{}),onClick:e=>{v?i.oR.warning(c("cannot.work.demo")):t(e)},type:d,...u})}},28645:(e,l,t)=>{t.d(l,{A:()=>x});var a=t(9950),n=t(66362),i=t(69216),o=t(80737),s=t(25933),r=t(57811),d=t(81541),u=t(48538),c=t(89323),v=t(70030),p=t(44414);const{Text:h}=n.A,x=e=>{let{columns:l=[],setColumns:t,style:n,size:x="",iconOnly:g}=e;const{t:m}=(0,v.B)(),[A,f]=(0,a.useState)(!1),j=(0,p.jsx)(i.A,{children:null===l||void 0===l?void 0:l.map(((e,a)=>(0,p.jsx)(i.A.Item,{children:(0,p.jsxs)(o.A,{className:"d-flex justify-content-between",children:[(0,p.jsx)(h,{children:e.title}),(0,p.jsx)(s.A,{defaultChecked:!0,onClick:()=>function(e){const a=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(a)}(e),disabled:1===a})]})},e+a)))});return(0,p.jsx)(r.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{f(e)},visible:A,children:(0,p.jsx)(d.A,{title:m("change.columns"),children:(0,p.jsx)(u.A,{style:{...n},size:x,icon:(0,p.jsx)(c.A,{}),children:g?null:m("Columns")})})})}},47992:(e,l,t)=>{t.d(l,{G:()=>d});var a=t(9950),n=t(95491),i=t.n(n),o=t(99674),s=t(90650),r=t(44414);const d=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:n,refetchOptions:d=!1,...u}=e;const[c,v]=(0,a.useState)(!1),[p,h]=(0,a.useState)([]),x=(0,a.useMemo)((()=>i()((e=>{h([]),v(!0),l(e).then((e=>{h(e),v(!1)}))}),t)),[l,t]);return(0,r.jsx)(o.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:x,onClear:()=>{x(""),n&&n()},notFoundContent:c?(0,r.jsx)(s.A,{size:"small"}):"no results",...u,options:p,onFocus:()=>{p.length&&!d||x("")}})}},97434:(e,l,t)=>{t.d(l,{A:()=>A});var a=t(59233),n=t(55902),i=t(82706),o=t(48538),s=t(9950),r=t(25825),d=t(70030),u=t(91854),c=t(85923),v=t(32599),p=t(62466),h=t(43999),x=t(59621),g=t(47992),m=t(44414);function A(e){var l,t,A,f;let{modal:j,handleCancel:y,isVisible:C,paramsData:w}=e;const[b]=a.A.useForm(),{t:k}=(0,d.B)(),V=(0,u.wA)(),[_,z]=(0,s.useState)(!1),[S,H]=(0,s.useState)("text"),[I,R]=(0,s.useState)(null),[F,M]=(0,s.useState)("");(0,s.useEffect)((()=>{if(null!==j&&void 0!==j&&j.id){switch(H(j.group.type),j.group.type){case"color":M(j.value);break;case"image":R((0,p.A)(j.value))}b.setFieldsValue(j)}}),[j]);function O(e,l){switch(e){case"color":return l.hex;case"text":return l;case"image":return l.name;default:return""}}return(0,m.jsx)(i.A,{title:null!==j&&void 0!==j&&j.id?k("edit.extra"):k("add.extra"),visible:C,onCancel:y,footer:[(0,m.jsx)(o.A,{type:"primary",onClick:()=>b.submit(),loading:_,children:k("save")}),(0,m.jsx)(o.A,{type:"default",onClick:y,children:k("cancel")})],children:(0,m.jsxs)(a.A,{name:"extra-form",layout:"vertical",form:b,onFinish:e=>{var l,t;const a={extra_group_id:null!==(l=e.extra_group_id.value)&&void 0!==l?l:e.extra_group_id,value:null!==(t=O(S,e.value))&&void 0!==t?t:e.value};null!==j&&void 0!==j&&j.id?((e,l)=>{z(!0),x.A.updateValue(e,l).then((()=>{c.oR.success(k("successfully.updated")),y(),V((0,h.$Y)(w))})).finally((()=>{z(!1),b.resetFields()}))})(j.id,a):(e=>{z(!0),x.A.createValue(e).then((()=>{c.oR.success(k("successfully.created")),y(),V((0,h.$Y)(w))})).finally((()=>{z(!1),b.resetFields()}))})(a)},initialValues:{extra_group_id:null!==j&&void 0!==j&&j.group?{label:null===j||void 0===j||null===(l=j.group)||void 0===l||null===(t=l.translation)||void 0===t?void 0:t.title,value:null===j||void 0===j||null===(A=j.group)||void 0===A?void 0:A.id,key:null===j||void 0===j||null===(f=j.group)||void 0===f?void 0:f.id}:[]},children:[(0,m.jsx)(a.A.Item,{name:"extra_group_id",label:k("extra.group"),rules:[{required:!0,message:"required"}],children:(0,m.jsx)(g.G,{fetchOptions:e=>{const l={perPage:10,page:1,search:e};return x.A.getAllGroups(l).then((e=>e.data.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:"".concat(null===e||void 0===e?void 0:e.type,",").concat(null===e||void 0===e?void 0:e.id)}}))))},placeholder:k("select.extra.group"),allowClear:!0,onChange:e=>{var l;H(null===e||void 0===e||null===(l=e.key)||void 0===l?void 0:l.split(",")[0]),b.setFieldsValue({value:""})}})}),(0,m.jsx)(a.A.Item,{name:"value",label:k("value"),rules:[{required:!0,message:"required"}],children:(e=>{switch(e){case"color":return(0,m.jsx)(r.Xq,{onChangeComplete:e=>M(e.hex),color:F,disableAlpha:!0});case"text":return(0,m.jsx)(n.A,{placeholder:k("enter.extra.value")});case"image":return(0,m.jsx)(v.A,{type:"extras",image:I,setImage:R,form:b,name:"value"});default:return""}})(S)})]})})}},74302:(e,l,t)=>{t.r(l),t.d(l,{default:()=>V});var a=t(9950),n=t(80737),i=t(72243),o=t(48538),s=t(23263),r=t(52913),d=t(24513),u=t(44070),c=t(53387),v=t(85923),p=t(70030),h=t(91854),x=t(43999),g=t(59621),m=t(97434),A=t(35116),f=t(63620),j=t(74623),y=t(28645),C=t(88986),w=t(55386),b=t(76083),k=t(44414);function V(){var e,l,t;const{t:V}=(0,p.B)(),_=(0,h.wA)(),{activeMenu:z}=(0,h.d4)((e=>e.menu),h.bN),{extraValues:S,loading:H,meta:I}=(0,h.d4)((e=>e.extraValue),h.bN),{setIsModalVisible:R}=(0,a.useContext)(w.o),F=null===z||void 0===z?void 0:z.data,M={perPage:(null===F||void 0===F?void 0:F.perPage)||10,page:(null===F||void 0===F?void 0:F.page)||1,group_id:(null===F||void 0===F?void 0:F.group_id)||null},[O,B]=(0,a.useState)(null),[N,q]=(0,a.useState)(null),[E,Y]=(0,a.useState)(!1),[$,P]=(0,a.useState)(null),[D,G]=(0,a.useState)([{title:V("id"),dataIndex:"id",key:"id",is_show:!0},{title:V("title"),dataIndex:"extra_group_id",key:"extra_group_id",is_show:!0,render:(e,l)=>{var t,a;return null===l||void 0===l||null===(t=l.group)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title}},{title:V("value"),dataIndex:"value",key:"value",is_show:!0,render:(e,l)=>{var t,a,o;return(0,k.jsxs)(n.A,{className:"extras",children:["color"===(null===l||void 0===l||null===(t=l.group)||void 0===t?void 0:t.type)?(0,k.jsx)("div",{className:"extra-color-wrapper-contain",style:{backgroundColor:null===l||void 0===l?void 0:l.value}}):null,"image"===(null===l||void 0===l||null===(a=l.group)||void 0===a?void 0:a.type)?(0,k.jsx)(i.A,{width:100,src:f.sE+(null===l||void 0===l?void 0:l.value),className:"borderRadius"}):null,"image"===(null===l||void 0===l||null===(o=l.group)||void 0===o?void 0:o.type)?null:(0,k.jsx)("span",{children:null===l||void 0===l?void 0:l.value})]})}},{title:V("options"),is_show:!0,render:e=>{var l,t,a,i;return(0,k.jsxs)(n.A,{children:[(0,k.jsx)(o.A,{type:"primary",icon:(0,k.jsx)(d.A,{}),onClick:()=>q(e),disabled:!(null!==e&&void 0!==e&&null!==(l=e.group)&&void 0!==l&&null!==(t=l.shop)&&void 0!==t&&t.id)}),(0,k.jsx)(A.A,{type:"primary",danger:!0,icon:(0,k.jsx)(u.A,{}),onClick:()=>{B([e.id]),R(!0),P(!0)},disabled:!(null!==e&&void 0!==e&&null!==(a=e.group)&&void 0!==a&&null!==(i=a.shop)&&void 0!==i&&i.id)})]})}}]);(0,a.useEffect)((()=>{z.refetch&&(0,h.vA)((()=>{_((0,x.$Y)(M)),_((0,j.km)(z))}))}),[z.refetch]),(0,C.A)((()=>{_((0,x.$Y)(M))}),[null===z||void 0===z?void 0:z.data]);const T={selectedRowKeys:O,onChange:e=>{B(e)}};return(0,k.jsxs)(s.A,{title:V("extra.value"),extra:(0,k.jsxs)(n.A,{wrap:!0,children:[(0,k.jsx)(A.A,{icon:(0,k.jsx)(u.A,{}),onClick:()=>{null===O||0===O.length?v.oR.warning(V("select.the.product")):(R(!0),P(!1))},children:V("delete.selected")}),(0,k.jsx)(o.A,{type:"primary",icon:(0,k.jsx)(c.A,{}),onClick:()=>q({}),children:V("add.extra")}),(0,k.jsx)(y.A,{columns:D,setColumns:G})]}),children:[(0,k.jsx)(r.A,{scroll:{x:!0},loading:H,columns:null===D||void 0===D?void 0:D.filter((e=>e.is_show)),rowSelection:T,dataSource:S,rowKey:e=>e.id,pagination:{pageSize:10,page:(null===(e=z.data)||void 0===e?void 0:e.page)||1,total:I.total,defaultCurrent:null===(l=z.data)||void 0===l?void 0:l.page,current:null===(t=z.data)||void 0===t?void 0:t.page},onChange:function(e,l,t){const{pageSize:a,current:n}=e,{field:i}=t;_((0,j.Ok)({activeMenu:z,data:{...z.data,perPage:a,page:n,column:i}}))}}),N&&(0,k.jsx)(m.A,{isVisible:N,modal:N,handleCancel:()=>q(null),paramsData:M}),(0,k.jsx)(b.A,{click:()=>{Y(!0);const e={...Object.assign({},...O.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};g.A.deleteValue(e).then((()=>{v.oR.success(V("successfully.deleted")),B(null),_((0,x.$Y)(M))})).finally((()=>{R(!1),Y(!1),B(null)}))},text:V($?"delete":"all.delete"),loading:E,setText:B})]})}},53387:(e,l,t)=>{t.d(l,{A:()=>r});var a=t(89379),n=t(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var o=t(25085),s=function(e,l){return n.createElement(o.A,(0,a.A)((0,a.A)({},e),{},{ref:l,icon:i}))};const r=n.forwardRef(s)},89323:(e,l,t)=>{t.d(l,{A:()=>r});var a=t(89379),n=t(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var o=t(25085),s=function(e,l){return n.createElement(o.A,(0,a.A)((0,a.A)({},e),{},{ref:l,icon:i}))};const r=n.forwardRef(s)}}]);