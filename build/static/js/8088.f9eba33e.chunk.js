"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8088],{8297:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(9950),l=n(55902),s=n(41397),i=n(60767),o=n(44414);function r(e){let{handleChange:t,defaultValue:n,resetSearch:r,...c}=e;const[d,u]=(0,a.useState)(n),v=(0,a.useMemo)((()=>(0,s.debounce)((e=>{t(e)}),800)),[]);return(0,a.useEffect)((()=>{u(n)}),[r]),(0,o.jsx)(l.A,{value:d,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,o.jsx)(i.A,{}),...c})}},47992:(e,t,n)=>{n.d(t,{G:()=>c});var a=n(9950),l=n(95491),s=n.n(l),i=n(99674),o=n(90650),r=n(44414);const c=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:l,refetchOptions:c=!1,...d}=e;const[u,v]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),x=(0,a.useMemo)((()=>s()((e=>{p([]),v(!0),t(e).then((e=>{p(e),v(!1)}))}),n)),[t,n]);return(0,r.jsx)(i.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:x,onClear:()=>{x(""),l&&l()},notFoundContent:u?(0,r.jsx)(o.A,{size:"small"}):"no results",...d,options:h,onFocus:()=>{h.length&&!c||x("")}})}},53774:(e,t,n)=>{function a(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const n=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?"".concat(n," ").concat(e):"".concat(e," ").concat(n)}n.r(t),n.d(t,{default:()=>a})},58088:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var a=n(80737),l=n(48538),s=n(23263),i=n(52913),o=n(70030),r=n(8297),c=n(47992),d=n(55660),u=n(44414);const v=e=>{let{filters:t,setFilters:n}=e;const{t:l}=(0,o.B)();return(0,u.jsxs)(a.A,{wrap:!0,children:[(0,u.jsx)(r.A,{placeholder:l("search"),className:"w-200px",onChange:e=>{var a;return n({...t,search:null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value})}}),(0,u.jsx)(c.G,{fetchOptions:e=>{const t={perPage:10,page:1,search:null!==e&&void 0!==e&&e.length?e:void 0};return d.A.getAll(t).then((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((e=>{var t;return{label:(null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title)||l("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},className:"w-200px",placeholder:l("select.category"),onChange:e=>n({...t,shop:e})})]})};var h=n(24513),p=n(44070),x=n(53387),g=n(28429),f=n(74623),m=n(91854),A=n(9950),j=n(43394),w=n(53774),y=n(55386),C=n(5478),k=n(85923),S=n(76083),b=n(62110);const _=function(){var e,t;const{t:n}=(0,o.B)(),r=(0,g.Zp)(),c=(0,m.wA)(),{setIsModalVisible:d}=(0,A.useContext)(y.o),{activeMenu:_}=(0,m.d4)((e=>e.menu),m.bN),{serviceExtra:z,loading:N,params:I,meta:E}=(0,m.d4)((e=>e.serviceExtra),m.bN),{defaultCurrency:F}=(0,m.d4)((e=>e.currency),m.bN),[M,O]=(0,A.useState)(null),[V,R]=(0,A.useState)(null),[T,B]=(0,A.useState)(!1),[Y,G]=(0,A.useState)({search:"",category:{}}),H={...I,search:null!==Y&&void 0!==Y&&null!==(e=Y.search)&&void 0!==e&&e.length?Y.search:void 0,shop_id:null===(t=Y.shop)||void 0===t?void 0:t.value},K=[{title:n("id"),dataIndex:"id",is_show:!0,key:"id"},{title:n("title"),dataIndex:"title",is_show:!0,key:"translation"},{title:n("service"),dataIndex:"service",key:"service",is_show:!0},{title:n("shop"),dataIndex:"shop",key:"shop",is_show:!0},{title:n("price"),dataIndex:"price",key:"price",is_show:!0,render:e=>(0,w.default)(e||0,null===F||void 0===F?void 0:F.symbol,null===F||void 0===F?void 0:F.position)},{title:n("options"),is_show:!0,key:"options",render:(e,t)=>(0,u.jsxs)(a.A,{wrap:!0,children:[(0,u.jsx)(l.A,{type:"primary",icon:(0,u.jsx)(h.A,{}),onClick:()=>P(null===t||void 0===t?void 0:t.id)}),(0,u.jsx)(l.A,{icon:(0,u.jsx)(p.A,{}),onClick:()=>{O([null===t||void 0===t?void 0:t.id]),d(!0),R(!0)}})]})}],P=e=>{const t="service-extra/".concat(e);c((0,f.X4)({id:"edit.service.extra",url:t,name:n("edit.service.extra")})),r("/".concat(t),{state:{params:H}})},X={selectedRowKeys:M,onChange:e=>{O(e)}};return(0,A.useEffect)((()=>{_.refetch&&(c((0,f.km)(_)),c((0,j.Y)(H)))}),[_.refetch]),(0,A.useEffect)((()=>{const e=setTimeout((()=>{c((0,j.Y)(H))}),400);return()=>clearTimeout(e)}),[Y]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.A,{children:(0,u.jsxs)(a.A,{className:"justify-content-end align-items-end",children:[(0,u.jsx)(v,{filters:Y,setFilters:G}),(0,u.jsx)(l.A,{icon:(0,u.jsx)(p.A,{}),onClick:()=>{null===M||0===M.length?k.oR.warning(n("select.the.service.extra")):(d(!0),R(!1))},children:n("delete.selected")}),(0,u.jsx)(l.A,{icon:(0,u.jsx)(x.A,{}),type:"primary",onClick:()=>{const e="service-extra/add";c((0,f.X4)({id:"create.service.extra",url:e,name:n("add.service.extra")})),r("/".concat(e),{state:{params:H}})},children:n("add.service.extra")})]})}),(0,u.jsx)(s.A,{title:n("service.extra"),children:(0,u.jsx)(i.A,{scroll:{x:!0},rowSelection:X,columns:null===K||void 0===K?void 0:K.filter((e=>e.is_show)),rowKey:e=>null===e||void 0===e?void 0:e.id,dataSource:z,loading:N,pagination:{pageSize:(null===E||void 0===E?void 0:E.per_page)||10,page:null===E||void 0===E?void 0:E.current_page,total:E.total||0,current:(null===E||void 0===E?void 0:E.current_page)||1},onChange:e=>{const{pageSize:t,current:n}=e,a={...H,perPage:t,page:n};c((0,C.jg)(a))}})}),(0,u.jsx)(S.A,{click:()=>{B(!0);const e={...Object.assign({},...M.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};b.A.delete(e).then((()=>{k.oR.success(n("successfully.deleted")),O(null),d(!1),R(!1),c((0,j.Y)(H))})).finally((()=>B(!1)))},text:n(V?"delete":"all.delete"),setText:O,loading:T})]})}},53387:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(89379),l=n(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var i=n(25085),o=function(e,t){return l.createElement(i.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:s}))};const r=l.forwardRef(o)}}]);