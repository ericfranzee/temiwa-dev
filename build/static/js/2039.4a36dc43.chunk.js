"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2039],{28645:(e,t,l)=>{l.d(t,{A:()=>x});var n=l(9950),s=l(66362),a=l(69216),i=l(80737),o=l(25933),d=l(57811),r=l(81541),c=l(48538),u=l(89323),h=l(70030),m=l(44414);const{Text:v}=s.A,x=e=>{let{columns:t=[],setColumns:l,style:s,size:x="",iconOnly:f}=e;const{t:p}=(0,h.B)(),[A,j]=(0,n.useState)(!1),g=(0,m.jsx)(a.A,{children:null===t||void 0===t?void 0:t.map(((e,n)=>(0,m.jsx)(a.A.Item,{children:(0,m.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,m.jsx)(v,{children:e.title}),(0,m.jsx)(o.A,{defaultChecked:!0,onClick:()=>function(e){const n=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(n)}(e),disabled:1===n})]})},e+n)))});return(0,m.jsx)(d.A,{overlay:g,trigger:["click"],onVisibleChange:e=>{j(e)},visible:A,children:(0,m.jsx)(r.A,{title:p("change.columns"),children:(0,m.jsx)(c.A,{style:{...s},size:x,icon:(0,m.jsx)(u.A,{}),children:f?null:p("Columns")})})})}},8297:(e,t,l)=>{l.d(t,{A:()=>d});var n=l(9950),s=l(55902),a=l(41397),i=l(60767),o=l(44414);function d(e){let{handleChange:t,defaultValue:l,resetSearch:d,...r}=e;const[c,u]=(0,n.useState)(l),h=(0,n.useMemo)((()=>(0,a.debounce)((e=>{t(e)}),800)),[]);return(0,n.useEffect)((()=>{u(l)}),[d]),(0,o.jsx)(s.A,{value:c,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,o.jsx)(i.A,{}),...r})}},47992:(e,t,l)=>{l.d(t,{G:()=>r});var n=l(9950),s=l(95491),a=l.n(s),i=l(99674),o=l(90650),d=l(44414);const r=e=>{let{fetchOptions:t,debounceTimeout:l=400,onClear:s,refetchOptions:r=!1,...c}=e;const[u,h]=(0,n.useState)(!1),[m,v]=(0,n.useState)([]),x=(0,n.useMemo)((()=>a()((e=>{v([]),h(!0),t(e).then((e=>{v(e),h(!1)}))}),l)),[t,l]);return(0,d.jsx)(i.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:x,onClear:()=>{x(""),s&&s()},notFoundContent:u?(0,d.jsx)(o.A,{size:"small"}):"no results",...c,options:m,onFocus:()=>{m.length&&!r||x("")}})}},53774:(e,t,l)=>{function n(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const l=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?"".concat(l," ").concat(e):"".concat(e," ").concat(l)}l.r(t),l.d(t,{default:()=>n})},12521:(e,t,l)=>{l.d(t,{A:()=>h});var n=l(82706),s=l(48538),a=l(90650),i=l(91524),o=l(53774),d=l(9950),r=l(70030),c=l(3948),u=l(44414);const h=e=>{var t;let{id:l,onClose:h}=e;const{t:m}=(0,r.B)(),[v,x]=(0,d.useState)(!1),[f,p]=(0,d.useState)(null),A=(0,d.useCallback)((()=>{x(!0),l&&c.A.getById(l).then((e=>{p(e.data)})).finally((()=>{x(!1)}))}),[l]);return(0,d.useEffect)((()=>{A()}),[l,A]),(0,u.jsx)(n.A,{visible:!!l,title:m("ad.detail"),onCancel:h,footer:[(0,u.jsx)(s.A,{onClick:h,children:m("close")})],children:v?(0,u.jsx)("div",{className:"flex justify-content-center my-6",children:(0,u.jsx)(a.A,{})}):(0,u.jsxs)(i.A,{bordered:!0,children:[(0,u.jsx)(i.A.Item,{span:3,label:m("title"),children:null===f||void 0===f||null===(t=f.translation)||void 0===t?void 0:t.title}),(0,u.jsx)(i.A.Item,{span:3,label:m("price"),children:(0,o.default)(null===f||void 0===f?void 0:f.price)}),(0,u.jsxs)(i.A.Item,{span:3,label:m("time"),children:[null===f||void 0===f?void 0:f.time," ",null===f||void 0===f?void 0:f.time_type]})]})})}},12039:(e,t,l)=>{l.r(t),l.d(t,{default:()=>I});var n=l(9950),s=l(59233),a=l(80737),i=l(48538),o=l(23263),d=l(52913),r=l(4486),c=l(91854),u=l(70030),h=l(8297),m=l(28645),v=l(74623),x=l(88986),f=l(53774),p=l(3948),A=l(85923),j=l(28429),g=l(28016),b=l(12521),C=l(82706),y=l(87094),w=l(41988),_=l(47992),z=l(67231),k=l(44414);const S=e=>{let{form:t,id:l,onClose:n,handlePurchase:a,loading:o}=e;const{t:d}=(0,u.B)();return(0,k.jsx)(C.A,{visible:!!l,title:d("ad.detail"),onCancel:n,footer:[(0,k.jsx)(i.A,{onClick:n,children:d("close")})],children:(0,k.jsxs)(s.A,{name:"banner-form",layout:"vertical",onFinish:e=>{var t;const n=null===e||void 0===e||null===(t=e.products)||void 0===t?void 0:t.map((e=>e.value));a({ads_package_id:l,product_ids:n})},form:t,initialValues:{clickable:!0},className:"d-flex flex-column h-100",children:[(0,k.jsx)(y.A,{gutter:24,children:(0,k.jsx)(w.A,{span:24,children:(0,k.jsx)(s.A.Item,{label:d("products"),name:"products",rules:[{required:!0,message:d("required")}],children:(0,k.jsx)(_.G,{mode:"multiple",fetchOptions:function(e){const t={search:e,perPage:10,status:"published"};return z.A.getAll(t).then((e=>e.data.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))))},debounceTimeout:200})})})}),(0,k.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,k.jsx)("div",{className:"pb-5",children:(0,k.jsx)(i.A,{type:"primary",htmlType:"submit",loading:o,children:d("submit")})})})]})})};function I(){const{t:e}=(0,u.B)(),t=(0,c.wA)(),[l]=s.A.useForm(),[C,y]=((0,j.Zp)(),(0,n.useState)(null)),[w,_]=(0,n.useState)(null),{activeMenu:z}=(0,c.d4)((e=>e.menu),c.bN),{advertList:I,loading:V,meta:N}=(0,c.d4)((e=>e.advert),c.bN),[H,B]=(0,n.useState)(""),[F,M]=(0,n.useState)(!1),[T,E]=(0,n.useState)([{title:e("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:e("title"),dataIndex:"title",is_show:!0,render:(e,t)=>{var l;return(0,k.jsx)("span",{children:null===t||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title})}},{title:e("price"),dataIndex:"price",is_show:!0,render:e=>(0,f.default)(e)},{title:e("time"),dataIndex:"time",is_show:!0,render:(e,t)=>(0,k.jsxs)("span",{children:[e," ",t.time_type]})},{title:e("options"),dataIndex:"options",is_show:!0,render:(t,l)=>(0,k.jsxs)(a.A,{children:[(0,k.jsx)(i.A,{icon:(0,k.jsx)(g.A,{}),onClick:()=>y(l.id)}),(0,k.jsx)(i.A,{onClick:()=>_(l.id),loading:F,children:e("assign")})]})}]),O={perPage:10,page:1,active:1};(0,n.useEffect)((()=>{z.refetch&&(t((0,r.Ti)(O)),t((0,v.km)(z)))}),[z.refetch]),(0,x.A)((()=>{z.data;const e={search:H};t((0,r.Ti)(e))}),[z.data,H]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(o.A,{className:"p-o",children:(0,k.jsxs)("div",{className:"flex justify-content-between",children:[(0,k.jsx)(h.A,{style:{maxWidth:"200px"},handleChange:e=>B(e),placeholder:e("search")}),(0,k.jsx)("div",{className:"flex gap-3",children:(0,k.jsx)(m.A,{columns:T,setColumns:E})})]})}),(0,k.jsx)(o.A,{children:(0,k.jsx)(d.A,{scroll:{x:!0},dataSource:I,columns:null===T||void 0===T?void 0:T.filter((e=>e.is_show)),rowKey:e=>e.id,loading:V||F,pagination:{pageSize:N.per_page,page:N.current_page,total:N.total},onChange:e=>{const{pageSize:l,current:n}=e;t((0,r.Ti)({perPage:l,page:n}))}})}),(0,k.jsx)(b.A,{id:C,onClose:()=>y(null)}),(0,k.jsx)(S,{id:w,onClose:()=>_(null),handlePurchase:t=>{let{product_ids:n,ads_package_id:s}=t;M(!0),p.A.create({ads_package_id:s,product_ids:n}).then((()=>{A.oR.success(e("assigned.successfully")),l.resetFields()})).finally((()=>{M(!1),_(null)}))},loading:F,form:l})]})}},28016:(e,t,l)=>{l.d(t,{A:()=>d});var n=l(89379),s=l(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M396 512a112 112 0 10224 0 112 112 0 10-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]},name:"eye",theme:"filled"};var i=l(25085),o=function(e,t){return s.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a}))};const d=s.forwardRef(o)},89323:(e,t,l)=>{l.d(t,{A:()=>d});var n=l(89379),s=l(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=l(25085),o=function(e,t){return s.createElement(i.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a}))};const d=s.forwardRef(o)}}]);