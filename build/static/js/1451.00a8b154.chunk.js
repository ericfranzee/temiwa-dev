"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1451],{35116:(e,t,n)=>{n.d(t,{A:()=>o});n(9950);var a=n(48538),d=n(44070),s=n(85923),l=n(70030),i=n(13311),r=n(44414);function o(e){let{size:t="",onClick:n,type:o="default",...c}=e;const{t:u}=(0,l.B)(),{isDemo:h}=(0,i.A)();return(0,r.jsx)(a.A,{size:t,icon:(0,r.jsx)(d.A,{}),onClick:e=>{h?s.oR.warning(u("cannot.work.demo")):n(e)},type:o,...c})}},28645:(e,t,n)=>{n.d(t,{A:()=>f});var a=n(9950),d=n(66362),s=n(69216),l=n(80737),i=n(25933),r=n(57811),o=n(81541),c=n(48538),u=n(89323),h=n(70030),v=n(44414);const{Text:x}=d.A,f=e=>{let{columns:t=[],setColumns:n,style:d,size:f="",iconOnly:g}=e;const{t:m}=(0,h.B)(),[A,p]=(0,a.useState)(!1),j=(0,v.jsx)(s.A,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,v.jsx)(s.A.Item,{children:(0,v.jsxs)(l.A,{className:"d-flex justify-content-between",children:[(0,v.jsx)(x,{children:e.title}),(0,v.jsx)(i.A,{defaultChecked:!0,onClick:()=>function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(a)}(e),disabled:1===a})]})},e+a)))});return(0,v.jsx)(r.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{p(e)},visible:A,children:(0,v.jsx)(o.A,{title:m("change.columns"),children:(0,v.jsx)(c.A,{style:{...d},size:f,icon:(0,v.jsx)(u.A,{}),children:g?null:m("Columns")})})})}},8297:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(9950),d=n(55902),s=n(41397),l=n(60767),i=n(44414);function r(e){let{handleChange:t,defaultValue:n,resetSearch:r,...o}=e;const[c,u]=(0,a.useState)(n),h=(0,a.useMemo)((()=>(0,s.debounce)((e=>{t(e)}),800)),[]);return(0,a.useEffect)((()=>{u(n)}),[r]),(0,i.jsx)(d.A,{value:c,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,i.jsx)(l.A,{}),...o})}},80415:(e,t,n)=>{n.d(t,{G:()=>l,HV:()=>d,LH:()=>a,PR:()=>s,wO:()=>r,xt:()=>i});const a={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},d=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),s=30,l="HH:mm",i="hh:mm a",r=!0},8168:(e,t,n)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{A:()=>a})},51066:(e,t,n)=>{n.d(t,{Q:()=>s});var a=n(17706),d=n(80415);const s=()=>{var e,t,n,s;return null!==(e=null===(t=a.M.getState())||void 0===t||null===(n=t.globalSettings)||void 0===n||null===(s=n.settings)||void 0===s?void 0:s.hour_format)&&void 0!==e?e:d.G}},41451:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var a=n(9950),d=n(54909),s=n(12916),l=n(80737),i=n(48538),r=n(23263),o=n(52913),c=n(28429),u=n(12678),h=n(76083),v=n(55386),x=n(91854),f=n(74623),g=n(85923),m=n(70030),A=n(35116),p=n(28645),j=n(3950),w=n(41242),y=n(8297),k=n(88986),b=n(8168),C=n(59051),z=n.n(C),_=n(51066),S=n(44414);const{TabPane:V}=d.A,H=["pending","accepted","canceled"],M=()=>{var e,t,n,C,M,I;const{t:N}=(0,m.B)(),R=(0,x.wA)(),T=(0,c.Zp)(),{refund_delete:D}=(0,x.d4)((e=>e.globalSettings.settings),x.bN),O=(0,_.Q)(),[B,P]=(0,a.useState)([{title:N("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:N("order.id"),is_show:!0,dataIndex:"order.id",key:"order.id",render:(e,t)=>(0,S.jsx)("div",{children:t.order.id})},{title:N("client"),is_show:!0,dataIndex:"user",key:"user",render:(e,t)=>{var n,a;return(0,S.jsxs)("div",{children:[null===(n=t.order.user)||void 0===n?void 0:n.firstname," ",null===(a=t.order.user)||void 0===a?void 0:a.lastname]})}},{title:N("status"),is_show:!0,dataIndex:"status",key:"status",render:e=>(0,S.jsx)("div",{children:"new"===e?(0,S.jsx)(s.A,{color:"blue",children:N(e)}):"canceled"===e?(0,S.jsx)(s.A,{color:"error",children:N(e)}):(0,S.jsx)(s.A,{color:"cyan",children:N(e)})})},{title:N("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at",render:e=>z()(e).format("YYYY-MM-DD ".concat(O))},{title:N("options"),is_show:!0,key:"options",render:(e,t)=>(0,S.jsxs)(l.A,{children:[(0,S.jsx)(i.A,{icon:(0,S.jsx)(u.A,{}),onClick:()=>(e=>{R((0,f.X4)({url:"refund/details/".concat(e),id:"refund_details",name:N("refund.details")})),T("/refund/details/".concat(e))})(t.id)}),"0"===D?null:(0,S.jsx)(A.A,{onClick:()=>{K([t.id]),Y(!0),X(!0)}})]})}]),{setIsModalVisible:Y}=(0,a.useContext)(v.o),[E,K]=(0,a.useState)(null),[G,Q]=(0,a.useState)(!1),[L,X]=(0,a.useState)(null),[Z,q]=(0,a.useState)("pending"),{activeMenu:F}=(0,x.d4)((e=>e.menu),x.bN),{refund:J,meta:U,loading:W,params:$}=(0,x.d4)((e=>e.refund),x.bN),ee=(null===(e=F.data)||void 0===e?void 0:e.role)||Z,te=F.data,ne={search:null===te||void 0===te?void 0:te.search,pageSize:U.per_page,page:null===te||void 0===te?void 0:te.page,status:ee||"published"};(0,a.useEffect)((()=>{F.refetch&&(R((0,j.fT)(ne)),R((0,f.km)(F)))}),[F.refetch]),(0,k.A)((()=>{R((0,j.fT)(ne))}),[F.data]);const ae={selectedRowKeys:E,onChange:e=>{K(e)}},de=e=>{const t=F.data;R((0,f.Ok)({activeMenu:F,data:{...t,...e}}))};return(0,S.jsxs)(r.A,{title:N("refunds"),extra:(0,S.jsxs)(l.A,{children:["0"===D?null:(0,S.jsx)(l.A,{children:(0,S.jsx)(A.A,{size:"",onClick:()=>{null===E||0===E.length?g.oR.warning(N("select.the.product")):(Y(!0),X(!1))},children:N("delete.selected")})}),(0,S.jsx)(p.A,{columns:B,setColumns:P})]}),children:[(0,S.jsx)("div",{className:"d-flex justify-content-between",children:(0,S.jsx)(y.A,{placeholder:N("search"),className:"w-25",handleChange:e=>de({search:e}),resetSearch:!(null!==(t=F.data)&&void 0!==t&&t.search),defaultValue:null===(n=F.data)||void 0===n?void 0:n.search})}),(0,S.jsx)(d.A,{className:"mt-3",activeKey:ee,onChange:e=>{de({role:e,page:1}),q(e)},type:"card",children:H.map((e=>(0,S.jsx)(V,{tab:N(e)},e)))}),(0,S.jsx)(o.A,{scroll:{x:!0},rowSelection:ae,columns:null===B||void 0===B?void 0:B.filter((e=>e.is_show)),dataSource:J,pagination:{pageSize:$.perPage,page:(null===(C=F.data)||void 0===C?void 0:C.page)||1,total:U.total,defaultCurrent:null===(M=F.data)||void 0===M?void 0:M.page,current:null===(I=F.data)||void 0===I?void 0:I.page},rowKey:e=>e.id,loading:W,onChange:function(e,t,n){const{pageSize:a,current:d}=e,{field:s,order:l}=n,i=(0,b.A)(l);R((0,f.Ok)({activeMenu:F,data:{...F.data,perPage:a,page:d,column:s,sort:i}}))}}),(0,S.jsx)(h.A,{click:()=>{Q(!0);const e={...Object.assign({},...E.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};w.A.delete(e).then((()=>{R((0,j.fT)(ne)),g.oR.success(N("successfully.deleted"))})).finally((()=>{Y(!1),Q(!1),K(null)}))},text:N(L?"delete":"all.delete"),loading:G,setText:K})]})}},89323:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(89379),d=n(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var l=n(25085),i=function(e,t){return d.createElement(l.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:s}))};const r=d.forwardRef(i)}}]);