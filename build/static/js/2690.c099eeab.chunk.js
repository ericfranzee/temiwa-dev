"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2690],{35116:(e,t,n)=>{n.d(t,{A:()=>c});n(9950);var s=n(48538),a=n(44070),i=n(85923),l=n(70030),d=n(13311),r=n(44414);function c(e){let{size:t="",onClick:n,type:c="default",...o}=e;const{t:u}=(0,l.B)(),{isDemo:v}=(0,d.A)();return(0,r.jsx)(s.A,{size:t,icon:(0,r.jsx)(a.A,{}),onClick:e=>{v?i.oR.warning(u("cannot.work.demo")):n(e)},type:c,...o})}},8168:(e,t,n)=>{function s(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{A:()=>s})},53774:(e,t,n)=>{function s(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const n=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?"".concat(n," ").concat(e):"".concat(e," ").concat(n)}n.r(t),n.d(t,{default:()=>s})},82690:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var s=n(70030),a=n(91854),i=n(9950),l=n(55386),d=n(28429),r=n(12916),c=n(80737),o=n(48538),u=n(23263),v=n(52913),m=n(24513),h=n(44070),p=n(53387),f=n(35116),g=n(74623),x=n(85923),A=n(8168),k=n(88986),w=n(76083),y=n(87902),j=n(75751),C=n(53774),S=n(44414);const _={1:"male",2:"female",3:"all"};const b=function(){var e,t,n;const{t:b}=(0,s.B)(),z=(0,a.wA)(),{activeMenu:I}=(0,a.d4)((e=>e.menu)),{setIsModalVisible:M}=(0,i.useContext)(l.o),{serviceMaster:R,meta:N,loading:P,params:B}=(0,a.d4)((e=>e.serviceMaster),a.bN),O=(0,d.Zp)(),[V,E]=(0,i.useState)(null),[F,H]=(0,i.useState)(null),[K,X]=(0,i.useState)(!1),[$,D]=(0,i.useState)({id:null,active:!1}),T={selectedRowKeys:V,onChange:e=>{E(e)}},[Z]=(0,i.useState)([{title:b("id"),dataIndex:"id",is_show:!0,sorter:!0,key:"id"},{title:b("service.name"),dataIndex:"serviceName",is_show:!0,key:"service.name",render:(e,t)=>{var n,s;return null===(n=t.service)||void 0===n||null===(s=n.translation)||void 0===s?void 0:s.title}},{title:b("commission.fee"),dataIndex:"commission_fee",is_show:!0,key:"commission.fee",render:e=>(0,C.default)(e)},{title:b("discount"),dataIndex:"discount",is_show:!0,key:"discount",render:e=>(0,C.default)(e)},{title:b("gender"),dataIndex:"gender",is_show:!0,key:"gender",render:e=>b(_[e])},{title:b("interval"),dataIndex:"interval",is_show:!0,key:"interval",render:e=>(0,S.jsx)(r.A,{children:e})},{title:b("type"),dataIndex:"type",is_show:!0,key:"type",render:e=>(0,S.jsx)(r.A,{children:e})},{title:b("options"),dataIndex:"options",key:"options",is_show:!0,render:(e,t)=>(0,S.jsxs)(c.A,{children:[(0,S.jsx)(o.A,{type:"primary",icon:(0,S.jsx)(m.A,{}),onClick:()=>{q(t.id)}}),(0,S.jsx)(f.A,{icon:(0,S.jsx)(h.A,{}),onClick:()=>{E([t.id]),M(!0),H("delete")}})]})}]),q=e=>{const t="seller/service-master/".concat(e);z((0,g.X4)({id:"seller-master-service-edit",url:t,name:b("edit.service.master")})),O("/"+t)},G=null===I||void 0===I?void 0:I.data,J={...B,search:null===G||void 0===G?void 0:G.search,sort:null===G||void 0===G?void 0:G.sort,column:null===G||void 0===G?void 0:G.column,perPage:null===G||void 0===G?void 0:G.perPage,page:null===G||void 0===G?void 0:G.page};return(0,i.useEffect)((()=>{I.refetch&&(z((0,j.Rk)(J)),z((0,g.km)(I)))}),[I.refetch]),(0,k.A)((()=>{z((0,j.Rk)(J))}),[G]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(u.A,{title:b("service.master"),children:[(0,S.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,S.jsx)(o.A,{icon:(0,S.jsx)(p.A,{}),type:"primary",onClick:()=>{z((0,g.X4)({id:"seller/service-master-add",url:"seller/service-master/add",name:b("add.service.master")})),z((0,g.Ok)({activeMenu:I,data:null})),O("/seller/service-master/add")},children:b("add.service.master")}),(0,S.jsx)(o.A,{onClick:()=>{null===V||0===V.length?x.oR.warning(b("select.the.product")):(M(!0),H("all.delete"))},icon:(0,S.jsx)(h.A,{}),children:b("delete.selected")})]}),(0,S.jsx)(v.A,{scroll:{x:!0},rowSelection:T,columns:null===Z||void 0===Z?void 0:Z.filter((e=>e.is_show)),dataSource:R,loading:P,pagination:{pageSize:B.perPage,page:(null===(e=I.data)||void 0===e?void 0:e.page)||1,total:N.total,defaultCurrent:null===(t=I.data)||void 0===t?void 0:t.page,current:null===(n=I.data)||void 0===n?void 0:n.page},rowKey:e=>e.id,onChange:function(e,t,n){const{pageSize:s,current:a}=e,{field:i,order:l}=n,d=(0,A.A)(l);z((0,g.Ok)({activeMenu:I,data:{...I.data,perPage:s,page:a,column:i,sort:d}}))}})]}),(0,S.jsx)(w.A,{click:()=>{"delete"!==F&&"all.delete"!==F||(()=>{X(!0);const e={...Object.assign({},...V.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};y.A.delete(e).then((()=>{x.oR.success(b("successfully.deleted")),E(null),M(!1),H(""),z((0,j.Rk)(J))})).finally((()=>X(!1)))})()},text:F,setText:E,loading:K})]})}},53387:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(89379),a=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var l=n(25085),d=function(e,t){return a.createElement(l.A,(0,s.A)((0,s.A)({},e),{},{ref:t,icon:i}))};const r=a.forwardRef(d)}}]);