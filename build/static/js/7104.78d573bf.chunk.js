"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7104],{35116:(e,l,t)=>{t.d(l,{A:()=>u});t(9950);var n=t(48538),s=t(44070),r=t(85923),o=t(70030),a=t(13311),i=t(44414);function u(e){let{size:l="",onClick:t,type:u="default",...c}=e;const{t:d}=(0,o.B)(),{isDemo:p}=(0,a.A)();return(0,i.jsx)(n.A,{size:l,icon:(0,i.jsx)(s.A,{}),onClick:e=>{p?r.oR.warning(d("cannot.work.demo")):t(e)},type:u,...c})}},28645:(e,l,t)=>{t.d(l,{A:()=>m});var n=t(9950),s=t(66362),r=t(69216),o=t(80737),a=t(25933),i=t(57811),u=t(81541),c=t(48538),d=t(89323),p=t(70030),v=t(44414);const{Text:h}=s.A,m=e=>{let{columns:l=[],setColumns:t,style:s,size:m="",iconOnly:x}=e;const{t:A}=(0,p.B)(),[y,f]=(0,n.useState)(!1),g=(0,v.jsx)(r.A,{children:null===l||void 0===l?void 0:l.map(((e,n)=>(0,v.jsx)(r.A.Item,{children:(0,v.jsxs)(o.A,{className:"d-flex justify-content-between",children:[(0,v.jsx)(h,{children:e.title}),(0,v.jsx)(a.A,{defaultChecked:!0,onClick:()=>function(e){const n=null===l||void 0===l?void 0:l.map((l=>(l.dataIndex===e.dataIndex&&(l.is_show=!(null!==l&&void 0!==l&&l.is_show)),l)));t(n)}(e),disabled:1===n})]})},e+n)))});return(0,v.jsx)(i.A,{overlay:g,trigger:["click"],onVisibleChange:e=>{f(e)},visible:y,children:(0,v.jsx)(u.A,{title:A("change.columns"),children:(0,v.jsx)(c.A,{style:{...s},size:m,icon:(0,v.jsx)(d.A,{}),children:x?null:A("Columns")})})})}},47992:(e,l,t)=>{t.d(l,{G:()=>u});var n=t(9950),s=t(95491),r=t.n(s),o=t(99674),a=t(90650),i=t(44414);const u=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:s,refetchOptions:u=!1,...c}=e;const[d,p]=(0,n.useState)(!1),[v,h]=(0,n.useState)([]),m=(0,n.useMemo)((()=>r()((e=>{h([]),p(!0),l(e).then((e=>{h(e),p(!1)}))}),t)),[l,t]);return(0,i.jsx)(o.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),s&&s()},notFoundContent:d?(0,i.jsx)(a.A,{size:"small"}):"no results",...c,options:v,onFocus:()=>{v.length&&!u||m("")}})}},27104:(e,l,t)=>{t.r(l),t.d(l,{default:()=>I});var n=t(9950),s=t(80737),r=t(72243),o=t(48538),a=t(23263),i=t(52913),u=t(24513),c=t(44070),d=t(53387),p=t(85923),v=t(70030),h=t(91854),m=t(71244),x=t(29763),A=t(59233),y=t(55902),f=t(82706),g=t(25825),j=t(32599),C=t(62466),b=t(47992),w=t(44414);function k(e){let{modal:l,handleCancel:t,onSuccess:s,groupId:r}=e;const[a]=A.A.useForm(),{t:i}=(0,v.B)(),u=(0,h.wA)(),[c,d]=(0,n.useState)(!1),[k,_]=(0,n.useState)("text"),[V,z]=(0,n.useState)(null),[S,H]=(0,n.useState)("");(0,n.useEffect)((()=>{if(null!==l&&void 0!==l&&l.id){var e,t,n;_(l.group.type);const s={...l,property_group_id:{label:null===l||void 0===l||null===(e=l.group)||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===l||void 0===l||null===(n=l.group)||void 0===n?void 0:n.id},value:l.value};switch(l.group.type){case"color":H(l.value);break;case"image":z((0,C.A)(l.value))}a.setFieldsValue(s)}r&&a.setFieldsValue({property_group_id:{value:r}})}),[l,r]);function I(e,l){switch(e){case"color":return l.hex;case"text":return l;case"image":return l.name;default:return""}}return(0,w.jsx)(f.A,{title:null!==l&&void 0!==l&&l.id?i("edit.property"):i("add.property"),visible:!!l,onCancel:t,footer:[(0,w.jsx)(o.A,{type:"primary",onClick:()=>a.submit(),loading:c,children:i("save")}),(0,w.jsx)(o.A,{type:"default",onClick:t,children:i("cancel")})],children:(0,w.jsxs)(A.A,{name:"property-form",layout:"vertical",form:a,onFinish:e=>{var n;const r={property_group_id:null===e||void 0===e||null===(n=e.property_group_id)||void 0===n?void 0:n.value,value:I(k,e.value)};null!==l&&void 0!==l&&l.id?((e,l)=>{d(!0),x.A.updateValue(e,l).then((()=>{p.oR.success(i("successfully.updated")),t(),u((0,m.MK)())})).finally((()=>d(!1)))})(l.id,r):(e=>{d(!0),x.A.createValue(e).then((()=>{p.oR.success(i("successfully.created")),t(),u((0,m.MK)()),s&&s()})).finally((()=>d(!1)))})(r)},children:[(0,w.jsx)(A.A.Item,{name:"property_group_id",label:i("property.group"),hidden:!!r,rules:[{required:!0,message:""}],children:(0,w.jsx)(b.G,{fetchOptions:async function(e){const l={perPage:10,active:1,search:e};return x.A.getAllGroups(l).then((e=>{var l;return null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.map((e=>{var l;return{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,key:null===e||void 0===e?void 0:e.id}}))}))}})}),(0,w.jsx)(A.A.Item,{name:"value",label:i("value"),rules:[{required:!0,message:""}],children:(e=>{switch(e){case"color":return(0,w.jsx)(g.Xq,{onChangeComplete:e=>H(e.hex),color:S,disableAlpha:!0});case"text":return(0,w.jsx)(y.A,{placeholder:i("enter.property.value")});case"image":return(0,w.jsx)(j.A,{type:"property",image:V,setImage:z,form:a,name:"value"});default:return""}})(k)})]})})}function _(e){let{id:l,loading:t,handleClose:n,text:s,click:r}=e;const{t:a}=(0,v.B)();return(0,w.jsxs)(f.A,{closable:!1,visible:!!l,footer:null,centered:!0,children:[(0,w.jsx)("p",{children:s}),(0,w.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,w.jsx)(o.A,{type:"primary",className:"mr-2",onClick:r,loading:t,children:a("yes")}),(0,w.jsx)(o.A,{onClick:n,children:a("no")})]})]})}var V=t(35116),z=t(63620),S=t(74623),H=t(28645);function I(){const{t:e}=(0,v.B)(),l=(0,h.wA)(),{activeMenu:t}=(0,h.d4)((e=>e.menu),h.bN),{propertyValues:A,loading:y}=(0,h.d4)((e=>e.propertyValue),h.bN),[f,g]=(0,n.useState)(null),[j,C]=(0,n.useState)(null),[b,I]=(0,n.useState)(!1),[M,N]=(0,n.useState)([{title:e("id"),dataIndex:"id",key:"id",is_show:!0},{title:e("title"),dataIndex:"extra_group_id",key:"extra_group_id",is_show:!0,render:(e,l)=>{var t,n;return null===(t=l.group)||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title}},{title:e("value"),dataIndex:"value",key:"value",is_show:!0,render:(e,l)=>(0,w.jsxs)(s.A,{className:"extras",children:["color"===l.group.type?(0,w.jsx)("div",{className:"extra-color-wrapper-contain",style:{backgroundColor:l.value}}):null,"image"===l.group.type?(0,w.jsx)(r.A,{width:100,src:z.sE+l.value,className:"borderRadius"}):null,"image"===l.group.type?null:(0,w.jsx)("span",{children:l.value})]})},{title:e("options"),is_show:!0,render:e=>{var l,t;return(0,w.jsxs)(s.A,{children:[(0,w.jsx)(o.A,{type:"primary",icon:(0,w.jsx)(u.A,{}),onClick:()=>C(e),disabled:!(null!==e&&void 0!==e&&null!==(l=e.group)&&void 0!==l&&l.shop_id)}),(0,w.jsx)(V.A,{type:"primary",danger:!0,icon:(0,w.jsx)(c.A,{}),onClick:()=>g([e.id]),disabled:!(null!==e&&void 0!==e&&null!==(t=e.group)&&void 0!==t&&t.shop_id)})]})}}]);return(0,n.useEffect)((()=>{t.refetch&&(l((0,m.MK)()),l((0,S.km)(t)))}),[t.refetch]),(0,w.jsxs)(a.A,{title:e("property.value"),extra:(0,w.jsxs)(s.A,{wrap:!0,children:[(0,w.jsx)(o.A,{type:"primary",icon:(0,w.jsx)(d.A,{}),onClick:()=>C({}),children:e("add.property")}),(0,w.jsx)(H.A,{columns:M,setColumns:N})]}),children:[(0,w.jsx)(i.A,{scroll:{x:!0},loading:y,columns:null===M||void 0===M?void 0:M.filter((e=>e.is_show)),dataSource:A,rowKey:e=>e.id,pagination:!1}),j&&(0,w.jsx)(k,{modal:j,handleCancel:()=>C(null)}),f&&(0,w.jsx)(_,{id:f,click:()=>{I(!0);const t={...Object.assign({},...f.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};x.A.deleteValue(t).then((()=>{p.oR.success(e("successfully.deleted")),g(null),l((0,m.MK)())})).finally((()=>I(!1)))},text:e("delete.property"),loading:b,handleClose:()=>g(null)})]})}},53387:(e,l,t)=>{t.d(l,{A:()=>i});var n=t(89379),s=t(9950);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var o=t(25085),a=function(e,l){return s.createElement(o.A,(0,n.A)((0,n.A)({},e),{},{ref:l,icon:r}))};const i=s.forwardRef(a)},89323:(e,l,t)=>{t.d(l,{A:()=>i});var n=t(89379),s=t(9950);const r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var o=t(25085),a=function(e,l){return s.createElement(o.A,(0,n.A)((0,n.A)({},e),{},{ref:l,icon:r}))};const i=s.forwardRef(a)}}]);