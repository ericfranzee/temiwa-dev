"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[3557],{31281:(e,a,l)=>{function t(e,a){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const t=e.map((e=>({[e.locale]:""===a["".concat(l,"[").concat(e.locale,"]")]?void 0:a["".concat(l,"[").concat(e.locale,"]")]})));return Object.assign({},...t)}l.d(a,{A:()=>t})},3557:(e,a,l)=>{l.r(a),l.d(a,{default:()=>y});var t=l(9950),i=l(28429),c=l(85923),n=l(55902),s=l(59233),d=l(23263),o=l(87094),r=l(41988),u=l(48538),m=l(91854),g=l(74623),p=l(11933),x=l(70030),h=l(71999),A=l(31281),j=l(35242),f=l(32599),v=l(44414);const b=n.A.TextArea,y=()=>{var e;const{t:a}=(0,x.B)(),{activeMenu:l}=(0,m.d4)((e=>e.menu),m.bN),y=(0,m.wA)(),[q]=s.A.useForm(),I=(0,i.Zp)(),[k,w]=(0,t.useState)(!1),{languages:N,defaultLang:B}=(0,m.d4)((e=>e.formLang),m.bN),[E,F]=(0,t.useState)(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.img),[L,S]=(0,t.useState)(null!==l&&void 0!==l&&l.data?[null===l||void 0===l?void 0:l.data["features[0].img"],null===l||void 0===l?void 0:l.data["features[1].img"],null===l||void 0===l?void 0:l.data["features[2].img"]]:["","",""]);(0,t.useEffect)((()=>()=>{const e=q.getFieldsValue(!0);y((0,g.Ok)({activeMenu:l,data:e}))}),[]);return(0,v.jsx)(d.A,{title:a("add.landing.page"),className:"h-100",extra:(0,v.jsx)(h.A,{}),children:(0,v.jsxs)(s.A,{name:"landing-page-add",layout:"vertical",onFinish:e=>{w(!0);const t={title:(0,A.A)(N,e,"title"),description:(0,A.A)(N,e,"description"),img:null===E||void 0===E?void 0:E.name,features:e.features.map(((e,a)=>{var l;return{img:null===(l=L[a])||void 0===l?void 0:l.name,title:(0,A.A)(N,e,"title"),description:(0,A.A)(N,e,"description")}}))};j.A.create({data:t,type:"welcome"}).then((()=>{const e="settings/landing-page";c.oR.success(a("successfully.created")),y((0,g.EK)({...l,nextUrl:e})),I("/".concat(e)),y((0,p.E)())})).finally((()=>w(!1)))},form:q,initialValues:{features:["","",""],...l.data},className:"d-flex flex-column h-100",children:[(0,v.jsxs)(o.A,{gutter:12,children:[(0,v.jsxs)(r.A,{span:12,children:[N.map((e=>(0,v.jsx)(s.A.Item,{label:"".concat(a("title")," (").concat(e.locale,")"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===B,message:a("required")}],hidden:e.locale!==B,children:(0,v.jsx)(n.A,{})},"title"+e.locale))),N.map((e=>(0,v.jsx)(s.A.Item,{label:"".concat(a("description")," (").concat(e.locale,")"),name:"description[".concat(e.locale,"]"),rules:[{required:e.locale===B,message:a("required")}],hidden:e.locale!==B,children:(0,v.jsx)(b,{rows:3})},"description"+e.locale)))]}),(0,v.jsx)(r.A,{span:12,children:(0,v.jsx)(s.A.Item,{label:a("background.image"),children:(0,v.jsx)(f.A,{type:"languages",image:E,setImage:F,form:q,name:"img"})})})]}),(0,v.jsx)(d.A,{title:a("features"),children:(0,v.jsx)(s.A.List,{name:"features",children:e=>(0,v.jsx)("div",{children:e.map(((e,l)=>(0,v.jsxs)(o.A,{gutter:12,align:"middle",style:{borderBottom:"1px solid var(--grey)",marginBottom:24,borderWidth:2===l?0:1},children:[(0,v.jsxs)(r.A,{span:20,children:[N.map((e=>(0,v.jsx)(s.A.Item,{label:"".concat(a("title")," (").concat(e.locale,")"),name:[l,"title[".concat(e.locale,"]")],rules:[{required:e.locale===B,message:a("required")}],hidden:e.locale!==B,children:(0,v.jsx)(n.A,{})},"title"+e.locale))),N.map((e=>(0,v.jsx)(s.A.Item,{label:"".concat(a("description")," (").concat(e.locale,")"),name:[l,"description[".concat(e.locale,"]")],rules:[{required:e.locale===B,message:a("required")}],hidden:e.locale!==B,children:(0,v.jsx)(b,{rows:3})},"description"+e.locale)))]}),(0,v.jsx)(r.A,{span:4,children:(0,v.jsx)(s.A.Item,{label:a("media"),children:(0,v.jsx)(f.A,{type:"languages",image:L[l],isVideo:!0,setImage:e=>((e,a)=>{const l=[...L];l[a]=e,S(l)})(e,l),form:q,name:"features[".concat(l,"].img")})})})]},e.key)))})})}),(0,v.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,v.jsx)("div",{className:"pb-5",children:(0,v.jsx)(u.A,{type:"primary",htmlType:"submit",loading:k,children:a("submit")})})})]})})}}}]);