"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5083],{34422:(e,s,t)=>{t.d(s,{Q:()=>d});var a=t(59051),r=t.n(a);const d=[{title:"monday",disabled:!1,from:r()("01:00:00","HH:mm:ss"),to:r()("23:00:00","HH:mm:ss")},{title:"tuesday",disabled:!1,from:r()("01:00:00","HH:mm:ss"),to:r()("23:00:00","HH:mm:ss")},{title:"wednesday",disabled:!1,from:r()("01:00:00","HH:mm:ss"),to:r()("23:00:00","HH:mm:ss")},{title:"thursday",disabled:!1,from:r()("01:00:00","HH:mm:ss"),to:r()("23:00:00","HH:mm:ss")},{title:"friday",disabled:!1,from:r()("01:00:00","HH:mm:ss"),to:r()("23:00:00","HH:mm:ss")},{title:"saturday",disabled:!1,from:r()("01:00:00","HH:mm:ss"),to:r()("23:00:00","HH:mm:ss")},{title:"sunday",disabled:!1,from:r()("01:00:00","HH:mm:ss"),to:r()("23:00:00","HH:mm:ss")}]},80415:(e,s,t)=>{t.d(s,{G:()=>n,HV:()=>r,LH:()=>a,PR:()=>d,wO:()=>o,xt:()=>l});const a={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},r=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),d=30,n="HH:mm",l="hh:mm a",o=!0},51066:(e,s,t)=>{t.d(s,{Q:()=>d});var a=t(17706),r=t(80415);const d=()=>{var e,s,t,d;return null!==(e=null===(s=a.M.getState())||void 0===s||null===(t=s.globalSettings)||void 0===t||null===(d=t.settings)||void 0===d?void 0:d.hour_format)&&void 0!==e?e:r.G}},45083:(e,s,t)=>{t.r(s),t.d(s,{default:()=>P});var a=t(9950),r=t(59233),d=t(87094),n=t(12916),l=t(41988),o=t(80737),i=t(48538),m=t(23263),c=t(57796),u=t(25933),p=t(70030),h=t(59051),f=t.n(h),y=t(50384),x=t(9213),A=t(82371);const j={getAll:e=>A.A.get("/dashboard/master/master-closed-dates",{params:e}),create:e=>A.A.post("/dashboard/master/master-closed-dates",null,{params:e}),delete:e=>A.A.delete("/dashboard/master/master-closed-dates/delete",{params:e}),update:(e,s)=>A.A.put("/dashboard/master/master-closed-dates/".concat(e),null,{params:s})};var g=t(91854),b=t(74623),H=t(13239),v=t(94118),w=t(34422);const k={getAll:()=>A.A.get("dashboard/master/user-working-days"),create:e=>A.A.post("dashboard/master/user-working-days",e,{}),update:(e,s)=>A.A.put("dashboard/master/user-working-days/".concat(e),s,{}),delete:e=>A.A.delete("dashboard/master/user-working-days",{params:e})};var S=t(85923),N=t(51066),C=t(44414);const P=e=>{let{}=e;const{t:s}=(0,p.B)(),t=(0,g.wA)(),[h]=r.A.useForm(),A=[{from:new Date(1900,4,18),to:new Date(f()().subtract(1,"days"))}],{activeMenu:P}=(0,g.d4)((e=>e.menu)),_=(0,g.d4)((e=>{var s,t;return null===(s=e.auth)||void 0===s||null===(t=s.user)||void 0===t?void 0:t.id})),[D,O]=(0,a.useState)(!0),[Y,E]=(0,a.useState)([]),[F,M]=(0,a.useState)(!1),[T,z]=(0,a.useState)(!1),[I,R]=(0,a.useState)(new Array(7).fill(!1)),Q=(0,g.d4)((e=>{var s,t;return null===(s=e.globalSettings)||void 0===s||null===(t=s.settings)||void 0===t?void 0:t.using_12_hour_format}),g.bN),q=(0,N.Q)(),B=(e,s)=>{const t=[];for(let a=e;a<s;a++)t.push(a);return t},V=()=>({disabledHours:()=>B(0,1),disabledMinutes:()=>B(0,0),disabledSeconds:()=>B(0,60)});(0,a.useEffect)((()=>{P.refetch&&(z(!0),(async()=>{try{z(!0),await Promise.all([j.getAll().then((e=>{const s=e.data.map((e=>new Date(e.date)));E(s)})),k.getAll().then((e=>{R(0!==e.data.dates.length?e.data.dates.map((e=>e.disabled)):[]),0!==e.data.dates.length&&h.setFieldsValue({working_days:e.data.dates.map((e=>({title:e.day,from:f()(e.from,"HH:mm:ss"),to:f()(e.to,"HH:mm:ss"),disabled:Boolean(e.disabled)})))})}))])}finally{z(!1)}})().then(),t((0,b.km)(P)))}),[P.refetch]);const G=Y&&Y.length>0?(0,C.jsxs)(d.A,{children:[(0,C.jsx)(n.A,{style:{fontSize:14,padding:"4px 10px",width:"100%",marginTop:"10px"},children:s("Your.existing.vacations")}),(0,C.jsxs)(l.A,{span:24,className:"mt-2",children:[Y.slice(0,D?1:Y.length).map(((e,t)=>(0,C.jsxs)(o.A,{className:"d-flex justify-content-between",style:{borderBottom:"1px solid #4D5B75"},children:[(0,C.jsx)(l.A,{span:24,style:{fontSize:14,marginTop:"8px"},children:f()(e).format("YYYY-MM-DD")}),(0,C.jsx)(l.A,{span:24,children:(0,C.jsx)(n.A,{color:"red",className:"cursor-pointer mt-3 mb-2",style:{fontSize:14},onClick:()=>{return s=e,E(Y.filter((e=>e!==s)));var s},children:s("remove")})})]},t))),(0,C.jsx)(i.A,{className:"mt-3 w-100",onClick:()=>{O(!D)},children:D?(0,C.jsx)(y.U29,{}):(0,C.jsx)(y.ZXT,{})})]})]}):(0,C.jsx)(n.A,{style:{fontSize:14,padding:"4px 10px",width:"100%"},children:"Please pick one or more days."});return(0,a.useEffect)((()=>{h.setFieldsValue({working_days:w.Q})}),[]),(0,C.jsx)(m.A,{title:s("master.closed.days"),loading:T,children:(0,C.jsxs)(r.A,{onFinish:e=>{M(!0);const t={dates:e.working_days.map((e=>({day:e.title,from:f()(e.from?e.from:"00").format("HH:mm"),to:f()(e.to?e.to:"00").format("HH:mm"),disabled:e.disabled})))},a={dates:Y?Y.map((e=>f()(e).format("YYYY-MM-DD"))):void 0};Promise.all([j.update(_,a),k.update(_,t)]).then((e=>{S.oR.success(s("successfully.created"))})).finally((()=>{M(!1)}))},form:h,children:[(0,C.jsxs)(d.A,{gutter:12,children:[(0,C.jsx)(l.A,{span:12,children:(0,C.jsx)(m.A,{title:s("master.working.days"),children:(0,C.jsx)(r.A.List,{name:"working_days",children:e=>(0,C.jsx)("div",{children:e.map(((e,t)=>(0,C.jsxs)(d.A,{gutter:12,align:"center",children:[(0,C.jsx)(l.A,{span:7,children:(0,C.jsx)(r.A.Item,{name:[t,"day"],children:(0,C.jsx)("span",{children:s(w.Q[t].title)})})}),I[e.key]?(0,C.jsx)(l.A,{span:13,className:"mt-2",children:(0,C.jsx)("span",{children:s("shop.closed")})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.A,{span:7,children:(0,C.jsx)(r.A.Item,{rules:[{required:!1===I[e.key]}],name:[t,"from"],children:(0,C.jsx)(c.A,{format:q,use12Hour:"1"===Q,disabledTime:V,picker:"time",placeholder:s("start.time")})})}),(0,C.jsx)(l.A,{span:6,children:(0,C.jsx)(r.A.Item,{rules:[{required:!1===I[e.key]}],name:[t,"to"],children:(0,C.jsx)(c.A,{format:q,use12Hour:"1"===Q,disabledTime:V,picker:"time",placeholder:s("end.time")})})})]}),(0,C.jsx)(l.A,{span:4,children:(0,C.jsx)(r.A.Item,{name:[t,"disabled"],valuePropName:"checked",children:(0,C.jsx)(u.A,{checkedChildren:(0,C.jsx)(H.A,{}),unCheckedChildren:(0,C.jsx)(v.A,{}),checked:I[e.key],onChange:()=>(e=>{const s=[...I];s[e]=!I[e],R(s)})(e.key)})})})]},e.key)))})})})}),(0,C.jsx)(l.A,{span:12,children:(0,C.jsxs)(m.A,{title:s("master.closed.days"),children:[(0,C.jsx)("p",{children:s("restaurant.closed.days.text")}),!T&&(0,C.jsx)(r.A.Item,{rules:[{required:!1,message:s("required")}],children:(0,C.jsx)(x.hv,{className:"datepicker",mode:"multiple",disabled:A,min:1,selected:Y,onSelect:E,footer:G,showOutsideDays:!0})})]})})]}),(0,C.jsx)(i.A,{type:"primary",htmlType:"submit",loading:F,children:s("submit")})]})})}},57796:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(58168),r=t(9950),d=t(86971),n=function(e,s){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)s.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},l=d.A.TimePicker,o=d.A.RangePicker,i=r.forwardRef((function(e,s){return r.createElement(o,(0,a.A)({},e,{dropdownClassName:e.popupClassName,picker:"time",mode:void 0,ref:s}))})),m=r.forwardRef((function(e,s){var t=e.addon,d=e.renderExtraFooter,o=e.popupClassName,i=n(e,["addon","renderExtraFooter","popupClassName"]),m=r.useMemo((function(){return d||(t||void 0)}),[t,d]);return r.createElement(l,(0,a.A)({},i,{dropdownClassName:o,mode:void 0,ref:s,renderExtraFooter:m}))}));m.displayName="TimePicker",m.RangePicker=i;const c=m}}]);