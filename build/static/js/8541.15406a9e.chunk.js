"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[8541],{28257:(e,l,t)=>{t.d(l,{A:()=>m});t(9950);var i=t(84619),a=t(96011),n=t.n(a),s=t(63620);var o=t(91854),d=t(99674),r=t(59233),c=t(74635),u=t(44414);const v=s.bo?{componentRestrictions:{country:s.bo}}:{},m=e=>{let{value:l,setValue:t,setLocation:a,withLanguages:m=!0}=e;const{placePredictions:p,getPlacePredictions:h,isPlacePredictionsLoading:g}=(0,i.A)({apiKey:s.CJ,libraries:["places","geocode"],options:v}),{defaultLang:x,languages:y}=(0,o.d4)((e=>e.formLang),o.bN),A=()=>(0,u.jsx)(d.A,{allowClear:!0,searchValue:l,showSearch:!0,autoClearSearchValue:!0,loading:g,options:null===p||void 0===p?void 0:p.map((e=>({label:e.description,value:e.description}))),onSearch:e=>{t(e),e.length>0&&h({input:e})},onSelect:async e=>{const l=await async function(e){let l={address:e,key:arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.CJ};return n().get("https://maps.googleapis.com/maps/api/geocode/json",{params:l}).then((e=>{let{data:l}=e;return l.results[0]})).catch((e=>"not found"))}(e);a({lat:null===l||void 0===l?void 0:l.geometry.location.lat,lng:null===l||void 0===l?void 0:l.geometry.location.lng})},getPopupContainer:e=>e.parentNode});return m?(0,u.jsx)(u.Fragment,{children:y.map(((e,l)=>(0,u.jsx)(r.A.Item,{label:(0,c.t)("address"),name:"address[".concat(e.locale,"]"),rules:[{required:e.locale===x,message:(0,c.t)("required")}],hidden:e.locale!==x,children:A()},"address"+l)))}):(0,u.jsx)(r.A.Item,{label:(0,c.t)("address"),name:"address",rules:[{required:!0,message:(0,c.t)("required")}],children:A()})}},80905:(e,l,t)=>{t.d(l,{j:()=>r});var i=t(9950),a=t(95491),n=t.n(a),s=t(99674),o=t(90650),d=t(44414);const r=e=>{let{fetchOptions:l,debounceTimeout:t=400,hasMore:a,...r}=e;const[c,u]=(0,i.useState)(!1),[v,m]=(0,i.useState)([]),[p,h]=(0,i.useState)(!1),[g,x]=(0,i.useState)(null),[y,A]=(0,i.useState)(1),j=(0,i.useMemo)((()=>n()((e=>{m([]),x(e),u(!0),l({search:e}).then((e=>{m(e),A(2),u(!1)})).finally((()=>h(!1)))}),t)),[l,t,y]);return(0,d.jsxs)(s.A,{showSearch:!0,allowClear:!0,onPopupScroll:async e=>{const t=e.target;p||t.scrollTop+t.offsetHeight!==t.scrollHeight||a&&(h(!0),t.scrollTo(0,t.scrollHeight),l({search:g,page:y}).then((e=>{A((e=>e+1)),m([...v,...e])})).finally((()=>h(!1))))},labelInValue:!0,filterOption:!1,onSearch:j,notFoundContent:c?(0,d.jsx)(o.A,{size:"small"}):"no results",onFocus:()=>{v.length||j("")},...r,children:[v.map(((e,l)=>(0,d.jsx)(s.A.Option,{value:e.value,children:e.label},l))),p&&(0,d.jsx)(s.A.Option,{children:(0,d.jsx)(o.A,{size:"small"})})]})}},78498:(e,l,t)=>{t.d(l,{A:()=>g});var i=t(9950),a=t(97239);const n=t.p+"static/media/pin.0e41858db80c699cd8a2.png";var s=t(96011),o=t.n(s),d=t(63620);async function r(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.CJ,t={latlng:"".concat(null===e||void 0===e?void 0:e.lat,",").concat(null===e||void 0===e?void 0:e.lng),key:l};return o().get("https://maps.googleapis.com/maps/api/geocode/json",{params:t}).then((e=>{var l;let{data:t}=e;return null===(l=t.results[0])||void 0===l?void 0:l.formatted_address})).catch((e=>"not found"))}var c=t(39174),u=t(85923),v=t(70030),m=t(6566),p=t(44414);const h=(0,m.A)();const g=(0,a.GoogleApiWrapper)({apiKey:h,libraries:["places","geometry"]})((function(e){var l,t;const[s,o]=(0,i.useState)(),{t:d}=(0,v.B)(),m=async()=>{await navigator.geolocation.getCurrentPosition((function(e){const l={lat:e.coords.latitude,lng:e.coords.longitude};o(l)}),(function(e){u.oR.warning(d("turn.on.gps"))}))};(0,i.useEffect)((()=>{m()}),[]);const g=[{lat:Number(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.lat)||0,lng:Number(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.lng)||0}];for(var x=new e.google.maps.LatLngBounds,y=0;y<g.length;y++)x.extend(g[y]);return(0,p.jsxs)("div",{className:"map-container",style:{height:400,width:"100%"},children:[(0,p.jsx)("button",{className:"map-button",type:"button",onClick:()=>{m(),s&&(async l=>{const t={lat:null===l||void 0===l?void 0:l.lat,lng:null===l||void 0===l?void 0:l.lng};e.setLocation(t);const i=await r(t,h);e.setAddress(i)})(s)},children:(0,p.jsx)(c.uFi,{})}),(0,p.jsx)(a.Map,{cursor:"pointer",onClick:async(l,t,i)=>{const{latLng:a}=i,n={lat:a.lat(),lng:a.lng()};e.setLocation(n);const s=await r(n,h);e.setAddress(s)},google:e.google,defaultZoom:12,zoom:10,className:"clickable",initialCenter:e.location,center:e.location,children:(0,p.jsx)(a.Marker,{position:e.location,icon:{url:n,scaledSize:new e.google.maps.Size(32,32)},className:"marker"})})]})}))},47992:(e,l,t)=>{t.d(l,{G:()=>r});var i=t(9950),a=t(95491),n=t.n(a),s=t(99674),o=t(90650),d=t(44414);const r=e=>{let{fetchOptions:l,debounceTimeout:t=400,onClear:a,refetchOptions:r=!1,...c}=e;const[u,v]=(0,i.useState)(!1),[m,p]=(0,i.useState)([]),h=(0,i.useMemo)((()=>n()((e=>{p([]),v(!0),l(e).then((e=>{p(e),v(!1)}))}),t)),[l,t]);return(0,d.jsx)(s.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:h,onClear:()=>{h(""),a&&a()},notFoundContent:u?(0,d.jsx)(o.A,{size:"small"}):"no results",...c,options:m,onFocus:()=>{m.length&&!r||h("")}})}},32225:(e,l,t)=>{t.d(l,{A:()=>u});var i=t(59233),a=t(80737),n=t(48538),s=t(80905),o=t(9950),d=t(70030),r=t(68073),c=t(44414);const u=e=>{let{onClose:l,onSubmit:t,isButtonLoading:u}=e;const{t:v}=(0,d.B)(),[m,p]=(0,o.useState)(null),[h,g]=(0,o.useState)(null);return(0,c.jsxs)(i.A,{layout:"vertical",onFinish:t,children:[(0,c.jsx)(i.A.Item,{name:"country",label:v("country"),rules:[{required:!0,message:v("required")}],children:(0,c.jsx)(s.j,{hasMore:null===m||void 0===m?void 0:m.next,fetchOptions:e=>{var l;let{search:t,page:i}=e;const a={search:t,page:i,has_price:!0};return null!==t&&void 0!==t&&null!==(l=t.trim())&&void 0!==l&&l.length||null===a||void 0===a||delete a.search,r.A.getCountries(a).then((e=>(p(e.links),e.data.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:"".concat(null===e||void 0===e?void 0:e.id,",").concat(null===e||void 0===e?void 0:e.region_id),key:null===e||void 0===e?void 0:e.id}})))))},onChange:e=>g(e)})}),h&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(i.A.Item,{rules:[{required:!0,message:v("required")}],name:"city",label:v("city"),children:(0,c.jsx)(s.j,{hasMore:null===m||void 0===m?void 0:m.next,fetchOptions:e=>{var l,t;let{search:i,page:a}=e;const n={search:i,page:a,country_id:null===h||void 0===h||null===(l=h.value)||void 0===l?void 0:l.split(",")[0],has_price:!0};return null!==i&&void 0!==i&&null!==(t=i.trim())&&void 0!==t&&t.length||null===n||void 0===n||delete n.search,r.A.getCities(n).then((e=>{p(e.links);const l=[];return 1===e.meta.current_page&&l.push({label:v("whole.country"),value:"all"}),e.data.forEach((e=>{var t;l.push({label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id})})),l}))}})})}),(0,c.jsxs)(a.A,{className:"justify-content-end w-100",children:[(0,c.jsx)(n.A,{onClick:l,htmlType:"button",children:v("cancel")}),(0,c.jsx)(n.A,{loading:u,htmlType:"submit",type:"primary",children:v("add")})]})]})}},34422:(e,l,t)=>{t.d(l,{Q:()=>n});var i=t(59051),a=t.n(i);const n=[{title:"monday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"tuesday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"wednesday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"thursday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"friday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"saturday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")},{title:"sunday",disabled:!1,from:a()("01:00:00","HH:mm:ss"),to:a()("23:00:00","HH:mm:ss")}]},12196:(e,l,t)=>{t.d(l,{A:()=>y});var i=t(9950),a=t(59233),n=t(72243),s=t(87094),o=t(41988),d=t(80737),r=t(66876),c=t(82706),u=t(48538),v=t(8750),m=t(44070),p=t(48970),h=t(64924),g=t(70030),x=t(44414);const y=e=>{var l;let{mediaList:t,setMediaList:y,name:A="products"}=e;const{t:j}=(0,g.B)(),[f]=a.A.useForm(),[b,k]=(0,i.useState)(null),[w,_]=(0,i.useState)([]),[S,I]=(0,i.useState)(!1),[C,N]=(0,i.useState)(!1),H=async e=>{let{file:l,type:t}=e;l.name?(k("video"===t?(0,x.jsx)("video",{controls:!0,src:l.name,width:450,height:450}):(0,x.jsx)(n.A,{src:l.name,width:"100%",height:450,alt:"preview-img"})),I(!0)):k(null)},L=e=>({uid:e.title,name:e.title,status:"done",url:e.title,created:!0});return(0,x.jsxs)(s.A,{gutter:[24,24],children:[(0,x.jsx)(o.A,{span:24,children:(0,x.jsx)(d.A,{className:"align-items-start",children:(0,x.jsx)(r.A,{customRequest:e=>{let{file:l,onSuccess:t}=e;N(!0);const i=new FormData;i.append("image",l),i.append("type",A),h.A.upload(i).then((e=>{let{data:l}=e;y((e=>({...e,images:[...e.images,{...L(l),isVideo:!0}]}))),t("ok")}))},accept:"video/*",listType:"text",className:"video-upload",multiple:!1,fileList:[],children:(0,x.jsxs)("div",{className:"media-upload",children:[(0,x.jsx)(v.A,{})," ",(0,x.jsx)("span",{children:j("upload.video")})]})})})}),(0,x.jsx)(o.A,{span:24,children:null===t||void 0===t||null===(l=t.previews)||void 0===l?void 0:l.map(((e,l)=>{var i,a;return(0,x.jsxs)(d.A,{className:"uploaded-file",wrap:!0,children:[(0,x.jsx)("span",{className:"media-item",onClick:()=>H({type:"img",file:null===t||void 0===t?void 0:t.previews[l]}),children:null===t||void 0===t||null===(i=t.previews[l])||void 0===i?void 0:i.name}),(0,x.jsx)("span",{className:"media-item",onClick:()=>H({type:"video",file:null===t||void 0===t?void 0:t.images[l]}),children:null===t||void 0===t||null===(a=t.images[l])||void 0===a?void 0:a.name}),(0,x.jsx)(m.A,{className:"delete-media-item",onClick:()=>(e=>{const l=t.images.filter(((l,t)=>{if(t!==e)return l})),i=t.previews.filter(((l,t)=>{if(t!==e)return l}));y({images:l,previews:i})})(l)})]})}))}),(0,x.jsx)(c.A,{title:"Video Preview",visible:S,onCancel:()=>{I(!1)},footer:null,children:b}),(0,x.jsx)(c.A,{title:"Preview image",visible:C,footer:null,onCancel:()=>N(!1),children:(0,x.jsx)(a.A,{form:f,onFinish:()=>{y((e=>({...e,previews:[...e.previews,...w]}))),_([]),N(!1)},layout:"vertical",children:(0,x.jsxs)(s.A,{gutter:[24,24],children:[(0,x.jsx)(o.A,{span:24,children:(0,x.jsx)(a.A.Item,{label:j("preview.image"),name:"preview-image",rules:[{required:!(null!==w&&void 0!==w&&w.length),message:j("required")}],children:(0,x.jsx)(p.A,{type:A,imageList:w,setImageList:_,multiple:!1,text:"upload.image",form:f})})}),(0,x.jsx)(o.A,{span:24,className:"d-flex justify-content-end",children:(0,x.jsx)(u.A,{type:"primary",onClick:()=>f.submit(),children:j("save")})})]})})})]})}},80415:(e,l,t)=>{t.d(l,{G:()=>s,HV:()=>a,LH:()=>i,PR:()=>n,wO:()=>d,xt:()=>o});const i={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},a=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),n=30,s="HH:mm",o="hh:mm a",d=!0},68371:(e,l,t)=>{t.d(l,{W:()=>i});const i=[{label:"IN_HOUSE",value:1,key:1},{label:"SELLER",value:2,key:2}]},39492:(e,l,t)=>{t.d(l,{R:()=>i});const i=[{label:"Facebook",value:"facebook",key:"facebook"},{label:"Instagram",value:"instagram",key:"instagram"},{label:"Telegram",value:"telegram",key:"telegram"},{label:"Youtube",value:"youtube",key:"youtube"},{label:"LinkedIn",value:"linkedin",key:"linkedin"},{label:"Snapchat",value:"snapchat",key:"snapchat"},{label:"WeChat",value:"wechat",key:"wechat"},{label:"WhatsApp",value:"whatsapp",key:"whatsapp"},{label:"Twitch",value:"twitch",key:"twitch"},{label:"Discord",value:"discord",key:"discord"},{label:"Pinterest",value:"pinterest",key:"pinterest"},{label:"Steam",value:"steam",key:"steam"},{label:"Spotify",value:"spotify",key:"spotify"},{label:"Reddit",value:"reddit",key:"reddit"},{label:"Skype",value:"skype",key:"skype"},{label:"Twitter",value:"twitter",key:"twitter"},{label:"Web Site",value:"web-site",key:"web-site"}]},29597:(e,l,t)=>{function i(e){var l;if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const t=null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.split(", ");return{lat:Number(null===t||void 0===t?void 0:t[0]),lng:Number(null===t||void 0===t?void 0:t[1])}}t.d(l,{A:()=>i})},6566:(e,l,t)=>{t.d(l,{A:()=>a});var i=t(17706);const a=()=>{var e,l;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IS_DEMO:"false"}.MAP_API_KEY,{google_map_key:a}=null===(e=i.M.getState())||void 0===e||null===(l=e.globalSettings)||void 0===l?void 0:l.settings;return a||t}},65820:(e,l,t)=>{t.d(l,{s:()=>s});var i=t(28429),a=t(21215),n=t.n(a);const s=()=>{const e=(0,i.Zp)(),l=(0,i.zy)(),t=n().parse(l.search,{ignoreQueryPrefix:!0});return{values:t,set:(l,i)=>e({search:n().stringify({...t,[l]:i})}),reset:l=>{const i={...t};i[l]&&delete i[l],e({search:n().stringify({...i})})},clear:()=>e({search:n().stringify({})}),merge:l=>e({search:n().stringify({...t,...l})})}}},68073:(e,l,t)=>{t.d(l,{A:()=>a});var i=t(82371);const a={getCountries:e=>i.A.get("rest/countries",{params:e}),getCities:e=>i.A.get("rest/cities",{params:e})}},77510:(e,l,t)=>{t.r(l),t.d(l,{default:()=>xe});var i=t(86366),a=t(23263),n=t(91854),s=t(74623),o=t(71999),d=t(70030),r=t(65820),c=t(9950),u=t(59233),v=t(80737),m=t(48538),p=t(87094),h=t(41988),g=t(55902),x=t(40577),y=t(99674),A=t(12916),j=t(47992),f=t(98591),b=t(78498),k=t(48970),w=t(58974),_=t(68371),S=t(80415),I=t(28429),C=t(20735),N=t(28257);const H=[{label:"minutes",value:"minute",key:"minute"},{label:"hours",value:"hour",key:"hour"},{label:"days",value:"day",key:"day"}];var L=t(44414);const q=e=>{var l;let{logoImage:t,setLogoImage:i,backImage:s,setBackImage:o,form:r,location:m,setLocation:q}=e;const{t:M}=(0,d.B)(),{uuid:T}=(0,I.g)(),{defaultLang:F,languages:O}=(0,n.d4)((e=>e.formLang),n.bN),{activeMenu:E}=(0,n.d4)((e=>e.menu),n.bN),[P,B]=(0,c.useState)(""),D=(null===E||void 0===E||null===(l=E.data)||void 0===l?void 0:l.documents)||[],V=(0,c.useMemo)((()=>S.HV.map((e=>({label:M(e),value:e,key:e})))),[T]);return(0,L.jsxs)(p.A,{gutter:12,children:[(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(a.A,{children:(0,L.jsxs)(p.A,{gutter:12,children:[(0,L.jsx)(h.A,{span:4,children:(0,L.jsx)(u.A.Item,{label:M("logo.image"),children:(0,L.jsx)(k.A,{type:"shops/logo",imageList:t,setImageList:i,form:r,multiple:!1,name:"logo_img"})})}),(0,L.jsx)(h.A,{span:4,children:(0,L.jsx)(u.A.Item,{label:M("background.image"),children:(0,L.jsx)(k.A,{type:"shops/background",imageList:s,setImageList:o,form:r,multiple:!1,name:"background_img"})})}),(0,L.jsx)(h.A,{span:10,children:(0,L.jsx)(u.A.Item,{label:M("status.note"),name:"status_note",children:(0,L.jsx)(f.A,{rows:4})})}),(0,L.jsx)(h.A,{span:4,children:(0,L.jsx)(u.A.Item,{name:"status",label:M("status"),children:(0,L.jsx)(g.A,{disabled:!0})})})]})})}),(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(a.A,{title:M("general"),children:(0,L.jsxs)(p.A,{gutter:12,children:[(0,L.jsx)(h.A,{span:12,children:(0,L.jsxs)(p.A,{gutter:12,children:[(0,L.jsx)(h.A,{span:24,children:O.map(((e,l)=>(0,L.jsx)(u.A.Item,{label:M("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===F,message:M("required")},{min:2,message:M("title.required")}],hidden:e.locale!==F,children:(0,L.jsx)(g.A,{})},"title"+l)))}),(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(u.A.Item,{label:M("phone"),name:"phone",rules:[{required:!0,message:M("required")}],children:(0,L.jsx)(x.A,{min:0,className:"w-100"})})})]})}),(0,L.jsx)(h.A,{span:12,children:O.map(((e,l)=>(0,L.jsx)(u.A.Item,{label:M("description"),name:"description[".concat(e.locale,"]"),rules:[{required:e.locale===F,message:M("required")},{min:3,message:M("required")}],hidden:e.locale!==F,children:(0,L.jsx)(f.A,{rows:4})},"desc"+l)))}),(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(u.A.Item,{label:M("shop.tags"),name:"tags",rules:[{required:!1,message:M("required")}],children:(0,L.jsx)(j.G,{mode:"multiple",fetchOptions:async function(e){const l={search:e};return w.A.getAllSeller(l).then((e=>{let{data:l}=e;return null===l||void 0===l?void 0:l.map((e=>{var l;return{label:(null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title)||M("no.name"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},style:{minWidth:150}})})}),(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(u.A.Item,{label:M("shop.type"),name:"delivery_type",rules:[{required:!0,message:M("required")}],children:(0,L.jsx)(y.A,{options:_.W})})}),(0,L.jsx)(h.A,{span:12,hidden:!0,children:(0,L.jsx)(u.A.Item,{label:M("seller"),name:"user",rules:[{required:!0,message:M("required")}],children:(0,L.jsx)(g.A,{})})}),!(null===D||void 0===D||!D.length)&&(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(u.A.Item,{label:M("uploaded.documents.for.verification"),children:(0,L.jsx)(v.A,{gap:"4px 0",wrap:!0,children:null===D||void 0===D?void 0:D.map((e=>(0,L.jsx)("a",{href:null===e||void 0===e?void 0:e.path,target:"_blank",rel:"noopener noreferrer",children:(0,L.jsx)(A.A,{icon:(0,L.jsx)(C.A,{}),children:null===e||void 0===e?void 0:e.title})})))})})})]})})}),(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(a.A,{title:M("delivery.time"),children:(0,L.jsxs)(p.A,{gutter:12,children:[(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(u.A.Item,{name:"delivery_time_type",label:M("delivery_time_type"),rules:[{required:!0,message:M("required")}],children:(0,L.jsx)(y.A,{className:"w-100",children:H.map((e=>(0,L.jsx)(y.A.Option,{value:e.value,label:M(e.label)},e.value)))})})}),(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(u.A.Item,{name:"delivery_time_from",label:M("delivery_time_from"),rules:[{required:!0,message:M("required")}],children:(0,L.jsx)(x.A,{className:"w-100"})})}),(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(u.A.Item,{name:"delivery_time_to",label:M("delivery_time_to"),rules:[{required:!0,message:M("required")}],children:(0,L.jsx)(x.A,{className:"w-100"})})})]})})}),(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(a.A,{title:M("order.info"),children:(0,L.jsxs)(p.A,{gutter:12,children:[(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(u.A.Item,{label:M("tax"),name:"tax",rules:[{required:!0,message:M("required")}],children:(0,L.jsx)(x.A,{min:0,addonAfter:"%",className:"w-100"})})}),(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(u.A.Item,{name:"emailStatuses",label:M("email.statuses"),children:(0,L.jsx)(y.A,{mode:"multiple",labelInValue:!0,options:V})})})]})})}),(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(a.A,{title:M("address"),children:(0,L.jsxs)(p.A,{gutter:12,children:[(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(N.A,{value:P,setValue:B,setLocation:q})}),(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(b.A,{location:m,setLocation:q,setAddress:e=>r.setFieldsValue({["address[".concat(F,"]")]:e})})})]})})})]})};var M=t(93966),T=t(29597),F=t(73242);const O=e=>{var l,t,i,o,p,h,g,x;let{next:y}=e;const{t:A}=(0,d.B)(),[j]=u.A.useForm(),f=(0,n.wA)(),b=(0,r.s)(),{languages:k}=(0,n.d4)((e=>e.formLang),n.bN),{activeMenu:w}=(0,n.d4)((e=>e.menu),n.bN),{settings:S}=(0,n.d4)((e=>e.globalSettings),n.bN),{myShop:I}=(0,n.d4)((e=>e.myShop),n.bN),[C,N]=(0,c.useState)(!1),[H,O]=(0,c.useState)(!1),[E,P]=(0,c.useState)(null!==w&&void 0!==w&&null!==(l=w.data)&&void 0!==l&&l.location?{lat:parseFloat(null===w||void 0===w||null===(t=w.data)||void 0===t||null===(i=t.location)||void 0===i?void 0:i.latitude),lng:parseFloat(null===w||void 0===w||null===(o=w.data)||void 0===o||null===(p=o.location)||void 0===p?void 0:p.longitude)}:(0,T.A)(S)),[B,D]=(0,c.useState)([]),[V,R]=(0,c.useState)([]);function Y(e){if(null===e||void 0===e||!e.translations)return{};const{translations:l}=e,t=k.map((e=>{var t,i,a;return{["title[".concat(e.locale,"]")]:null===(t=l.find((l=>l.locale===e.locale)))||void 0===t?void 0:t.title,["description[".concat(e.locale,"]")]:null===(i=l.find((l=>l.locale===e.locale)))||void 0===i?void 0:i.description,["address[".concat(e.locale,"]")]:null===(a=l.find((l=>l.locale===e.locale)))||void 0===a?void 0:a.address}}));return Object.assign({},...t)}const z=e=>({items:e,uid:e,url:e,name:e}),W=()=>{N(!0),M.A.get().then((e=>{var l,t,i,a,n,o,d,r,c,u,v,m,p,h,g,x,y,j,b;R([z(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.background_img)]),D([z(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.logo_img)]);const k={...null===e||void 0===e?void 0:e.data,...Y(null===e||void 0===e?void 0:e.data),user:{label:(null===e||void 0===e?void 0:e.data.seller.firstname)+" "+(e.data.seller.lastname||""),value:e.data.seller.id},delivery_time_from:(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(a=i.delivery_time)||void 0===a?void 0:a.from)||0,delivery_time_to:(null===(n=e.data)||void 0===n||null===(o=n.delivery_time)||void 0===o?void 0:o.to)||0,delivery_time_type:null===(d=e.data)||void 0===d||null===(r=d.delivery_time)||void 0===r?void 0:r.type,categories:null===(c=e.data)||void 0===c||null===(u=c.categories)||void 0===u?void 0:u.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}})),tags:null===(v=e.data)||void 0===v||null===(m=v.tags)||void 0===m?void 0:m.map((e=>{var l;return{label:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}})),price:(null===e||void 0===e||null===(p=e.data)||void 0===p?void 0:p.price)||0,price_per_km:(null===e||void 0===e||null===(h=e.data)||void 0===h?void 0:h.price_per_km)||0,min_amount:(null===e||void 0===e||null===(g=e.data)||void 0===g?void 0:g.min_amount)||0,tax:(null===e||void 0===e||null===(x=e.data)||void 0===x?void 0:x.tax)||0,percentage:(null===e||void 0===e||null===(y=e.data)||void 0===y?void 0:y.percentage)||0,emailStatuses:null===e||void 0===e||null===(j=e.data)||void 0===j||null===(b=j.email_statuses)||void 0===b?void 0:b.map((e=>({label:A(e),value:e,key:e})))};f((0,s.Ok)({activeMenu:w,data:k}))})).finally((()=>{N(!1),f((0,s.km)(w))}))};(0,c.useEffect)((()=>{W()}),[null===(h=b.values)||void 0===h?void 0:h.step]),(0,c.useEffect)((()=>{w.refetch&&W()}),[w.refetch]),(0,c.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);e.open_time=JSON.stringify(null===e||void 0===e?void 0:e.open_time),e.close_time=JSON.stringify(null===e||void 0===e?void 0:e.close_time),f((0,s.Ok)({activeMenu:w,data:{...w.data,...e}}))}),[]);return(0,L.jsx)(a.A,{loading:C,children:(0,L.jsxs)(u.A,{form:j,name:"basic",layout:"vertical",onFinish:e=>{var l,t,i,a,o,d,r;O(!0);const c={...e,delivery_type:(null===e||void 0===e||null===(l=e.delivery_type)||void 0===l?void 0:l.value)||(null===e||void 0===e?void 0:e.delivery_type),"images[0]":null===B||void 0===B||null===(t=B[0])||void 0===t?void 0:t.name,"images[1]":null===V||void 0===V||null===(i=V[0])||void 0===i?void 0:i.name,delivery_time_type:null===e||void 0===e?void 0:e.delivery_time_type,delivery_time_to:null===e||void 0===e?void 0:e.delivery_time_to,delivery_time_from:null===e||void 0===e?void 0:e.delivery_time_from,user_id:null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.value,"location[latitude]":null===E||void 0===E?void 0:E.lat,"location[longitude]":null===E||void 0===E?void 0:E.lng,user:void 0,delivery_time:0,type:"shop"===(null===I||void 0===I?void 0:I.type)?"shop":"restaurant",tags:null===e||void 0===e||null===(o=e.tags)||void 0===o?void 0:o.map((e=>null===e||void 0===e?void 0:e.value)),...Object.assign({},...null!==(d=null===e||void 0===e||null===(r=e.emailStatuses)||void 0===r?void 0:r.map(((e,l)=>({["email_statuses[".concat(l,"]")]:(null===e||void 0===e?void 0:e.value)||e}))))&&void 0!==d?d:[]),emailStatuses:void 0};null===c||void 0===c||delete c.background_img,null===c||void 0===c||delete c.logo_img,function(e,l){M.A.update(l).then((()=>{(0,n.vA)((()=>{f((0,s.Ok)({activeMenu:w,data:e})),f((0,F.v)({}))})),y()})).finally((()=>O(!1)))}(e,c)},initialValues:{visibility:!0,status:"new",...w.data,delivery_type:null!==(g=null===(x=w.data)||void 0===x?void 0:x.delivery_type)&&void 0!==g?g:_.W[0]},children:[(0,L.jsx)(q,{logoImage:B,setLogoImage:D,backImage:V,setBackImage:R,form:j,location:E,setLocation:P}),(0,L.jsx)(v.A,{children:(0,L.jsx)(m.A,{type:"primary",htmlType:"submit",loading:H,children:A("next")})})]})})};var E=t(86971),P=t(25933),B=t(81446),D=t(59051),V=t.n(D),R=t(82371);const Y={getById:e=>R.A.get("dashboard/seller/shop-working-days/".concat(e)),create:e=>R.A.post("dashboard/seller/shop-working-day",e,{}),update:(e,l)=>R.A.put("dashboard/seller/shop-working-days/".concat(e),l,{}),delete:e=>R.A.delete("dashboard/seller/shop-working-days",{params:e})},z={getById:e=>R.A.get("dashboard/seller/shop-closed-dates/".concat(e)),create:e=>R.A.post("dashboard/seller/shop-closed-dates",e,{}),update:(e,l)=>R.A.put("dashboard/seller/shop-closed-dates/".concat(e),l,{}),delete:e=>R.A.delete("dashboard/seller/shop-closed-dates",{params:e})};var W=t(34422),K=t(9213),U=t(13239),J=t(94118),G=t(50384);const Q=e=>{let{next:l,prev:t}=e;const[i]=u.A.useForm(),{t:o}=(0,d.B)(),[r,g]=(0,c.useState)([]),[x,y]=(0,c.useState)(new Array(7).fill(!1)),[j,f]=(0,c.useState)(!1),[b,k]=(0,c.useState)(!1),{myShop:w}=(0,n.d4)((e=>e.myShop),n.bN),_=(0,I.Zp)(),S=(0,n.wA)(),C=[{from:new Date(1900,4,18),to:new Date(V()().subtract(1,"days"))}],{activeMenu:N}=(0,n.d4)((e=>e.menu),n.bN),[H,q]=(0,c.useState)(!0);(0,c.useEffect)((()=>{i.setFieldsValue({working_days:W.Q}),w.uuid&&(k(!0),z.getById(w.uuid).then((e=>{g(e.data.closed_dates.filter((e=>e.day>V()(new Date).format("YYYY-MM-DD"))).map((e=>new Date(e.day))))})),Y.getById(w.uuid).then((e=>{y(0!==e.data.dates.length?e.data.dates.map((e=>e.disabled)):[]),0!==e.data.dates.length&&i.setFieldsValue({working_days:e.data.dates.map((e=>({title:e.day,from:V()(e.from,"HH:mm:ss"),to:V()(e.to,"HH:mm:ss"),disabled:Boolean(e.disabled)})))})})).finally((()=>k(!1))))}),[]);const M=r&&r.length>0?(0,L.jsxs)(p.A,{children:[(0,L.jsx)(A.A,{style:{fontSize:14,padding:"4px 10px",width:"100%",marginTop:"10px"},children:o("Your.existing.vacations")}),(0,L.jsxs)(h.A,{span:24,className:"mt-2",children:[r.slice(0,H?1:r.length).map(((e,l)=>(0,L.jsxs)(v.A,{className:"d-flex justify-content-between",style:{borderBottom:"1px solid #4D5B75"},children:[(0,L.jsx)(h.A,{span:24,style:{fontSize:14,marginTop:"8px"},children:V()(e).format("YYYY-MM-DD")}),(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(A.A,{color:"red",className:"cursor-pointer mt-3 mb-2",style:{fontSize:14},onClick:()=>{return l=e,g(r.filter((e=>e!==l)));var l},children:o("remove")})})]},l))),(0,L.jsx)(m.A,{className:"mt-3 w-100",onClick:()=>{q(!H)},children:H?(0,L.jsx)(G.U29,{}):(0,L.jsx)(G.ZXT,{})})]})]}):(0,L.jsx)(A.A,{style:{fontSize:14,padding:"4px 10px",width:"100%"},children:"Please pick one or more days."}),T=(e,l)=>{const t=[];for(let i=e;i<l;i++)t.push(i);return t},O=()=>({disabledHours:()=>T(0,1),disabledMinutes:()=>T(0,0),disabledSeconds:()=>T(0,60)});return(0,L.jsx)(L.Fragment,{children:b?(0,L.jsx)(B.A,{}):(0,L.jsx)(u.A,{form:i,layout:"vertical",onFinish:e=>{f(!0);const l={dates:r?r.map((e=>V()(e).format("YYYY-MM-DD"))):void 0},t={dates:e.working_days.map((e=>({day:e.title,from:V()(e.from?e.from:"00").format("HH:mm"),to:V()(e.to?e.to:"00").format("HH:mm"),disabled:e.disabled})))},i="my-shop";z.update(w.uuid,l).then((()=>{S((0,s.EK)({...N,nextUrl:i})),_("/".concat(i)),S((0,F.v)())})).finally((()=>f(!1))),0!==e.working_days.length&&Y.update(w.uuid,t).then((()=>{S((0,s.EK)({...N,nextUrl:i})),_("/".concat(i)),S((0,F.v)())})).finally((()=>f(!1)))},children:(0,L.jsxs)(p.A,{children:[(0,L.jsx)(h.A,{span:13,children:(0,L.jsx)(a.A,{title:o("restaurant.working.days"),children:(0,L.jsx)(p.A,{gutter:8,children:(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(u.A.List,{name:"working_days",children:e=>(console.log("fields",e),(0,L.jsx)("div",{children:e.map(((e,l)=>(0,L.jsxs)(p.A,{gutter:12,align:"center",children:[(0,L.jsx)(h.A,{span:7,children:(0,L.jsx)(u.A.Item,{name:[l,"day"],children:(0,L.jsx)("span",{children:o(W.Q[l].title)})})}),x[e.key]?(0,L.jsx)(h.A,{span:13,className:"mt-2",children:(0,L.jsx)("span",{children:o("shop.closed")})}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(h.A,{span:7,children:(0,L.jsx)(u.A.Item,{rules:[{required:!1===x[e.key]}],name:[l,"from"],children:(0,L.jsx)(E.A,{disabledTime:O,picker:"time",placeholder:o("start.time")})})}),(0,L.jsx)(h.A,{span:6,children:(0,L.jsx)(u.A.Item,{rules:[{required:!1===x[e.key]}],name:[l,"to"],children:(0,L.jsx)(E.A,{disabledTime:O,picker:"time",placeholder:o("end.time")})})})]}),(0,L.jsx)(h.A,{span:4,children:(0,L.jsx)(u.A.Item,{name:[l,"disabled"],valuePropName:"checked",children:(0,L.jsx)(P.A,{checkedChildren:(0,L.jsx)(U.A,{}),unCheckedChildren:(0,L.jsx)(J.A,{}),checked:x[e.key],onChange:()=>(e=>{const l=[...x];l[e]=!x[e],y(l)})(e.key)})})})]},e.key)))}))})})})})}),(0,L.jsx)(h.A,{span:11,children:(0,L.jsxs)(a.A,{title:o("restaurant.closed.days"),children:[(0,L.jsx)("p",{children:"If you can't answer the buyer's questions in time and want to share this information with your buyers, you can add the dates here."}),(0,L.jsx)(u.A.Item,{rules:[{required:!1,message:o("required")}],children:(0,L.jsx)(K.hv,{className:"datepicker",mode:"multiple",disabled:C,min:1,selected:r,onSelect:g,footer:M,showOutsideDays:!0})})]})}),(0,L.jsx)(h.A,{span:24,children:(0,L.jsxs)(v.A,{children:[(0,L.jsx)(m.A,{type:"primary",htmlType:"submit",loading:j,children:o("submit")}),(0,L.jsx)(m.A,{htmlType:"submit",onClick:()=>t(),children:o("prev")})]})})]})})})};var Z=t(72243),X=t(52913),$=t(82706),ee=t(13569),le=t(44070),te=t(32225),ie=t(12067),ae=t(85923),ne=t(76083),se=t(55386);const oe=e=>{var l,t;let{next:i,prev:a,locationType:o}=e;const{t:u}=(0,d.B)(),p=(0,n.wA)(),g=(0,r.s)(),{locations:x,loading:y}=(0,n.d4)((e=>e.shopLocations)),{activeMenu:A}=(0,n.d4)((e=>e.menu),n.bN),[j,f]=(0,c.useState)(null),[b,k]=(0,c.useState)(!1),[w,_]=(0,c.useState)(!1),{setIsModalVisible:S}=(0,c.useContext)(se.o),I=[{title:u("location"),dataIndex:"location",key:"location",render:(e,l)=>{var t,i,a,n;return(0,L.jsxs)("span",{children:[null===l||void 0===l||null===(t=l.country)||void 0===t||null===(i=t.translation)||void 0===i?void 0:i.title,null!==l&&void 0!==l&&l.city?",":""," ",null===l||void 0===l||null===(a=l.city)||void 0===a||null===(n=a.translation)||void 0===n?void 0:n.title]})}},{title:u("image"),dataIndex:"country",key:"image",render:e=>{var l;return(0,L.jsx)(Z.A,{src:null===e||void 0===e?void 0:e.img,alt:null===e||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,width:60,height:40})}},{title:u("options"),dataIndex:"options",key:"options",render:(e,l)=>(0,L.jsx)(v.A,{children:(0,L.jsx)(m.A,{onClick:()=>{f([l.id]),S(!0)},type:"primary",danger:!0,icon:(0,L.jsx)(le.A,{})})})}],C={shop_id:null===A||void 0===A||null===(l=A.data)||void 0===l?void 0:l.id,type:null===o||void 0===o?void 0:o.value};return(0,c.useEffect)((()=>{p((0,ee.s3)(C)),p((0,s.km)(A))}),[null===(t=g.values)||void 0===t?void 0:t.step]),(0,c.useEffect)((()=>{A.refetch&&(p((0,ee.s3)(C)),p((0,s.km)(A)))}),[A.refetch]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(v.A,{className:"justify-content-end w-100",children:(0,L.jsx)(m.A,{onClick:()=>_(!0),type:"primary",children:u("add")})}),(0,L.jsx)(X.A,{loading:y,dataSource:x,columns:I}),(0,L.jsx)($.A,{footer:null,visible:w,destroyOnClose:!0,onCancel:()=>_(!1),children:(0,L.jsx)(te.A,{onClose:()=>_(!1),onSubmit:e=>{var l;const t={country_id:e.country.value.split(",")[0],region_id:e.country.value.split(",")[1],shop_id:null===A||void 0===A||null===(l=A.data)||void 0===l?void 0:l.id,type:null===o||void 0===o?void 0:o.value};var i;"all"!==e.city.value&&(t.city_id=null===(i=e.city)||void 0===i?void 0:i.value);k(!0),ie.A.create(t).then((()=>{ae.oR.success(u("successfully.added")),p((0,ee.s3)(C)),_(!1)})).finally((()=>{k(!1)}))},isButtonLoading:b})}),(0,L.jsx)(ne.A,{click:()=>{k(!0);const e={...Object.assign({},...j.map(((e,l)=>({["ids[".concat(l,"]")]:e})))),type:null===o||void 0===o?void 0:o.value};ie.A.delete(e).then((()=>{p((0,ee.s3)(e)),ae.oR.success(u("successfully.deleted"))})).finally((()=>{k(!1),f(null),S(!1)}))},text:u("delete.location"),setText:f,loading:b}),(0,L.jsx)(h.A,{span:24,children:(0,L.jsxs)(v.A,{children:[(0,L.jsx)(m.A,{type:"primary",htmlType:"button",onClick:()=>i(),children:u("next")}),(0,L.jsx)(m.A,{htmlType:"button",onClick:()=>a(),children:u("prev")})]})})]})},de={getAll:e=>R.A.get("dashboard/seller/shop-socials",{params:e}),create:e=>R.A.post("dashboard/seller/shop-socials",e),update:e=>R.A.put("dashboard/seller/shop-socials",{},{params:e})};var re=t(39492);function ce(e){let{prev:l,next:t}=e;const{t:i}=(0,d.B)(),o=(0,n.wA)(),{myShop:r}=(0,n.d4)((e=>e.myShop),n.bN),{activeMenu:x}=(0,n.d4)((e=>e.menu),n.bN),[A,j]=(0,c.useState)([{type:"",content:"",id:_()}]),[f,b]=(0,c.useState)(!1),[k,w]=(0,c.useState)(!1);function _(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let i=0;i<e;i++){t+=l[Math.floor(62*Math.random())]}return t}const S=(e,l,t)=>{j(A.flatMap((i=>i.id===l?{...i,[e]:t}:i)))},I=()=>{b(!0);const e={shop_id:r.id};de.getAll(e).then((e=>{var l;null!==(l=e.data)&&void 0!==l&&l.length&&j(e.data.map((e=>({type:e.type,content:e.content,id:_()}))))})).finally((()=>{b(!1),o((0,s.km)(x))}))};(0,c.useEffect)((()=>{r.id&&I()}),[r.id]),(0,c.useEffect)((()=>{x.refetch&&I()}),[x.refetch]);return(0,L.jsx)(c.Fragment,{children:f?(0,L.jsx)(B.A,{}):(0,L.jsxs)(u.A,{onFinish:()=>{w(!0);const e={data:A.map((e=>e.type&&e.content?{type:e.type,content:e.content}:null)).filter((e=>!!e))};return de.create(e).then((()=>t())).finally((()=>w(!1)))},layout:"vertical",children:[(0,L.jsxs)(a.A,{children:[A.map(((e,l)=>(0,L.jsxs)(p.A,{gutter:12,children:[(0,L.jsx)(h.A,{span:9,children:(0,L.jsx)(u.A.Item,{label:i("type"),children:(0,L.jsx)(y.A,{showSearch:!0,options:re.R,value:e.type,onChange:l=>S("type",e.id,l)})})}),(0,L.jsx)(h.A,{span:12,children:(0,L.jsx)(u.A.Item,{label:i("url"),children:(0,L.jsx)(g.A,{value:e.content,onChange:l=>S("content",e.id,l.target.value)})})}),A.length>1&&(0,L.jsx)(h.A,{span:3,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,L.jsx)(m.A,{type:"primary",danger:!0,icon:(0,L.jsx)(le.A,{}),onClick:()=>{return l=e,void j(A.filter((e=>e.id!==l.id)));var l}})})]},l))),(0,L.jsx)(m.A,{className:"w-100 my-3",type:"dashed",onClick:()=>{j([...A,{type:"",content:"",id:_()}])},children:i("add.social")})]}),(0,L.jsxs)(v.A,{className:"mt-4",children:[(0,L.jsx)(m.A,{onClick:l,children:i("prev")}),(0,L.jsx)(m.A,{type:"primary",htmlType:"submit",loading:!!k,children:i("next")})]})]})})}var ue=t(40895),ve=t(12196);const me={getAll:e=>R.A.get("dashboard/seller/galleries",{params:e}),create:e=>R.A.post("dashboard/seller/galleries",e)},pe=e=>{var l;let{next:t,prev:i}=e;const{t:o}=(0,d.B)(),g=(0,n.wA)(),[x]=u.A.useForm(),y=(0,r.s)(),{activeMenu:A}=(0,n.d4)((e=>e.menu),n.bN),[j,f]=(0,c.useState)(!1),[b,w]=(0,c.useState)(!1),[_,S]=(0,c.useState)([]),[I,C]=(0,c.useState)({images:[],previews:[]}),N=()=>{f(!0),me.getAll({}).then((e=>{var l;const t=(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.galleries)||[];S((e=>{var l;return null===e||void 0===e||null===(l=e.filter((e=>!(null!==e&&void 0!==e&&e.preview))))||void 0===l?void 0:l.map((e=>({uid:e.id,name:e.path,url:e.path})))})(t)),C((e=>{var l,t;const i={images:[],previews:[]},a=null===e||void 0===e||null===(l=e.filter((e=>!(null===e||void 0===e||!e.preview))))||void 0===l?void 0:l.map((e=>({uid:e.id,name:e.preview,url:e.preview}))),n=null===e||void 0===e||null===(t=e.filter((e=>!(null===e||void 0===e||!e.preview))))||void 0===t?void 0:t.map((e=>({uid:e.id,name:e.path,url:e.path})));return i.previews=a,i.images=n,i})(t))})).finally((()=>{f(!1),g((0,s.km)(A))}))};(0,c.useEffect)((()=>{N()}),[null===(l=y.values)||void 0===l?void 0:l.step]),(0,c.useEffect)((()=>{A.refetch&&N()}),[A.refetch]);return(0,L.jsx)(a.A,{loading:j,children:(0,L.jsxs)(u.A,{form:x,onFinish:()=>{var e;w(!0);const l={images:[...null===I||void 0===I?void 0:I.images,..._].map((e=>e.name)),previews:null===I||void 0===I||null===(e=I.previews)||void 0===e?void 0:e.map((e=>e.name)),active:1};me.create(l).then((()=>t())).finally((()=>f(!1)))},layout:"vertical",children:[(0,L.jsx)(p.A,{gutter:12,children:(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(u.A.Item,{label:o("images"),name:"images",children:(0,L.jsx)(k.A,{title:o("upload.image"),imageList:_,setImageList:S,form:x,multiple:!0,type:"shops"})})})}),(0,L.jsx)(ue.A,{}),(0,L.jsx)(p.A,{gutter:12,children:(0,L.jsx)(h.A,{span:24,children:(0,L.jsx)(u.A.Item,{label:o("videos"),name:"videos",children:(0,L.jsx)(ve.A,{mediaList:I,setMediaList:C})})})}),(0,L.jsxs)(v.A,{className:"mt-4",children:[(0,L.jsx)(m.A,{type:"primary",htmlType:"submit",loading:!!b,children:o("next")}),(0,L.jsx)(m.A,{onClick:i,children:o("prev")})]})]})})},he=[{title:"shop",content:"First-content"},{title:"product.locations",content:"Product-location-content"},{title:"service.locations",content:"Service-location-content"},{title:"shop.social",content:"Third-content"},{title:"gallery",content:"Shop-gallery-content"},{title:"delivery",content:"Fourth-content"}],{Step:ge}=i.A;function xe(){var e;const{t:l}=(0,d.B)(),t=(0,n.wA)(),u=(0,r.s)(),v=Number((null===(e=u.values)||void 0===e?void 0:e.step)||0),{activeMenu:m}=(0,n.d4)((e=>e.menu),n.bN),{products_enabled:p}=(0,n.d4)((e=>e.globalSettings.settings),n.bN),h=(0,c.useMemo)((()=>"1"===p?he:he.filter((e=>"Product-location-content"!==e.content))),[p]),g=()=>{const e=v+1;u.set("step",e)},x=()=>{const e=v-1;u.set("step",e)};return(0,L.jsxs)(a.A,{title:l("shop.edit"),extra:(0,L.jsx)(o.A,{}),children:[(0,L.jsx)(i.A,{current:v,onChange:e=>{t((0,s.Ok)({activeMenu:m,data:{...m.data,step:e}})),u.set("step",e)},children:h.map((e=>(0,L.jsx)(ge,{title:l(e.title)},e.title)))}),(0,L.jsxs)("div",{className:"steps-content",children:["First-content"===h[v].content&&(0,L.jsx)(O,{next:g}),"Product-location-content"===h[v].content&&(0,L.jsx)(oe,{next:g,prev:x,locationType:{label:"product",value:1,key:1}}),"Service-location-content"===h[v].content&&(0,L.jsx)(oe,{next:g,prev:x,locationType:{label:"service",value:2,key:2}}),"Third-content"===h[v].content&&(0,L.jsx)(ce,{prev:x,next:g}),"Shop-gallery-content"===h[v].content&&(0,L.jsx)(pe,{next:g,prev:x}),"Fourth-content"===h[v].content&&(0,L.jsx)(Q,{prev:x})]})]})}}}]);