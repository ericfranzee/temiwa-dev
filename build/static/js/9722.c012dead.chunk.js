"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9722],{31281:(e,t,n)=>{function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const l=e.map((e=>({[e.locale]:""===t["".concat(n,"[").concat(e.locale,"]")]?void 0:t["".concat(n,"[").concat(e.locale,"]")]})));return Object.assign({},...l)}n.d(t,{A:()=>l})},12358:(e,t,n)=>{n.d(t,{A:()=>x});var l=n(59233),a=n(87094),i=n(41988),r=n(55902),c=n(40577),s=n(99674),o=n(25933),d=n(48538),u=n(91854),m=n(70030),h=n(9950),v=n(85923),A=n(74623),f=(n(86918),n(28429)),j=n(76206),p=n(44414);const g=["1 day","3 days","7 days","14 days","1 month","2 month","3 month","4 month","5 month","6 month","8 month","18 months","1 year","2 years","5 years"];const x=function(e){let{handleSubmit:t,form:n}=e;const{t:x}=(0,m.B)(),b=(0,u.wA)(),y=(0,f.Zp)(),{defaultLang:k,languages:w}=(0,u.d4)((e=>e.formLang),u.bN),{activeMenu:E}=(0,u.d4)((e=>e.menu)),[I,N]=(0,h.useState)();return(0,p.jsxs)(l.A,{layout:"vertical",form:n,onFinish:e=>{N(!0);const n="seller/gift-cards";t(e).then((()=>{v.oR.success(x("successfully.added")),(0,u.vA)((()=>{b((0,A.EK)({...E,nextUrl:n})),b((0,j.vT)())})),y("/".concat(n))})).finally((()=>N(!1)))},children:[(0,p.jsxs)(a.A,{gutter:12,children:[(0,p.jsx)(i.A,{span:12,children:w.map((e=>(0,p.jsx)(l.A.Item,{label:x("title"),name:"title[".concat(e.locale,"]"),hidden:e.locale!==k,rules:[{validator:(t,n)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return(t?e||(null===t||void 0===t?void 0:t.locale)!==k:e)?e&&""===(null===e||void 0===e?void 0:e.trim())?Promise.reject(new Error(x("no.empty.space"))):e&&(null===e||void 0===e?void 0:e.trim().length)<n?Promise.reject(new Error(x("must.be.at.least.".concat(n)))):Promise.resolve():Promise.reject(new Error(x("required")))}(n,e)}],children:(0,p.jsx)(r.A,{})},"title"+e.id)))}),(0,p.jsx)(i.A,{span:12,children:(0,p.jsx)(l.A.Item,{name:"price",label:x("price"),rules:[{required:!0,message:x("required")}],children:(0,p.jsx)(c.A,{min:0,className:"w-100"})})}),(0,p.jsx)(i.A,{span:12,children:(0,p.jsx)(l.A.Item,{name:"time",label:x("time"),rules:[{required:!0}],children:(0,p.jsx)(s.A,{children:g.map((e=>(0,p.jsx)(s.A.Option,{value:e,children:e},e)))})})}),(0,p.jsx)(i.A,{children:(0,p.jsx)(l.A.Item,{name:"active",valuePropName:"checked",label:x("active"),children:(0,p.jsx)(o.A,{defaultChecked:!0})})})]}),(0,p.jsx)(d.A,{type:"primary",htmlType:"submit",loading:I,children:x("submit")})]})}},89722:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var l=n(91854),a=n(59233),i=n(23263),r=n(28429),c=n(9950),s=n(71999),o=n(12358),d=n(70030),u=n(89842),m=n(74623),h=n(31281),v=n(44414);const A=function(){const e=(0,l.wA)(),{t:t}=(0,d.B)(),[n]=a.A.useForm(),{activeMenu:A}=(0,l.d4)((e=>e.menu),l.bN),{languages:f}=(0,l.d4)((e=>e.formLang),l.bN),{id:j}=(0,r.g)(),[p,g]=(0,c.useState)(!1);function x(e){if(null===e||void 0===e||!e.translations)return{};const{translations:t}=e,n=f.map((e=>{var n;return{["title[".concat(e.locale,"]")]:null===(n=t.find((t=>t.locale===e.locale)))||void 0===n?void 0:n.title}}));return Object.assign({},...n)}return(0,c.useEffect)((()=>{A.refetch&&((t=>{g(!0),u.A.getById(t).then((t=>{var l,a,i;const r={...x(t.data),time:null===(l=t.data)||void 0===l?void 0:l.time,price:null===(a=t.data)||void 0===a?void 0:a.price,active:!(null===(i=t.data)||void 0===i||!i.active)};n.setFieldsValue(r),e((0,m.Ok)({activeMenu:A,data:r}))})).finally((()=>g(!1)))})(j),e((0,m.km)(A)))}),[A.refetch]),(0,v.jsx)(i.A,{title:t("edit.gift.card"),extra:(0,v.jsx)(s.A,{}),loading:p,children:!p&&(0,v.jsx)(o.A,{form:n,handleSubmit:e=>{const t={...e,title:(0,h.A)(f,e,"title")};return u.A.update(j,t)}})})}}}]);