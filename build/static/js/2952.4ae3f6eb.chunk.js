"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2952],{53196:(e,i,s)=>{s.d(i,{A:()=>r});var a=s(82371);const r={getAll:e=>a.A.get("dashboard/admin/subscriptions",{params:e}),getById:(e,i)=>a.A.get("dashboard/admin/subscriptions/".concat(e),{params:i}),update:(e,i)=>a.A.put("dashboard/admin/subscriptions/".concat(e),i),create:e=>a.A.post("dashboard/admin/subscriptions",e)}},32952:(e,i,s)=>{s.r(i),s.d(i,{default:()=>x});var a=s(9950),r=s(59233),t=s(82706),l=s(48538),n=s(87094),d=s(41988),c=s(55902),m=s(40577),o=s(25933),u=s(70030),h=s(53196),p=s(81446),A=s(44414);function x(e){let{modal:i,handleCancel:s,refetch:x}=e;const[j]=r.A.useForm(),{t:b}=(0,u.B)(),[v,g]=(0,a.useState)(!1),[w,f]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{f(!0),h.A.getById(i.id).then((e=>{console.log("data",e.data),j.setFieldsValue({...e.data})})).finally((()=>f(!1)))}),[i]),(0,A.jsx)(a.Fragment,{children:(0,A.jsx)(t.A,{visible:!!i,title:b("edit.subscription"),onCancel:s,style:{minWidth:800},footer:[(0,A.jsx)(l.A,{type:"primary",onClick:()=>j.submit(),loading:v,children:b("save")},"save-btn"),(0,A.jsx)(l.A,{type:"default",onClick:s,children:b("cancel")},"cancel-btn")],children:w?(0,A.jsx)(p.A,{}):(0,A.jsx)(r.A,{form:j,layout:"vertical",onFinish:e=>{const a={...e,active:Number(e.active),with_report:Number(e.with_report),type:"shop"};g(!0),h.A.update(i.id,a).then((()=>{s(),x()})).finally((()=>g(!1)))},initialValues:{active:Boolean(null===i||void 0===i?void 0:i.active),with_report:Boolean(null===i||void 0===i?void 0:i.with_report),...i},children:(0,A.jsxs)(n.A,{gutter:12,children:[(0,A.jsx)(d.A,{span:12,children:(0,A.jsx)(r.A.Item,{label:b("title"),name:"title",rules:[{required:!0,message:b("required")}],children:(0,A.jsx)(c.A,{})})}),(0,A.jsx)(d.A,{span:12,children:(0,A.jsx)(r.A.Item,{label:b("period"),name:"month",rules:[{required:!0,message:b("required")}],children:(0,A.jsx)(m.A,{min:0,max:12,className:"w-100"})})}),(0,A.jsx)(d.A,{span:12,children:(0,A.jsx)(r.A.Item,{label:b("product_limit"),name:"product_limit",rules:[{required:!0,message:b("required")}],children:(0,A.jsx)(m.A,{min:0,className:"w-100"})})}),(0,A.jsx)(d.A,{span:12,children:(0,A.jsx)(r.A.Item,{label:b("order_limit"),name:"order_limit",rules:[{required:!0,message:b("required")}],children:(0,A.jsx)(m.A,{min:0,className:"w-100"})})}),(0,A.jsx)(d.A,{span:12,children:(0,A.jsx)(r.A.Item,{label:b("price"),name:"price",rules:[{required:!0,message:b("required")}],children:(0,A.jsx)(m.A,{min:0,className:"w-100"})})}),(0,A.jsx)(d.A,{span:12,children:(0,A.jsx)(r.A.Item,{label:b("booking.limit"),name:"booking_limit",rules:[{required:!0,message:b("required")}],children:(0,A.jsx)(m.A,{min:0,className:"w-100"})})}),(0,A.jsx)(d.A,{span:12,children:(0,A.jsx)(r.A.Item,{label:b("with_report"),name:"with_report",valuePropName:"checked",children:(0,A.jsx)(o.A,{})})}),(0,A.jsx)(d.A,{span:12,children:(0,A.jsx)(r.A.Item,{label:b("active"),name:"active",valuePropName:"checked",children:(0,A.jsx)(o.A,{})})})]})})})})}}}]);