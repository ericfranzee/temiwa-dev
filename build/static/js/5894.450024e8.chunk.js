"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5894],{62341:(e,t,n)=>{n.d(t,{A:()=>u});var l=n(9950),i=n(90650),o=n(66876),s=n(92759),a=n(8750),r=n(64924),d=n(70030),c=n(44414);const u=e=>{let{fileList:t=[],setFileList:n,type:u,id:v}=e;const{t:p}=(0,d.B)(),[m,x]=(0,l.useState)(!1),h=m?(0,c.jsx)(i.A,{}):(0,c.jsx)(a.A,{}),A=t.find((e=>e.id===v))||[];return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.A,{listType:"picture-card",fileList:(null===A||void 0===A?void 0:A.galleries)||(null===A||void 0===A?void 0:A.images),customRequest:e=>{let{file:l,onSuccess:i}=e;x(!0);const o=new FormData;o.append("image",l),o.append("type",u),r.A.upload(o).then((e=>{let{data:l}=e;((e,l)=>{if(t.findIndex((t=>t.id===e))>=0){const i=t.map((t=>t.id===e?{id:e,images:[...t.images,l]}:t));n(i)}else n((t=>[...t,{id:e,images:[l]}]))})(v,(e=>({uid:e.title,name:e.title,status:"done",url:e.title,created:!0}))(l)),i("ok")})).finally((()=>{x(!1)}))},onRemove:e=>{const l=t.map((t=>{if(t.id===v){const n=t.images.filter((t=>t.uid!==e.uid));return 0===n.length?null:{...t,images:n}}return t})).filter((e=>null!==e));n(l)},showUploadList:!0,accept:".png,.jpg,.jpeg,.webp",beforeUpload:e=>!!(e.size/1024/1024<2)||(s.Ay.error(p("max.2.mb")),!1),children:h})})}},51554:(e,t,n)=>{n.d(t,{A:()=>g});var l=n(9950),i=n(98485),o=n(74635),s=n(23263),a=n(81541),r=n(80737),d=n(87094),c=n(41988),u=n(74947),v=n(40895),p=n(48538),m=n(44738),x=n(91854),h=n(62341),A=n(67231),j=n(44414);const g=e=>{var t;let{prev:n,next:g}=e;const[f,y]=(0,l.useState)([]),{activeMenu:k}=(0,x.d4)((e=>e.menu),x.bN),{newExtras:b}=(null===k||void 0===k?void 0:k.data)||{},C=(0,l.useMemo)((()=>null===b||void 0===b?void 0:b.find((e=>{var t;return"color"===(null===e||void 0===e||null===(t=e.group)||void 0===t?void 0:t.type)}))),[b]);console.log(null===k||void 0===k?void 0:k.data);const S=Array.from(new Set(null===C||void 0===C||null===(t=C.values)||void 0===t?void 0:t.map((e=>e.value)))).map((e=>{var t;return null===C||void 0===C||null===(t=C.values)||void 0===t?void 0:t.find((t=>t.value===e))})),F=S.filter((e=>"color"===e.group_type)),w=e=>({uid:e.path,name:e.path,status:"done",url:e.path,created:!0});return(0,l.useEffect)((()=>{(()=>{const e=k.data.stocks.map((e=>{let{id:t,galleries:n}=e;return{id:t,images:(null===n||void 0===n?void 0:n.map(w))||[]}}));y(e)})()}),[k.data]),console.log(S),(0,j.jsxs)(s.A,{title:(0,j.jsx)(a.A,{placement:"topLeft",title:"In the process of internal desktop applications development",children:(0,j.jsxs)(r.A,{children:[(0,o.t)("add.media.file"),(0,j.jsx)(i.A,{style:{fontSize:16,cursor:"pointer"}})]})}),children:[(0,j.jsx)(d.A,{gutter:[24,24],children:null===F||void 0===F?void 0:F.map((e=>{let{label:t,stock_id:n,value:l}=e;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(c.A,{span:24,children:[(0,j.jsx)(r.A,{className:"mb-4",children:(0,j.jsx)(u.A,{color:t||l,className:"extras-color-badge",text:"".concat(t||l," - ").concat((0,m.n)(t||l))})}),(0,j.jsx)(h.A,{id:n,fileList:f,setFileList:y,type:"stocks"})]}),(0,j.jsx)(v.A,{})]})}))}),(0,j.jsxs)(r.A,{className:"mt-4",children:[(0,j.jsx)(p.A,{onClick:n,children:(0,o.t)("prev")}),(0,j.jsx)(p.A,{type:"primary",htmlType:"submit",onClick:()=>{if(!f.length)return void g();const e=f.map((e=>({...e,images:e.images.map((e=>e.name))})));A.A.updateStocks({data:e}).then((()=>{g()})).catch((e=>{console.log(e)}))},children:(0,o.t)("next")})]})]})}},15894:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var l=n(9950),i=n(71999),o=n(91854),s=n(70030),a=n(86366),r=n(23263),d=n(26405),c=n(86779),u=n(62425),v=n(9930),p=n(76092),m=n(34293),x=n(51554),h=n(44414);const{Step:A}=a.A,j=()=>{var e,t;const{t:n}=(0,s.B)(),{activeMenu:j}=(0,o.d4)((e=>e.menu),o.bN),[g,f]=(0,l.useState)((null===(e=j.data)||void 0===e?void 0:e.step)||0),{extras:y}=(null===j||void 0===j?void 0:j.data)||{},k=(0,l.useMemo)((()=>null===y||void 0===y?void 0:y.find((e=>{var t;return"color"===(null===e||void 0===e||null===(t=e.group)||void 0===t?void 0:t.type)}))),[y]),b=Array.from(new Set(null===k||void 0===k||null===(t=k.values)||void 0===t?void 0:t.map((e=>e.value)))).map((e=>{var t;return null===k||void 0===k||null===(t=k.values)||void 0===t?void 0:t.find((t=>t.value===e))})).filter((e=>"color"===e.group_type)),C=()=>{f(g+1)},S=()=>{f(g-1)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.A,{title:n("add.product"),extra:(0,h.jsx)(i.A,{}),children:(0,h.jsx)(a.A,{current:g,children:d.C.map((e=>(0,h.jsx)(A,{title:n(e.title)},e.title)))})}),(0,h.jsxs)("div",{className:"",children:["First-content"===d.C[g].content&&(0,h.jsx)(m.A,{next:C}),"Second-content"===d.C[g].content&&(0,h.jsx)(p.A,{next:C,prev:S}),"Third-content"===d.C[g].content&&(0,h.jsx)(v.A,{next:C,prev:S}),"gallery-content"===d.C[g].content&&b.length>0&&(0,h.jsx)(x.A,{next:C,prev:S}),"Fourth-content"===d.C[g].content&&(0,h.jsx)(c.A,{next:C,prev:S}),"Finish-content"===d.C[g].content&&(0,h.jsx)(u.A,{prev:S})]})]})}}}]);