"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6455],{35116:(e,t,i)=>{i.d(t,{A:()=>r});i(9950);var d=i(48538),a=i(44070),n=i(85923),o=i(70030),s=i(13311),l=i(44414);function r(e){let{size:t="",onClick:i,type:r="default",...c}=e;const{t:u}=(0,o.B)(),{isDemo:v}=(0,s.A)();return(0,l.jsx)(d.A,{size:t,icon:(0,l.jsx)(a.A,{}),onClick:e=>{v?n.oR.warning(u("cannot.work.demo")):i(e)},type:r,...c})}},12970:(e,t,i)=>{function d(e){var t,i;let d=null===e||void 0===e?void 0:e.slice(0,1),a=null===e||void 0===e?void 0:e.lastIndexOf("@"),n=null===e||void 0===e?void 0:e.slice(1,a-1);n=null===(t=n)||void 0===t?void 0:t.replace(/./g,"*");let o=null===e||void 0===e?void 0:e.slice(a-1,e.length);return null===d||void 0===d||null===(i=d.concat(n))||void 0===i?void 0:i.concat(o)}i.d(t,{A:()=>d})},6455:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var d=i(9950),a=i(25933),n=i(80737),o=i(48538),s=i(23263),l=i(52913),r=i(70030),c=i(91854),u=i(76083),v=i(98459),m=i(7843),f=i(85923),A=i(55386),p=i(74623),x=i(59051),h=i.n(x),g=i(24513),k=i(53387),y=i(28429),j=i(12970),_=i(13311),w=i(35116),C=i(44414);function b(){const{t:e}=(0,r.B)(),[t,i]=(0,d.useState)(!1),{activeMenu:x}=(0,c.d4)((e=>e.menu),c.bN),b=(0,c.wA)(),z=(0,y.Zp)(),[I,M]=(0,d.useState)(null),[P,R]=(0,d.useState)("delete"),{setIsModalVisible:S}=(0,d.useContext)(A.o),{isDemo:D}=(0,_.A)(),{emailProvider:Y,loading:B}=(0,c.d4)((e=>e.emailProvider),c.bN);const V=[{title:e("from_site"),dataIndex:"from_site",key:"from_site"},{title:e("from.to"),dataIndex:"from_to",key:"from_to",render:e=>D?(0,j.A)(e):e},{title:e("active"),dataIndex:"active",render:(e,t)=>(0,C.jsx)(a.A,{onChange:()=>{R("active"),S(!0),M(t.id)},checked:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",render:e=>h()(e).format("YYYY-MM-DD")},{title:e("options"),key:"id",dataIndex:"id",is_show:!0,render:(t,i)=>(0,C.jsxs)(n.A,{children:[(0,C.jsx)(o.A,{type:"primary",icon:(0,C.jsx)(g.A,{}),onClick:()=>function(t){b((0,p.X4)({url:"settings/emailProviders/".concat(t.id),id:"edit_email_providers",name:e("edit.email.providers")})),z("/settings/emailProviders/".concat(t.id),{state:"edit"})}(i)}),(0,C.jsx)(w.A,{onClick:()=>E(t)})]})}],E=t=>{t?(R("delete"),M([t]),S(!0)):f.oR.warning(e("no.id"))};return(0,d.useEffect)((()=>{x.refetch&&(b((0,v.o)()),b((0,p.km)(x)))}),[x.refetch]),(0,C.jsxs)(s.A,{title:e("email.provider"),extra:(0,C.jsx)(n.A,{children:(0,C.jsx)(o.A,{icon:(0,C.jsx)(k.A,{}),type:"primary",onClick:()=>{b((0,p.X4)({id:"add_email_providers",url:"settings/emailProviders/add",name:e("add_email_providers")})),z("/settings/emailProviders/add")},children:e("add.email.provider")})}),children:[(0,C.jsx)(l.A,{scroll:{x:!0},columns:V,dataSource:Y,rowKey:e=>e.id,loading:B,pagination:!1}),(0,C.jsx)(u.A,{click:"delete"===P?()=>{i(!0);const t={...Object.assign({},...I.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};m.A.delete(t).then((()=>{M(null),S(!1),f.oR.success(e("successfully.deleted")),b((0,p.Ms)(x))})).finally((()=>i(!1)))}:()=>{i(!0),m.A.setActive(I).then((()=>{f.oR.success(e("successfully.updated")),S(!1),b((0,v.o)())})).finally((()=>i(!1)))},text:e("delete"===P?"are.you.sure.to.delete":"set.active.email.provider"),loading:t})]})}},53387:(e,t,i)=>{i.d(t,{A:()=>l});var d=i(89379),a=i(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var o=i(25085),s=function(e,t){return a.createElement(o.A,(0,d.A)((0,d.A)({},e),{},{ref:t,icon:n}))};const l=a.forwardRef(s)}}]);