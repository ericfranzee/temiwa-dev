"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9297],{39297:(e,r,l)=>{l.r(r),l.d(r,{default:()=>b});var a=l(9950),i=l(59233),s=l(23263),t=l(71999),n=l(28429),d=l(17292),u=l(59051),c=l.n(u),o=l(91854),m=l(74623),p=l(70030),x=l(1800),h=l(23962),A=l(85923),j=l(44414);const b=()=>{const{t:e}=(0,p.B)(),[r]=i.A.useForm(),[l,u]=(0,a.useState)(!1),b=(0,o.wA)(),f=(0,n.Zp)(),{activeMenu:y}=(0,o.d4)((e=>e.menu),o.bN),{myShop:v}=(0,o.d4)((e=>e.myShop),o.bN);return(0,j.jsx)(s.A,{title:e("add.coupon"),extra:(0,j.jsx)(t.A,{}),children:(0,j.jsx)(h.A,{form:r,handleSubmit:r=>{const l="seller/coupons",a={...r,shop_id:null===v||void 0===v?void 0:v.id,expired_at:c()(r.expired_at).format("YYYY-MM-DD"),qty:Number(r.qty),price:Number(r.price)};return d.A.create(a).then((r=>{A.oR.success(e("successfully.added")),(0,o.vA)((()=>{b((0,m.EK)({...y,nextUrl:l})),b((0,x.F)({}))})),f("/".concat(l))}))}})})}},23962:(e,r,l)=>{l.d(r,{A:()=>j});var a=l(9950),i=l(59233),s=l(87094),t=l(41988),n=l(55902),d=l(99674),u=l(86971),c=l(40577),o=l(48538),m=l(59051),p=l.n(m),x=l(70030),h=l(91854),A=l(44414);function j(e){let{form:r,handleSubmit:l}=e;const{t:m}=(0,x.B)(),{defaultLang:j,languages:b}=(0,h.d4)((e=>e.formLang),h.bN),{activeMenu:f}=(0,h.d4)((e=>e.menu),h.bN),y=[{label:m("delivery.fee"),value:"delivery_fee",key:"delivery_fee"},{label:m("total.price"),value:"total_price",key:"total_price"},{label:m("booking.total.price"),value:"booking_total_price",key:"booking_total_price"}],[v,q]=(0,a.useState)(!1);return(0,A.jsxs)(i.A,{form:r,name:"coupon-form",layout:"vertical",onFinish:e=>{q(!0),l(e).finally((()=>q(!1)))},initialValues:{for:"delivery_fee",type:"fix",...null===f||void 0===f?void 0:f.data},children:[(0,A.jsxs)(s.A,{gutter:12,children:[(0,A.jsx)(t.A,{span:12,children:b.map((e=>(0,A.jsx)(i.A.Item,{label:m("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===j,message:m("required")}],hidden:e.locale!==j,children:(0,A.jsx)(n.A,{})},"title"+e.id)))}),(0,A.jsx)(t.A,{span:12,children:(0,A.jsx)(i.A.Item,{label:m("name"),name:"name",rules:[{required:!0,message:m("required")}],children:(0,A.jsx)(n.A,{})})}),(0,A.jsx)(t.A,{span:12,children:(0,A.jsx)(i.A.Item,{label:m("type"),name:"type",rules:[{required:!0,message:m("required")}],children:(0,A.jsxs)(d.A,{children:[(0,A.jsx)(d.A.Option,{value:"fix",children:m("fix")}),(0,A.jsx)(d.A.Option,{value:"percent",children:m("percent")})]})})}),(0,A.jsx)(t.A,{span:12,children:(0,A.jsx)(i.A.Item,{name:"expired_at",label:m("expired.at"),rules:[{required:!0,message:m("required")}],children:(0,A.jsx)(u.A,{className:"w-100",placeholder:"",disabledDate:e=>p()().add(-1,"days")>=e})})}),(0,A.jsx)(t.A,{span:12,children:(0,A.jsx)(i.A.Item,{label:m("quantity"),name:"qty",rules:[{required:!0,message:m("required")}],children:(0,A.jsx)(c.A,{min:0,className:"w-100"})})}),(0,A.jsx)(t.A,{span:12,children:(0,A.jsx)(i.A.Item,{label:m("price"),name:"price",rules:[{required:!0,message:m("required")}],children:(0,A.jsx)(c.A,{min:0,className:"w-100"})})}),(0,A.jsx)(t.A,{span:12,children:(0,A.jsx)(i.A.Item,{name:"for",label:"for",rules:[{required:!0,message:m("required")}],children:(0,A.jsx)(d.A,{options:y})})})]}),(0,A.jsx)(o.A,{type:"primary",htmlType:"submit",loading:v,children:m("submit")})]})}}}]);