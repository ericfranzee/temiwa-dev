"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[218],{73041:(e,t,l)=>{l.d(t,{A:()=>d});var a=l(23263),o=l(74522),n=(l(9950),l(44414));const d=e=>{let{loading:t}=e;return(0,n.jsx)(a.A,{className:"order-card",children:(0,n.jsx)(o.A,{loading:t,avatar:!0,active:!0})})}},8297:(e,t,l)=>{l.d(t,{A:()=>s});var a=l(9950),o=l(55902),n=l(41397),d=l(60767),i=l(44414);function s(e){let{handleChange:t,defaultValue:l,resetSearch:s,...r}=e;const[c,u]=(0,a.useState)(l),v=(0,a.useMemo)((()=>(0,n.debounce)((e=>{t(e)}),800)),[]);return(0,a.useEffect)((()=>{u(l)}),[s]),(0,i.jsx)(o.A,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,i.jsx)(d.A,{}),...r})}},83645:(e,t,l)=>{l.d(t,{A:()=>d});var a=l(17706),o=l(80415);const n=2147483647;function d(e){let t=((e,t,l)=>{const n=Number(null===(e=a.M.getState())||void 0===e||null===(t=e.globalSettings)||void 0===t||null===(l=t.settings)||void 0===l?void 0:l.order_refresh_timeout);return!isNaN(n)?n:o.PR})();return t?(t>n&&(t=n),setInterval((()=>{e()}),1e3*Number(t))):null}},48946:(e,t,l)=>{l.d(t,{A:()=>o});var a=l(82371);const o={orderExport:(e,t)=>a.A.get("dashboard/user/export/order/".concat(e,"/pdf"),{params:t,responseType:"blob"})}},26714:(e,t,l)=>{l.d(t,{A:()=>A});var a=l(9950),o=l(48946),n=l(39362),d=l.n(n),i=l(81446),s=l(23263),r=l(82706),c=l(48538),u=l(87094),v=l(41988),h=l(70030),p=l(50384),g=l(68873),m=l(28429),x=l(44414);const y=s.A.Meta,A=e=>{let{id:t,handleCancel:l}=e;const[n,A]=(0,a.useState)(null),{t:j}=(0,h.B)(),f=(0,m.Zp)();return(0,x.jsx)(x.Fragment,{children:n?(0,x.jsx)(i.A,{}):(0,x.jsx)(r.A,{visible:!!t,title:j("selected.download"),closable:!1,handleCancel:l,footer:[(0,x.jsx)(c.A,{type:"default",onClick:l,children:j("cancel")},"cancelBtn")],children:(0,x.jsxs)(u.A,{children:[(0,x.jsx)(v.A,{span:12,children:(0,x.jsx)(s.A,{title:j("download.pdf"),onClick:()=>function(e){A(!0),o.A.orderExport(e).then((t=>{d()(t,"invoice_".concat(e,".pdf"),"application/pdf"),l()})).finally((()=>A(!1)))}(t),className:"text-center cursor-pointer",children:(0,x.jsx)(y,{className:"d-flex align-items-center justify-content-center",title:(0,x.jsx)(p.yos,{size:80})})})}),(0,x.jsx)(v.A,{span:12,children:(0,x.jsx)(s.A,{title:j("download.check"),onClick:()=>(e=>{f("/orders/generate-invoice/".concat(e))})(t),className:"text-center cursor-pointer",children:(0,x.jsx)(y,{className:"d-flex align-items-center justify-content-center",title:(0,x.jsx)(g.TBA,{size:85})})})})]})})})}},60218:(e,t,l)=>{l.r(t),l.d(t,{default:()=>xe});var a=l(9950),o=l(86971),n=l(80737),d=l(48538),i=l(23263),s=l(28429),r=l(13700),c=l(53387),u=l(91854),v=l(74623),h=l(70030),p=l(88986),g=l(53177),m=l(90352),x=l(8297),y=l(51242),A=l(47992),j=l(53271),f=l(56592),b=l(23283),_=l(38635),w=l(26714),C=l(85923),S=l(23758),k=l(55386),M=l(76083),D=l(59051),Y=l.n(D),T=l(58547),O=l(54209),N=l(99985),I=l(12916),z=l(69355),P=l(44414);const H=e=>{let{children:t,title:l,name:a,isDropDisabled:o,total:d=0,loading:i=!1,reloadOrder:s}=e;const{t:r}=(0,h.B)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(N.A,{message:(0,P.jsxs)(n.A,{children:[(0,P.jsx)(O.A,{size:20,style:{cursor:"pointer"},spin:i,onClick:s}),r(l),(0,P.jsx)(I.A,{children:i?(0,P.jsx)(O.A,{spin:!0}):d})]}),className:"mb-4 ".concat(a),style:{textAlign:"center",fontSize:16,textTransform:"capitalize"}}),(0,P.jsx)(z.gL,{droppableId:a,isDropDisabled:o,children:e=>(0,P.jsx)("div",{ref:e.innerRef,className:"h-screen",style:{opacity:o?.6:1},children:(0,P.jsxs)(P.Fragment,{children:[t,e.placeholder]})})})]})};var B=l(90650),V=l(79378),E=l(76074),L=l(18411),R=l(46809),F=l(4399),G=l(19826),Z=l(44070),q=l(98114),J=l(12678),U=l(74522),X=l(98252),K=l(63611),$=l(53774),Q=l(39174),W=l(13311);const{Meta:ee}=i.A,te=e=>{var t,l,a,o,d,s,r,c,u,v,p,g;let{data:m,goToShow:x,loading:y,setLocationsMap:A,setId:j,setIsModalVisible:f,setText:b,setDowloadModal:_,setTabType:w}=e;const{t:S}=(0,h.B)(),k=[{title:"Client",icon:(0,P.jsx)(V.A,{}),data:null!==m&&void 0!==m&&m.user?"".concat((null===(t=m.user)||void 0===t?void 0:t.firstname)||"-"," ").concat((null===(l=m.user)||void 0===l?void 0:l.lastname)||"-"):S("deleted.user")},{title:"Deliveryman",icon:(0,P.jsx)(E.A,{}),data:"".concat((null===(a=m.deliveryman)||void 0===a?void 0:a.firstname)||"-"," ").concat((null===(o=m.deliveryman)||void 0===o?void 0:o.lastname)||"-")},{title:"Amount",icon:(0,P.jsx)(L.A,{}),data:(0,$.default)(null===m||void 0===m?void 0:m.total_price,null===(d=m.currency)||void 0===d?void 0:d.symbol,null===m||void 0===m||null===(s=m.currency)||void 0===s?void 0:s.position)},{title:"Payment type",icon:(0,P.jsx)(R.A,{}),data:(null===(r=m.transaction)||void 0===r||null===(c=r.payment_system)||void 0===c?void 0:c.tag)||"-"},{title:"Payment status",icon:(0,P.jsx)(F.A,{}),data:(null===(u=m.transaction)||void 0===u?void 0:u.status)||"-"},{title:"Delivery date",icon:(0,P.jsx)(G.A,{}),data:Y()(null===m||void 0===m?void 0:m.delivery_date).format("YYYY-MM-DD")||"-"},{title:"Created at",icon:(0,P.jsx)(G.A,{}),data:Y()(null===m||void 0===m?void 0:m.created_at).format("YYYY-MM-DD")||"-"}],{isDemo:M}=(0,W.A)(),D=[(0,P.jsx)(Q.kMs,{size:20,onClick:e=>{e.stopPropagation(),A(m.id)}}),(0,P.jsx)(Z.A,{onClick:e=>{M?C.oR.warning(S("cannot.work.demo")):(e.stopPropagation(),j([m.id]),f(!0),b(!0),w(m.status))}}),(0,P.jsx)(q.A,{onClick:e=>{e.stopPropagation(),_(m.id)}}),(0,P.jsx)(J.A,{onClick:e=>{e.stopPropagation(),x(m)}})];return(0,P.jsx)(i.A,{actions:D,className:"order-card",children:(0,P.jsxs)(U.A,{loading:y,avatar:!0,active:!0,children:[(0,P.jsx)(ee,{avatar:(0,P.jsx)(X.A,{src:null===m||void 0===m||null===(v=m.user)||void 0===v?void 0:v.img}),description:"#".concat(m.id),title:null===m||void 0===m||null===(p=m.shop)||void 0===p||null===(g=p.translation)||void 0===g?void 0:g.title}),(0,P.jsx)(K.Ay,{itemLayout:"horizontal",dataSource:k,renderItem:(e,t)=>(0,P.jsx)(K.Ay.Item,{children:(0,P.jsxs)(n.A,{children:[null===e||void 0===e?void 0:e.icon,"".concat(null===e||void 0===e?void 0:e.title,":  ").concat(null===e||void 0===e?void 0:e.data)]})},t)})]})})};var le=l(69466),ae=l(2260),oe=l(80415),ne=l(73041),de=l(81446),ie=l(46726);const se=e=>{let{goToEdit:t,goToShow:l,fetchOrderAllItem:o,fetchOrders:n,setLocationsMap:d,setId:i,setIsModalVisible:s,setText:r,setDowloadModal:c,type:v,setTabType:h}=e;const p=(0,u.wA)(),{statusList:m,loading:x}=(0,u.d4)((e=>e.orderStatus),u.bN),y=null===m||void 0===m?void 0:m.map((e=>null===e||void 0===e?void 0:e.name)),{items:A}=(0,u.d4)((e=>e.orders),u.bN),j=(0,u.d4)((e=>e.orders),u.bN),[f,b]=(0,a.useState)(""),[_,w]=(0,a.useState)({}),[k,M]=(0,a.useState)({}),[D,Y]=(0,a.useState)({}),[T,O]=(0,a.useState)(null),[N,I]=(0,a.useState)(""),V=e=>{const t={...A},l=t[e.source.droppableId],[a,o]=((e,t)=>{const l=Array.from(e),[a]=l.splice(t,1);return[a,l]})(l,e.source.index);t[e.source.droppableId]=o;const n=t[e.destination.droppableId];t[e.destination.droppableId]=((e,t,l)=>{const a=Array.from(e);return a.splice(t,0,l),a})(n,e.destination.index,a),p((0,g.jb)(t)),Y(null)},E=e=>{var t,l;e.destination&&(M(e),t=e.draggableId,l={status:e.destination.droppableId},S.A.updateStatus(t,l).then((()=>{C.oR.success("#".concat(t," order status changed"))})),V(e))},L=e=>(0!==e||D!==y.length-1)&&Boolean(D>e);(0,a.useEffect)((()=>{p((0,g.gw)()),o()}),[v]);return(0,P.jsxs)(P.Fragment,{children:[x?(0,P.jsx)("div",{children:(0,P.jsx)(de.A,{})}):(0,P.jsx)(z.JY,{onDragEnd:E,onDragStart:e=>{const t=y.findIndex((t=>t===e.source.droppableId));w(e),Y(t)},children:(0,P.jsx)("div",{className:"order-board",children:null===y||void 0===y?void 0:y.map(((e,a)=>{var o,u,v,m,x,y,_;return(0,P.jsx)("div",{className:"dnd-column",children:(0,P.jsx)(H,{title:e,onDragEnd:E,name:e,isDropDisabled:L(a),total:null===(o=A[e])||void 0===o?void 0:o.length,loading:null===(u=j[e])||void 0===u?void 0:u.loading,reloadOrder:()=>(e=>{p((0,g.yT)(e)),n({status:e})})(e),children:(0,P.jsxs)(le.Ay,{onScroll:t=>((e,t)=>{const l=e.target.lastChild,a=e.target.clientHeight+e.target.scrollTop;var o;l&&a>l.offsetTop+l.clientHeight+19.9&&j[t].meta.last_page>j[t].meta.current_page&&(null===(o=j[t])||void 0===o||!o.loading)&&(b(t),n({page:j[t].meta.current_page+1,perPage:5,status:t}))})(t,e),autoHeight:!0,autoHeightMin:"75vh",autoHeightMax:"75vh",autoHide:!0,id:e,children:[Boolean((null===(v=j[e])||void 0===v?void 0:v.loading)&&!(null!==(m=A[e])&&void 0!==m&&m.length))?null===(y=oe.LH[e])||void 0===y?void 0:y.map((()=>(0,P.jsx)(ne.A,{loading:!0}))):null===(x=A[e])||void 0===x?void 0:x.map(((e,a)=>(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(z.sx,{draggableId:e.id.toString(),index:a,children:a=>(0,P.jsx)("div",{ref:a.innerRef,...a.draggableProps,...a.dragHandleProps,children:(0,P.jsx)(te,{data:e,goToEdit:t,goToShow:l,setLocationsMap:d,setId:i,setIsModalVisible:s,setText:r,setDowloadModal:c,setTabType:h})})},e.id)}))),(null===(_=j[e])||void 0===_?void 0:_.loading)&&e===f&&(0,P.jsx)(B.A,{indicator:(0,P.jsx)(ae.A,{style:{fontSize:24},spin:!0})})]})})},e)}))})}),T&&(0,P.jsx)(ie.A,{result:k,changeColumnData:V,statusChangedOrder:T,setStatusChangedOrder:O,modalNoteType:N})]})};var re=l(91258),ce=l(38525),ue=l(63620),ve=l(2905),he=l(78687),pe=l(82206),ge=l(83645);const{RangePicker:me}=o.A;function xe(){var e,t,l,o,D,O,N,I,z,H;const B=(0,u.wA)(),V=(0,s.Zp)(),{t:E}=(0,h.B)(),{type:L}=(0,s.g)(),{statusList:R}=(0,u.d4)((e=>e.orderStatus),u.bN),[F,G]=(0,a.useState)(null),[Z,q]=(0,a.useState)(null),[J,U]=(0,a.useState)(null),[X,K]=(0,a.useState)(!1),[$,Q]=(0,a.useState)(null),[W,ee]=(0,a.useState)(null),{setIsModalVisible:te}=(0,a.useContext)(k.o),{activeMenu:le}=(0,u.d4)((e=>e.menu),u.bN),[ae,oe]=(0,a.useState)(null),[ne,de]=(0,a.useState)(null),[ie,xe]=(0,a.useState)(!1),[ye,Ae]=(0,a.useState)(null),je=null===le||void 0===le?void 0:le.data,fe={search:null!==je&&void 0!==je&&je.search?je.search:void 0,perPage:(null===je||void 0===je?void 0:je.perPage)||5,page:(null===je||void 0===je?void 0:je.page)||1,user_id:null===je||void 0===je?void 0:je.client_id,region_id:null===je||void 0===je||null===(e=je.region)||void 0===e?void 0:e.value,country_id:null===je||void 0===je||null===(t=je.country)||void 0===t?void 0:t.value,city_id:null===je||void 0===je||null===(l=je.city)||void 0===l?void 0:l.value,status:null===je||void 0===je?void 0:je.role,type:"1",shop_id:null!==(null===(o=le.data)||void 0===o?void 0:o.shop_id)?null===(D=le.data)||void 0===D?void 0:D.shop_id:null,delivery_type:"scheduled"!==L?L:void 0,delivery_date_from:"scheduled"===L?Y()().add(1,"day").format("YYYY-MM-DD"):void 0,date_from:(null===ye||void 0===ye||null===(O=ye[0])||void 0===O?void 0:O.format("YYYY-MM-DD"))||void 0,date_to:(null===ye||void 0===ye||null===(N=ye[1])||void 0===N?void 0:N.format("YYYY-MM-DD"))||void 0};(0,p.A)((()=>{B((0,g.gw)()),Ce()}),[je,ye]);const be=(e,t)=>{(0,u.vA)((()=>{B((0,g.gw)()),B((0,v.Ok)({activeMenu:le,data:{...je,[t]:e}}))}))};const _e=()=>{G(null),Q(null),q(null),U(null)};const we=e=>{var t,l,a,o,n,d,i;const s={...e,delivery_type:"scheduled"!==L?L:void 0,delivery_date_from:"scheduled"===L?Y()().add(1,"day").format("YYYY-MM-DD"):void 0,search:null!==je&&void 0!==je&&je.search?je.search:void 0,user_id:null===je||void 0===je?void 0:je.client_id,region_id:null===je||void 0===je||null===(t=je.region)||void 0===t?void 0:t.value,country_id:null===je||void 0===je||null===(l=je.country)||void 0===l?void 0:l.value,city_id:null===je||void 0===je||null===(a=je.city)||void 0===a?void 0:a.value,status:null===e||void 0===e?void 0:e.status,type:"1",shop_id:null!==(null===(o=le.data)||void 0===o?void 0:o.shop_id)?null===(n=le.data)||void 0===n?void 0:n.shop_id:null,date_from:(null===ye||void 0===ye||null===(d=ye[0])||void 0===d?void 0:d.format("YYYY-MM-DD"))||void 0,date_to:(null===ye||void 0===ye||null===(i=ye[1])||void 0===i?void 0:i.format("YYYY-MM-DD"))||void 0};switch(null===e||void 0===e?void 0:e.status){case"new":B((0,g.wy)(s));break;case"accepted":B((0,g.tB)(s));break;case"ready":B((0,g.xR)(s));break;case"on_a_way":B((0,g.n7)(s));break;case"delivered":B((0,g.Cg)(s));break;case"canceled":B((0,g.xm)(s));break;case"cooking":B((0,g.yC)(s));break;case"pause":B((0,g.S7)(s));break;default:console.log("Sorry, we are out of")}},Ce=()=>{we({status:"new"}),we({status:"accepted"}),we({status:"ready"}),we({status:"on_a_way"}),we({status:"delivered"}),we({status:"canceled"}),we({status:"cooking"}),we({status:"pause"})};return(0,a.useEffect)((()=>{null!==le&&void 0!==le&&le.refetch&&(0,u.vA)((()=>{B((0,g.Gb)(fe)),B((0,v.km)(le)),B((0,m.rA)({})),B((0,m.nr)({}))}));const e=(0,ge.A)((()=>{B((0,g.gw)()),Ce()}));return()=>clearInterval(e)}),[null===le||void 0===le?void 0:le.refetch]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(n.A,{className:"w-100 justify-content-end mb-3",children:[(0,P.jsx)(re.A,{listType:"orders-board"}),(0,P.jsxs)(d.A,{onClick:()=>{K(!0),S.A.export(fe).then((e=>window.location.href=ue.bb+e.data.file_name)).finally((()=>K(!1)))},loading:X,style:{width:"100%"},children:[(0,P.jsx)(ce.$tV,{className:"mr-2"}),E("export")]}),(0,P.jsx)(d.A,{icon:(0,P.jsx)(r.A,{}),onClick:()=>{(0,u.vA)((()=>{B((0,g.gw)()),B((0,v.Ok)({activeMenu:le,data:null}))})),Ce()},style:{width:"100%"},children:E("clear")}),(0,P.jsx)(d.A,{type:"primary",icon:(0,P.jsx)(c.A,{}),onClick:()=>{B((0,y.Uy)()),B((0,v.wr)({id:"pos.system_01",url:"pos-system",name:"pos.system"})),V("/pos-system")},style:{width:"100%"},children:E("add.order")})]}),(0,P.jsx)(i.A,{children:(0,P.jsxs)(n.A,{wrap:!0,className:"order-filter",size:[8,15],children:[(0,P.jsx)(x.A,{defaultValue:null===je||void 0===je?void 0:je.search,resetSearch:!(null!==je&&void 0!==je&&je.search),placeholder:E("search"),handleChange:e=>be(e,"search")}),(0,P.jsx)(A.G,{placeholder:E("select.shop"),fetchOptions:async function(e){const t={search:e,status:"approved"};return T.A.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,key:e.id}}))}))},style:{width:"100%"},onClear:()=>B((0,g.gw)()),onSelect:e=>be(e.value,"shop_id"),onDeselect:()=>be(null,"shop_id"),allowClear:!0,value:null===je||void 0===je?void 0:je.shop_id}),(0,P.jsx)(A.G,{placeholder:E("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return j.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:"".concat(e.firstname," ").concat(e.lastname),value:e.id,key:e.id})))}))},onSelect:e=>be(e.value,"client_id"),onDeselect:()=>be(null,"client_id"),style:{width:"100%"},value:null===je||void 0===je?void 0:je.client_id}),(0,P.jsx)(A.G,{placeholder:E("select.region"),fetchOptions:e=>{const t={search:e,perPage:10,page:1};return ve.A.get(t).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},onSelect:e=>{B((0,v.Ok)({activeMenu:le,data:{...je,region:e,country:null,city:null}}))},onDeselect:()=>{B((0,v.Ok)({activeMenu:le,data:{...je,region:null,country:null,city:null}}))},allowClear:!0,style:{width:"100%"},value:null===je||void 0===je?void 0:je.region,autoComplete:"none"}),(0,P.jsx)(A.G,{placeholder:E("select.country"),fetchOptions:e=>{var t,l;const a={search:e,perPage:10,page:1,region_id:null===le||void 0===le||null===(t=le.data)||void 0===t||null===(l=t.region)||void 0===l?void 0:l.value};return he.A.get(a).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>{B((0,v.Ok)({activeMenu:le,data:{...je,country:e,city:null}}))},onDeselect:()=>{B((0,v.Ok)({activeMenu:le,data:{...je,country:null,city:null}}))},style:{width:"100%"},value:null===je||void 0===je?void 0:je.country,autoComplete:"none",disabled:!(null!==je&&void 0!==je&&null!==(I=je.region)&&void 0!==I&&I.value),allowClear:!0}),(0,P.jsx)(A.G,{placeholder:E("select.city"),fetchOptions:e=>{var t,l;const a={search:e,perPage:10,page:1,country_id:null===le||void 0===le||null===(t=le.data)||void 0===t||null===(l=t.country)||void 0===l?void 0:l.value};return pe.A.get(a).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>B((0,v.Ok)({activeMenu:le,data:{...je,city:e}})),onDeselect:()=>B((0,v.Ok)({activeMenu:le,data:{...je,city:null}})),style:{width:"100%"},value:null===je||void 0===je?void 0:je.city,autoComplete:"none",disabled:!(null!==je&&void 0!==je&&null!==(z=je.country)&&void 0!==z&&z.value)||!(null!==je&&void 0!==je&&null!==(H=je.region)&&void 0!==H&&H.value),allowClear:!0}),"scheduled"!==L&&(0,P.jsx)(me,{defaultValue:ye,onChange:e=>{be(JSON.stringify(e),"data_time"),Ae(e)},disabledDate:e=>e&&e>Y()().endOf("day"),allowClear:!0,style:{width:"100%"}})]})}),(0,P.jsx)(se,{goToEdit:e=>{B((0,y.Uy)()),B((0,v.X4)({url:"order/".concat(e.id),id:"order_edit",name:E("edit.order")})),V("/order/".concat(e.id))},goToShow:e=>{B((0,v.X4)({url:"order/details/".concat(e.id),id:"order_details",name:E("order.details")})),V("/order/details/".concat(e.id))},fetchOrderAllItem:Ce,fetchOrders:we,setLocationsMap:q,setId:oe,setIsModalVisible:te,setText:de,setDowloadModal:U,type:L,setTabType:ee}),F&&(0,P.jsx)(f.A,{orderDetails:F,handleCancel:_e,status:R}),$&&(0,P.jsx)(b.A,{orderDetails:$,handleCancel:_e}),Z&&(0,P.jsx)(_.A,{id:Z,handleCancel:_e}),J&&(0,P.jsx)(w.A,{id:J,handleCancel:_e}),(0,P.jsx)(M.A,{click:()=>{xe(!0);const e={...Object.assign({},...ae.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};S.A.delete(e).then((()=>{te(!1),de(null),B((0,g.gw)()),Ce({status:W}),C.oR.success(E("successfully.deleted"))})).finally((()=>xe(!1)))},text:E(ne?"delete":"all.delete"),loading:ie,setText:oe})]})}},91258:(e,t,l)=>{l.d(t,{A:()=>r});var a=l(24893),o=(l(9950),l(50384)),n=l(26678),d=l(28429),i=l(44414);const s=[{value:"orders-board",title:"Board",icon:(0,i.jsx)(n.oeo,{size:20})},{value:"orders",title:"List",icon:(0,i.jsx)(o.AyK,{size:20})}],r=e=>{let{listType:t}=e;const{type:l}=(0,d.g)(),o=(0,d.Zp)();return(0,i.jsx)(a.Ay.Group,{value:t,onChange:e=>{o("/".concat(e.target.value).concat(l?"/".concat(l):""))},className:"float-right",buttonStyle:"solid",children:null===s||void 0===s?void 0:s.map((e=>(0,i.jsx)(a.Ay.Button,{value:e.value,children:(0,i.jsxs)("div",{className:"d-flex align-items-center",style:{gap:"10px"},children:[e.icon,e.title]})},e.value)))})}},46726:(e,t,l)=>{l.d(t,{A:()=>p});var a=l(9950),o=l(59233),n=l(82706),d=l(48538),i=l(87094),s=l(41988),r=l(55902),c=l(70030),u=l(23758),v=l(85923),h=l(44414);function p(e){let{result:t,changeColumnData:l,statusChangedOrder:p,setStatusChangedOrder:g,modalNoteType:m}=e;const[x]=o.A.useForm(),{t:y}=(0,c.B)(),[A,j]=(0,a.useState)(!1),f=()=>g((e=>!e));return(0,h.jsx)(n.A,{visible:!!p,onCancel:f,footer:[(0,h.jsx)(d.A,{type:"primary",onClick:()=>x.submit(),loading:A,children:y("save")},"save-form"),(0,h.jsx)(d.A,{type:"default",onClick:f,children:y("cancel")},"cansel-modal")],children:(0,h.jsx)(o.A,{form:x,layout:"vertical",onFinish:e=>{j(!0);const a={...e,status:m};u.A.updateStatus(p,a).then((e=>{let{data:a}=e;f(),l(t),v.oR.success("#".concat(a.id," order status changed"))})).finally((()=>j(!1)))},children:(0,h.jsx)(i.A,{gutter:12,children:(0,h.jsx)(s.A,{span:24,children:(0,h.jsx)(o.A.Item,{label:y("pause"===m?"pause.note":"canceled.note"),name:"pause"===m?"pause_note":"canceled_note",rules:[{required:"canceled"===m,message:y("required")}],children:(0,h.jsx)(r.A.TextArea,{})})})})})})}},4399:(e,t,l)=>{l.d(t,{A:()=>s});var a=l(89379),o=l(9950);const n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M117 368h231v64H117zm559 0h241v64H676zm-264 0h200v64H412zm0 224h200v64H412zm264 0h241v64H676zm-559 0h231v64H117zm295-160V179h-64v666h64V592zm264-64V179h-64v666h64V432z"}}]},name:"borderless-table",theme:"outlined"};var d=l(25085),i=function(e,t){return o.createElement(d.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:n}))};const s=o.forwardRef(i)}}]);