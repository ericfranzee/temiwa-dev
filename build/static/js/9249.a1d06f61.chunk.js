"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9249],{58050:(e,t,n)=>{n.r(t),n.d(t,{default:()=>xe});var l=n(9950),r=n(59233),o=n(48056),i=n(48538),a=n(87094),d=n(41988),s=n(90650),c=n(23263),u=n(99674),v=n(55902),p=n(41397),f=n(53271),m=n(47992),y=n(91854),h=n(51242),x=n(70030),g=n(53387),b=n(74623),j=n(28429),A=n(85923),_=n(85023),O=n(17491),k=n(82706),w=n(78498),N=n(29597),E=n(56713),S=n(63620),P=n(44414);function C(e){var t,n;let{uuid:o,handleCancel:a}=e;const{t:d}=(0,x.B)(),[s]=r.A.useForm(),c=(0,y.wA)(),{activeMenu:u}=(0,y.d4)((e=>e.menu),y.bN),{settings:v}=(0,y.d4)((e=>e.globalSettings),y.bN),{google_map_key:p}=(0,y.d4)((e=>e.globalSettings.settings),y.bN),{data:f}=(0,y.d4)((e=>e.order),y.bN),{ref:m}=(0,E.usePlacesWidget)({apiKey:p||S.CJ,onPlaceSelected:e=>{const t={lat:null===e||void 0===e?void 0:e.geometry.location.lat(),lng:null===e||void 0===e?void 0:e.geometry.location.lng()};j(t)}}),[g,j]=(0,l.useState)(f.address?{lat:f.address.lat,lng:f.address.lng}:(0,N.A)(v));return(0,P.jsx)(k.A,{visible:!!o,title:d("create.address"),onCancel:a,footer:[(0,P.jsx)(i.A,{type:"primary",onClick:()=>s.submit(),children:d("save")},"saveBtn"),(0,P.jsx)(i.A,{type:"default",onClick:a,children:d("cancel")},"cancelBtn")],children:(0,P.jsxs)(r.A,{layout:"vertical",name:"user-address",form:s,onFinish:e=>{const t={...e,active:1,lat:g.lat,lng:g.lng};c((0,h.B_)({address:t})),c((0,b.Ok)({activeMenu:u,data:{...u.data,addressData:t}})),a()},initialValues:{address:null===u||void 0===u||null===(t=u.data)||void 0===t||null===(n=t.addressData)||void 0===n?void 0:n.address},children:[(0,P.jsx)(r.A.Item,{name:"address",label:d("address"),rules:[{required:!0,message:d("required")}],children:(0,P.jsx)("input",{className:"address-input",ref:m,placeholder:""})}),(0,P.jsx)(r.A.Item,{label:d("map"),children:(0,P.jsx)(w.A,{location:g,setLocation:j,setAddress:e=>s.setFieldsValue({address:e})})})]})})}const q=e=>{var t,n;let{form:o}=e;const{t:s}=(0,x.B)(),k=(0,y.wA)(),w=(0,j.Zp)(),{data:N}=(0,y.d4)((e=>e.order),y.bN),{currencies:E}=(0,y.d4)((e=>e.currency),y.bN),{activeMenu:S}=(0,y.d4)((e=>e.menu),y.bN),[q,M]=(0,l.useState)(null),[I,B]=(0,l.useState)([]),[D,R]=(0,l.useState)(!1),{payment_type:L}=(0,y.d4)((e=>e.globalSettings.settings),y.bN);(0,l.useEffect)((()=>{R(!0)}),[N.shop]);return(0,P.jsxs)(c.A,{title:s("customer.details"),children:[(0,P.jsxs)(a.A,{gutter:12,children:[(0,P.jsx)(d.A,{span:16,children:(0,P.jsx)(r.A.Item,{label:s("client"),name:"user",rules:[{required:!0,message:s("required")}],children:(0,P.jsx)(m.G,{placeholder:s("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return f.A.search(t).then((e=>{let{data:t}=e;return B(t),function(e){if(!e)return;return(0,p.isArray)(e)?e.map((e=>({label:"".concat(e.firstname," ").concat(e.lastname||""),value:e.id,key:e.id}))):{label:"".concat(e.firstname," ").concat(e.lastname||""),value:e.id,key:e.id}}(t)}))},onSelect:function(e){const t=I.find((t=>t.id===e.value));k((0,h.B_)({user:e,userUuid:t.uuid,userOBJ:t})),o.setFieldsValue({address:null})}})})}),(0,P.jsx)(d.A,{span:8,children:(0,P.jsx)(r.A.Item,{label:s("add"),className:"label-hidden",children:(0,P.jsx)(i.A,{icon:(0,P.jsx)(g.A,{}),onClick:()=>{k((0,b.X4)({url:"user/add",id:"user_add",name:s("add.user")})),w("/user/add")},children:s("add")})})}),(0,P.jsx)(d.A,{span:24,children:(0,P.jsx)(r.A.Item,{label:s("address"),name:"address",rules:[{required:!1,message:s("required")}],children:(0,P.jsx)("div",{className:"address w-100",onClick:()=>{N.userUuid?M(N.userUuid):A.oR.warning(s("please.select.client"))},children:null===(t=S.data)||void 0===t||null===(n=t.addressData)||void 0===n?void 0:n.address})})}),(0,P.jsx)(d.A,{span:12,children:(0,P.jsx)(r.A.Item,{label:s("currency"),name:"currency_id",rules:[{required:!0,message:s("required")}],children:(0,P.jsx)(u.A,{placeholder:s("select.currency"),onSelect:function(e){const t=E.find((t=>t.id===e));k((0,h._9)(t))},children:E.map(((e,t)=>(0,P.jsxs)(u.A.Option,{value:e.id,children:[e.title," (",e.symbol,")"]},t)))})})}),(0,P.jsx)(d.A,{span:12,children:(0,P.jsx)(r.A.Item,{label:s("payment.type"),name:"payment_type",rules:[{required:!0,message:s("required")}],children:(0,P.jsx)(_.D,{refetch:D,fetchOptions:"admin"===L?async function(){return O.A.getAll().then((e=>{let{data:t}=e;return t.filter((e=>"cash"===e.tag||"wallet"===e.tag)).map((e=>({label:e.tag||"no name",value:e.id,key:e.id})))}))}:async function(){return O.A.getById(N.shop.value).then((e=>{let{data:t}=e;return t.filter((e=>"cash"===e.tag||"wallet"===e.tag)).map((e=>({label:e.payment.tag||"no name",value:e.payment.id,key:e.payment.id})))}))},className:"w-100",placeholder:s("select.payment.type"),onSelect:e=>k((0,h.B_)({paymentType:e}))})})}),(0,P.jsx)(d.A,{span:24,children:(0,P.jsx)(r.A.Item,{label:s("note"),name:"note",children:(0,P.jsx)(v.A,{})})})]}),q&&(0,P.jsx)(C,{uuid:q,handleCancel:()=>M(null)})]})};var M=n(86971),I=n(59051),B=n.n(I),D=n(58547);const R=[{title:"sunday"},{title:"monday"},{title:"tuesday"},{title:"wednesday"},{title:"thursday"},{title:"friday"},{title:"saturday"}],L=()=>{var e,t,n,o,i,s;const{t:u}=(0,x.B)(),v=(0,y.wA)(),{data:p}=(0,y.d4)((e=>e.order),y.bN),{activeMenu:f}=(0,y.d4)((e=>e.menu),y.bN),m=new Date(null===p||void 0===p?void 0:p.delivery_date),g=null===(e=f.data)||void 0===e||null===(t=e.CurrentShop)||void 0===t||null===(n=t.shop_working_days)||void 0===n?void 0:n.filter((e=>!0!==e.disabled)).find((e=>{var t;return(null===e||void 0===e?void 0:e.day)===(null===(t=R[m.getDay()])||void 0===t?void 0:t.title)})),j=null===(o=f.data)||void 0===o||null===(i=o.CurrentShop)||void 0===i||null===(s=i.shop_closed_date)||void 0===s?void 0:s.map((e=>e.day));const A=(e,t)=>{const n=[];for(let l=e;l<t;l++)n.push(l);return n};return(0,l.useEffect)((()=>{var e,t,n;null!==p&&void 0!==p&&null!==(e=p.shop)&&void 0!==e&&e.value&&(n=null===p||void 0===p||null===(t=p.shop)||void 0===t?void 0:t.value,D.A.getById(n).then((e=>{const t=null===e||void 0===e?void 0:e.data;v((0,h.B_)({currency_shop:t})),v((0,b.Ok)({activeMenu:f,data:{...null===f||void 0===f?void 0:f.data,CurrentShop:null===e||void 0===e?void 0:e.data}}))})))}),[null===p||void 0===p?void 0:p.shop]),(0,P.jsx)(c.A,{title:u("shipping.info"),children:(0,P.jsx)(a.A,{gutter:12,children:(0,P.jsx)(d.A,{span:24,children:(0,P.jsxs)(a.A,{gutter:12,children:[(0,P.jsx)(d.A,{span:12,children:(0,P.jsx)(r.A.Item,{name:"delivery_date",label:u("delivery.date"),rules:[{required:!0,message:u("required")}],children:(0,P.jsx)(M.A,{placeholder:u("delivery.date"),className:"w-100",format:"YYYY-MM-DD",disabledDate:function(e){const t=null===j||void 0===j?void 0:j.find((t=>t===B()(e).format("YYYY-MM-DD"))),n=B()().add(-1,"days")>=e;return t||n},onChange:e=>{const t=B()(e).format("YYYY-MM-DD");v((0,h.B_)({delivery_date:t}))}})})}),(0,P.jsx)(d.A,{span:12,children:(0,P.jsx)(r.A.Item,{label:"".concat(u("delivery.time")," (").concat(u("up.to"),")"),name:"delivery_time",rules:[{required:!1,message:u("required")}],children:(0,P.jsx)(M.A,{disabled:!(null!==p&&void 0!==p&&p.delivery_date),picker:"time",placeholder:u("start.time"),className:"w-100",format:"HH:mm:ss",showNow:!1,disabledTime:()=>({disabledHours:()=>((e,t)=>{const n=parseInt(e),l=parseInt(t),r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24];for(let o=n;o<=l;o++)delete r[o];return r})((null===g||void 0===g?void 0:g.from.substring(0,2))>=B()(new Date).format("HH")?null===g||void 0===g?void 0:g.from.substring(0,2):B()(new Date).format("HH"),null===g||void 0===g?void 0:g.to.substring(0,2)),disabledMinutes:()=>A(0,60),disabledSeconds:()=>A(0,60)}),onChange:e=>{const t=B()(e).format("HH:mm:ss");v((0,h.B_)({delivery_time:t}))}})})})]})})})})};var T=n(80737),G=n(37963),H=n(62572),z=n(31526),Y=n(69554),U=n(8750),F=n(94118),W=n(24513),V=n(91348),K=n(23758),Q=n(72243),J=n(91524),X=n(53774),Z=n(28249),$=n(22576),ee=n(49602),te=n(88986),ne=n(47933);function le(e){var t,n,r,o,c,u,v;let{extrasModal:p,setExtrasModal:f}=e;const[m,g]=(0,l.useState)(!1),[b,j]=(0,l.useState)({}),{t:_}=(0,x.B)(),[O,w]=(0,l.useState)(p.quantity||b.quantity||b.min_qty),[N,E]=(0,l.useState)({}),{currency:S}=(0,y.d4)((e=>e.order.data),y.bN),C=(0,y.wA)(),[q,M]=(0,l.useState)([]),[I,B]=(0,l.useState)([]),[D,R]=(0,l.useState)({extras:[],stock:{id:0,quantity:1,price:0}}),[L,G]=(0,l.useState)([]),[H,z]=(0,l.useState)([]),[F,W]=(0,l.useState)([]),K=()=>f(!1);const le=e=>{var t;const n=L.findIndex((t=>t.extra_group_id===e.extra_group_id));let l=L;n>-1&&(l=l.slice(0,n)),l.push(e);const r=l.map((e=>e.extra_value_id)).join(",");var o=(0,$.A)(r,q,I);R(o),null===(t=o.extras)||void 0===t||t.forEach((t=>{const n=L.findIndex((n=>t[0].extra_group_id!==e.extra_group_id?n.extra_group_id===t[0].extra_group_id:n.extra_group_id===e.extra_group_id));if(t[0].level>=e.level){var r=t[0].extra_group_id!==e.extra_group_id?t[0]:e;-1===n?l.push(r):l[n]=r}})),G(l)};(0,l.useEffect)((()=>{null!==D&&void 0!==D&&D.stock&&E({...D.stock,extras:L})}),[D]);function re(e){var t;return(null===H||void 0===H?void 0:H.reduce(((e,t)=>e+t.product.stock.price*(t.product.quantity||t.product.min_qty)),0))+(null===D||void 0===D||null===(t=D.stock)||void 0===t?void 0:t[e||"price"])*O}function oe(e,t){R((n=>({...n,stock:{...n.stock,addons:n.stock.addons.map((n=>n.addon_id===e?{...n,product:{...n.product,quantity:t}}:n))}}))),z((n=>n.map((n=>n.addon_id===e?{...n,product:{...n.product,quantity:t}}:n))))}return(0,te.A)((()=>{var e,t;const n=null===D||void 0===D||null===(e=D.stock)||void 0===e||null===(t=e.addons)||void 0===t?void 0:t.filter((e=>F.includes(String(e.addon_id))));z(n)}),[F]),(0,l.useEffect)((()=>{g(!0),ne.A.getById(p.uuid).then((e=>{var t;let{data:n}=e;j(n);const l=(0,$.w)(n,null===p||void 0===p?void 0:p.addons);var r;(M(l.extras),w(p.quantity||n.quantity||n.min_qty),B(l.stock),R((0,$.A)("",l.extras,l.stock)),null===(t=(0,$.A)("",l.extras,l.stock).extras)||void 0===t||t.forEach((e=>{G((t=>[...t,e[0]]))})),null!==p&&void 0!==p&&p.addons)&&W((null===p||void 0===p||null===(r=p.addons)||void 0===r?void 0:r.map((e=>{var t,n;return String((null===e||void 0===e||null===(t=e.stock)||void 0===t||null===(n=t.product)||void 0===n?void 0:n.id)||e.addon_id)})))||[])})).finally((()=>g(!1)))}),[p.uuid]),(0,P.jsx)(k.A,{visible:!!b,title:null===b||void 0===b||null===(t=b.translation)||void 0===t?void 0:t.title,onCancel:K,footer:[m?null:(0,P.jsx)(i.A,{type:"primary",onClick:()=>{C((0,h.B_)({calculate:!1}));const e=H.map((e=>({...e,quantity:e.product.quantity||e.product.min_qty,stock_id:e.product.stock.id}))),t={...b,stock:N,quantity:O,id:N.id,img:(0,ee.A)(N)||b.img,stockID:N,addons:e,price:N.price};t.quantity>N.quantity?A.oR.warning("".concat(_("you.cannot.order.more.than")," ").concat(N.quantity)):(C((0,h.re)(t)),f(null))},children:_("add")},"add-product"),(0,P.jsx)(i.A,{type:"default",onClick:K,children:_("cancel")},"cancel-modal")],children:(0,P.jsxs)(s.A,{spinning:m,children:[(0,P.jsxs)(a.A,{gutter:24,children:[(0,P.jsx)(d.A,{span:8,children:(0,P.jsx)(Q.A,{src:(0,Y.A)((0,ee.A)(N)||b.img),alt:b.name,height:200,style:{objectFit:"contain"}})}),(0,P.jsx)(d.A,{span:16,children:(0,P.jsxs)(J.A,{title:null===(n=b.translation)||void 0===n?void 0:n.title,children:[(0,P.jsxs)(J.A.Item,{label:_("price"),span:3,children:[(0,P.jsx)("div",{className:null!==N&&void 0!==N&&N.discount?"strike":"",children:(0,X.default)(re(),S.symbol)}),null!==N&&void 0!==N&&N.discount?(0,P.jsx)("div",{className:"ml-2 font-weight-bold",children:(0,X.default)(re("total_price"),S.symbol)}):""]}),(0,P.jsx)(J.A.Item,{label:_("in.stock"),span:3,children:(0,Z.A)(null===N||void 0===N?void 0:N.quantity,b.unit)}),(0,P.jsx)(J.A.Item,{label:_("tax"),span:3,children:(0,X.default)(null===N||void 0===N?void 0:N.tax,S.symbol)})]})})]}),null!==D&&void 0!==D&&D.extras?null===D||void 0===D||null===(r=D.extras)||void 0===r?void 0:r.map(((e,t)=>(0,P.jsx)("div",{className:"extra-group",children:(0,P.jsx)(T.A,{className:"extras-select",wrap:!0,children:null===e||void 0===e?void 0:e.map(((e,t)=>{var n,l,r,o;return"color"===(null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.type)?(0,P.jsx)("span",{className:"extras-color-wrapper ".concat(L.find((t=>t.id===e.id))?"selected":""),onClick:()=>le(e),children:(0,P.jsx)("i",{className:"extras-color",style:{backgroundColor:null===e||void 0===e||null===(r=e.value)||void 0===r?void 0:r.value}})},"color"+t):"text"===(null===e||void 0===e||null===(l=e.group)||void 0===l?void 0:l.type)?(0,P.jsx)("span",{className:"extras-text rounded ".concat(L.find((t=>t.id===e.id))?"selected":""),onClick:()=>le(e),children:null===e||void 0===e||null===(o=e.value)||void 0===o?void 0:o.value},"text"+t):null}))})},"extra-group"+t))):null,(0,P.jsx)(T.A,{direction:"vertical",size:"middle",children:null===(o=D.stock)||void 0===o||null===(c=o.addons)||void 0===c?void 0:c.filter((e=>!!e.product)).map((e=>{var t,n;const l=F.includes(String(e.addon_id));return(0,P.jsx)("div",{children:(0,P.jsxs)("label",{htmlFor:String(e.id),children:[l&&(0,P.jsxs)(T.A,{size:0,children:[(0,P.jsx)(i.A,{type:"text",className:"minus-button",style:{padding:0,height:"max-content"},size:"small",icon:(0,P.jsx)(V.A,{}),disabled:1===e.product.quantity,onClick:t=>{t.stopPropagation(),oe(e.addon_id,e.product.quantity-1)}}),(0,P.jsxs)("span",{className:"ml-2",children:[(e.product.quantity||e.product.min_qty)*((null===e||void 0===e?void 0:e.interval)||1),null===(t=e.unit)||void 0===t||null===(n=t.translation)||void 0===n?void 0:n.title]}),(0,P.jsx)(i.A,{type:"text",className:"plus-button",style:{padding:0,height:"max-content"},size:"small",icon:(0,P.jsx)(U.A,{}),onClick:t=>{t.stopPropagation(),oe(e.addon_id,e.product.quantity?e.product.quantity+1:e.product.min_qty+1)}})]}),(0,P.jsx)("span",{className:"ml-2",children:e.product.translation.title})]})},e.id)}))}),(0,P.jsx)(a.A,{gutter:12,className:"mt-3",children:(0,P.jsx)(d.A,{span:24,children:(0,P.jsxs)(T.A,{children:[(0,P.jsx)(i.A,{type:"primary",icon:(0,P.jsx)(V.A,{}),onClick:function(){1!==O&&(O<=b.min_qty||w((e=>e-1)))}},"plus"),(O||1)*((null===b||void 0===b?void 0:b.interval)||1),null===b||void 0===b||null===(u=b.unit)||void 0===u||null===(v=u.translation)||void 0===v?void 0:v.title,(0,P.jsx)(i.A,{type:"primary",icon:(0,P.jsx)(U.A,{}),onClick:function(){O!==b.max_qty&&w((e=>e+1))}},"minus")]})})})]})})}var re=n(21215),oe=n.n(re),ie=n(50384);function ae(){var e,t,n,r,o,u,v,p,f;const{t:m}=(0,x.B)(),g=(0,y.wA)(),A=(0,j.Zp)(),{orderItems:_,data:O,total:k,orderProducts:w}=(0,y.d4)((e=>e.order),y.bN),[N,E]=(0,l.useState)(!1),[S,C]=(0,l.useState)(null);(0,te.A)((()=>{_.length?function(){var e;if(null!==O&&void 0!==O&&null!==(e=O.deliveries)&&void 0!==e&&e.label){const e=function(e){var t,n,l,r,o,i;const a=null===e||void 0===e?void 0:e.map((e=>{var t,n;return{quantity:e.quantity,stock_id:e.stockID?null===(t=e.stockID)||void 0===t?void 0:t.id:null===(n=e.stock)||void 0===n?void 0:n.id}})),d=null===e||void 0===e?void 0:e.flatMap((e=>{var t;return null===(t=e.addons)||void 0===t?void 0:t.map((t=>{var n,l;return{quantity:t.quantity,stock_id:t.stock_id,parent_id:e.stockID?null===(n=e.stockID)||void 0===n?void 0:n.id:null===(l=e.stock)||void 0===l?void 0:l.id}}))})),s={products:a.concat(d),currency_id:null===O||void 0===O||null===(t=O.currency)||void 0===t?void 0:t.id,shop_id:null===O||void 0===O||null===(n=O.shop)||void 0===n?void 0:n.value,type:null===O||void 0===O||null===(l=O.deliveries)||void 0===l||null===(r=l.label)||void 0===r?void 0:r.toLowerCase(),address:{latitude:null===O||void 0===O||null===(o=O.address)||void 0===o?void 0:o.lat,longitude:null===O||void 0===O||null===(i=O.address)||void 0===i?void 0:i.lng}};return oe().stringify(s,{addQueryPrefix:!0})}(_);E(!0),K.A.calculate(e).then((e=>{var t;let{data:n}=e;const l=n,r={product_tax:null===l||void 0===l||null===(t=l.shops)||void 0===t?void 0:t.reduce(((e,t)=>e+t.product_tax),0),shop_tax:l.total_tax,order_total:null===l||void 0===l?void 0:l.total_price,delivery_fee:null===l||void 0===l?void 0:l.delivery_fee,discount:null===l||void 0===l?void 0:l.total_discount,service_fee:null===l||void 0===l?void 0:l.service_fee};g((0,h.bX)(r))})).catch((()=>g((0,h.JM)(w)))).finally((()=>E(!1)))}}():g((0,h.Ot)())}),[_,O.currency,O.address,null===O||void 0===O?void 0:O.coupon]);const q=e=>{g((0,b.X4)({id:"product-".concat(e.uuid),url:"product/".concat(e.uuid),name:m("edit.product")})),A("/product/".concat(e.uuid))},M=(e,t)=>{g((0,h.g7)({quantity:e,id:t}))};return(0,P.jsxs)("div",{className:"order-items",children:[N&&(0,P.jsx)("div",{className:"loader",children:(0,P.jsx)(s.A,{})}),(0,P.jsx)(a.A,{gutter:24,className:"mt-4",children:(0,P.jsx)(d.A,{span:24,children:(0,P.jsxs)(c.A,{className:"shop-card",children:[null===_||void 0===_?void 0:_.map(((e,t)=>{var n,l,r,o,a,d,s,u,v,p,f,m,y,x,b,j,A,_;return void 0===(null===e||void 0===e?void 0:e.bonus)||!1===(null===e||void 0===e?void 0:e.bonus)?(0,P.jsx)("div",{children:(0,P.jsxs)(c.A,{className:"position-relative",children:[(0,P.jsx)(F.A,{className:"close-order",onClick:()=>g((0,h.BZ)(e))}),(0,P.jsxs)(T.A,{className:"mr-3",children:[(0,P.jsx)("div",{className:"order-item-img",style:{marginRight:"20px"},children:(0,P.jsx)("img",{src:(0,Y.A)((null===e||void 0===e||null===(n=e.stock)||void 0===n||null===(l=n.product)||void 0===l?void 0:l.img)||(null===e||void 0===e?void 0:e.img)),alt:null===e||void 0===e||null===(r=e.stock)||void 0===r||null===(o=r.product)||void 0===o||null===(a=o.translation)||void 0===a?void 0:a.title})}),(0,P.jsx)(z.A,{title:(0,P.jsxs)("div",{children:[(0,P.jsxs)(T.A,{children:[(0,P.jsx)("div",{className:"cursor-pointer white-space-wrap",onClick:()=>q(e),children:(null===e||void 0===e||null===(d=e.stock)||void 0===d||null===(s=d.product)||void 0===s||null===(u=s.translation)||void 0===u?void 0:u.title)||(null===e||void 0===e||null===(v=e.translation)||void 0===v?void 0:v.title)}),(0,P.jsx)(i.A,{icon:(0,P.jsx)(W.A,{}),type:"text",size:"small",onClick:()=>C(e)})]}),(0,P.jsx)("div",{className:"product-price",children:(0,X.default)((null===e||void 0===e?void 0:e.price)*(null===e||void 0===e?void 0:e.quantity),null===O||void 0===O||null===(p=O.currency)||void 0===p?void 0:p.symbol)})]}),description:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(T.A,{children:[(0,P.jsx)(i.A,{disabled:(null===e||void 0===e?void 0:e.quantity)<(null===e||void 0===e||null===(f=e.stock)||void 0===f||null===(m=f.product)||void 0===m?void 0:m.min_qty)+1||1===(null===e||void 0===e?void 0:e.quantity),onClick:()=>M(e.quantity-1,e.id),type:"primary",icon:(0,P.jsx)(V.A,{})})," ",(0,P.jsxs)("span",{children:[(null===e||void 0===e?void 0:e.quantity)*((null===e||void 0===e?void 0:e.interval)||1),null===e||void 0===e||null===(y=e.unit)||void 0===y||null===(x=y.translation)||void 0===x?void 0:x.title]}),(0,P.jsx)(i.A,{onClick:()=>M(e.quantity+1,e.id),type:"primary",disabled:(null===e||void 0===e?void 0:e.quantity)===(null===e||void 0===e?void 0:e.max_qty),icon:(0,P.jsx)(U.A,{})})]}),(0,P.jsx)("div",{className:"mt-2",children:(0,P.jsx)(T.A,{wrap:!0,children:null===e||void 0===e||null===(b=e.addons)||void 0===b?void 0:b.map((e=>{var t,n,l,r;return(0,P.jsxs)("span",{className:"extras-text rounded",children:[(null===e||void 0===e||null===(t=e.stock)||void 0===t||null===(n=t.product)||void 0===n||null===(l=n.translation)||void 0===l?void 0:l.title)||(null===e||void 0===e||null===(r=e.product.translation)||void 0===r?void 0:r.title)," ","x ",null===e||void 0===e?void 0:e.quantity]},e.id)}))})})]})})]})]})}):(0,P.jsx)("div",{children:(0,P.jsx)("div",{children:(0,P.jsx)(c.A,{className:"position-relative",children:(0,P.jsxs)(T.A,{className:"mr-3 w-100 justify-content-between align-items-start",children:[(0,P.jsxs)(T.A,{children:[(0,P.jsx)("div",{className:"order-item-img",children:(0,P.jsx)("img",{src:(0,Y.A)(null===e||void 0===e?void 0:e.img),alt:null===(j=e.translation)||void 0===j?void 0:j.title})}),(0,P.jsx)(z.A,{title:(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"cursor-pointer white-space-wrap",onClick:()=>q(e),children:null===(A=e.translation)||void 0===A?void 0:A.title}),(0,P.jsx)("div",{className:"product-price",children:(0,X.default)(e.price,null===(_=O.currency)||void 0===_?void 0:_.symbol)})]})})]}),(0,P.jsxs)("div",{className:"bonus",children:[(0,P.jsx)(ie.ob7,{})," Bonus"]})]})})})},t)})),(0,P.jsx)("div",{className:"d-flex",style:{justifyContent:"flex-end"},children:(0,P.jsxs)("div",{className:"mt-2 text-right shop-total",children:[(0,P.jsxs)(T.A,{children:[(0,P.jsxs)("p",{className:"font-weight-bold",children:[m("product.tax"),":"]}),(0,P.jsx)("p",{children:(0,X.default)(k.product_tax,null===(e=O.currency)||void 0===e?void 0:e.symbol)})]}),(0,P.jsx)("div",{}),(0,P.jsxs)(T.A,{children:[(0,P.jsxs)("p",{className:"font-weight-bold",children:[m("shop.tax"),":"]}),(0,P.jsx)("p",{children:(0,X.default)(k.shop_tax,null===(t=O.currency)||void 0===t?void 0:t.symbol)})]}),(0,P.jsx)("div",{}),(0,P.jsxs)(T.A,{children:[(0,P.jsxs)("p",{className:"font-weight-bold",children:[m("delivery.fee"),":"]}),(0,P.jsx)("p",{children:(0,X.default)(null===(n=k.delivery_fee)||void 0===n?void 0:n.reduce(((e,t)=>e+t),0),null===(r=O.currency)||void 0===r?void 0:r.symbol)})]}),(0,P.jsx)("div",{}),(0,P.jsxs)(T.A,{children:[(0,P.jsxs)("p",{className:"font-weight-bold",children:[m("discount"),":"]}),(0,P.jsxs)("p",{children:["-",(0,X.default)(k.discount,null===(o=O.currency)||void 0===o?void 0:o.symbol)]})]}),(0,P.jsx)("div",{}),(0,P.jsxs)(T.A,{children:[(0,P.jsxs)("p",{className:"font-weight-bold",children:[m("coupon"),":"]}),(0,P.jsxs)("p",{children:["-",(0,X.default)(null===(u=k.coupon)||void 0===u?void 0:u.reduce(((e,t)=>e+t),0),null===(v=O.currency)||void 0===v?void 0:v.symbol)]})]}),(0,P.jsx)("div",{}),(0,P.jsxs)(T.A,{children:[(0,P.jsxs)("p",{className:"font-weight-bold",children:[m("service.fee"),":"]}),(0,P.jsx)("p",{children:(0,X.default)(null===k||void 0===k?void 0:k.service_fee,null===(p=O.currency)||void 0===p?void 0:p.symbol)})]}),(0,P.jsx)("div",{}),(0,P.jsxs)(T.A,{children:[(0,P.jsxs)("p",{className:"font-weight-bold",children:[m("total"),":"]}),(0,P.jsx)("p",{children:(0,X.default)(k.order_total,null===(f=O.currency)||void 0===f?void 0:f.symbol)})]})]})})]})})}),S&&(0,P.jsx)(le,{extrasModal:S,setExtrasModal:C})]})}var de=n(8297),se=n(92979),ce=n(55660),ue=n(1201);const ve=e=>{let{form:t}=e;const{t:n}=(0,x.B)(),[r,o]=(0,l.useState)(null),[i,u]=(0,l.useState)(null),[v,p]=(0,l.useState)(null),[f,g]=(0,l.useState)(null),{id:b}=(0,j.g)(),_=(0,y.wA)(),{data:O}=(0,y.d4)((e=>e.order),y.bN),{products:k,loading:w}=(0,y.d4)((e=>e.product),y.bN);(0,l.useEffect)((()=>{var e;const t={perPage:10,page:1,brand_id:null===r||void 0===r?void 0:r.value,category_id:null===i||void 0===i?void 0:i.value,search:v,shop_id:null===(e=O.shop)||void 0===e?void 0:e.value,active:1};_((0,se.zv)(t))}),[r,i,v,O.shop]);return(0,P.jsxs)(c.A,{title:n("order.details"),extra:(0,P.jsxs)(T.A,{wrap:!0,children:[(0,P.jsx)(m.G,{placeholder:n("select.shop"),fetchOptions:async function(e){const t={search:e,status:"approved"};return ce.A.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},style:{minWidth:150},onChange:e=>{_((0,h.qW)(e)),_((0,h.W7)()),t.setFieldsValue({delivery:null,delivery_date:null,delivery_time:null})},allowClear:!1,value:null===O||void 0===O?void 0:O.shop,disabled:b}),(0,P.jsx)(m.G,{placeholder:n("select.category"),fetchOptions:async function(e){const t={search:e,type:"main"};return H.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},style:{minWidth:150},onChange:e=>u(e),value:i}),(0,P.jsx)(m.G,{placeholder:n("select.brand"),fetchOptions:async function(e){return G.A.search(e).then((e=>{let{data:t}=e;return t.map((e=>({label:null===e||void 0===e?void 0:e.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id})))}))},style:{minWidth:150},onChange:e=>o(e),value:r})]}),children:[(0,P.jsx)("div",{className:"d-flex justify-content-end mb-4",children:(0,P.jsx)(de.A,{placeholder:n("search"),handleChange:p,defaultValue:null===v||void 0===v?void 0:v.search})}),(0,P.jsxs)("div",{className:"products-row order-items",children:[k.length?k.map((e=>{var t,l,r,o;return(0,P.jsxs)(c.A,{className:"products-col",cover:(0,P.jsx)("img",{alt:null===(t=e.product)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title,src:(0,Y.A)(null===e||void 0===e?void 0:e.img)}),onClick:()=>(e=>{O.currency?O.address?O.deliveries?g(e):A.oR.warning(n("please.select.delivery")):A.oR.warning(n("please.select.address")):A.oR.warning(n("please.select.currency"))})(e),children:[(0,P.jsx)(z.A,{title:null===e||void 0===e||null===(r=e.product)||void 0===r||null===(o=r.translation)||void 0===o?void 0:o.title}),(0,P.jsx)("div",{className:"preview",children:(0,P.jsx)(U.A,{})}),e.stocks.map((e=>{var t,n;return(0,P.jsxs)("span",{className:e.bonus?"show-bonus":"d-none",children:[(0,P.jsx)(ie.ob7,{})," ",null===(t=e.bonus)||void 0===t?void 0:t.value,"+",null===(n=e.bonus)||void 0===n?void 0:n.bonus_quantity]})}))]},e.id)})):(0,P.jsx)(a.A,{children:(0,P.jsx)(d.A,{span:24,children:(0,P.jsx)(ue.A,{id:"nosell"})})}),w&&(0,P.jsx)("div",{className:"loader",children:(0,P.jsx)(s.A,{})})]}),f&&(0,P.jsx)(le,{extrasModal:f,setExtrasModal:g}),(0,P.jsx)(ae,{form:t})]})};var pe=n(64498),fe=n(53177),me=n(92270);const ye=[{label:"progress",value:"progress",key:1},{label:"paid",value:"paid",key:2},{label:"canceled",value:"canceled",key:3},{label:"rejected",value:"rejected",key:4},{label:"refund",value:"refund",key:5}];const he=function(e){let{form:t}=e;const{t:n}=(0,x.B)(),{id:o}=(0,j.g)(),[i,a]=(0,l.useState)((()=>t.getFieldValue("transactionStatus"))),[d,s]=(0,l.useState)(!1);return(0,P.jsx)(c.A,{title:n("transaction.details"),children:(0,P.jsx)(r.A.Item,{name:"transactionStatus",label:n("transaction.status"),rules:[{required:!0,message:n("required")}],children:(0,P.jsx)(u.A,{loading:d,options:ye,onChange:function(e){s(!0),me.A.updateStatus(o,{status:e}).then((e=>{a(e.data.transaction.status)})).catch((()=>{t.setFieldsValue({transactionStatus:i})})).finally((()=>s(!1)))}})})})};function xe(){var e;const{t:t}=(0,x.B)(),[n]=r.A.useForm(),c=(0,y.wA)(),{id:u}=(0,j.g)(),v=(0,j.Zp)(),[p,f]=(0,l.useState)(!1),[m,g]=(0,l.useState)(null),[A,_]=(0,l.useState)(!1),{data:O,total:k,orderProducts:w,orderItems:N}=(0,y.d4)((e=>e.order),y.bN),{currencies:E}=(0,y.d4)((e=>e.currency),y.bN),{activeMenu:S}=(0,y.d4)((e=>e.menu),y.bN);function C(e){return{label:e.firstname+" "+(e.lastname||""),value:e.id,uuid:e.uuid,key:e.id}}function M(e){var t;return e?{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id,open_time:e.open_time,close_time:e.close_time}:null}const I=(e,t)=>{const n={payment_sys_id:t.value};f(!0),K.A.update(u,e).then((e=>{!function(e,t){me.A.create(e,t).then((e=>{g(e.data.id),c((0,h.Uy)())})).finally((()=>f(!1)))}(e.data.id,n)})).catch((()=>f(!1)))};return(0,l.useEffect)((()=>{S.refetch&&(_(!0),K.A.getById(u).then((e=>{var t,l,r,o,i,a,d,s;const u=e.data;c((0,h.B_)({calculate:!0}));const v=u.details.map((e=>{var t,n,l,r,o;return{...null===e||void 0===e||null===(t=e.stock)||void 0===t?void 0:t.product,stocks:null===e||void 0===e||null===(n=e.stock)||void 0===n?void 0:n.extras,stock:null===e||void 0===e?void 0:e.stock,stockID:null===e||void 0===e?void 0:e.stock,quantity:null===e||void 0===e?void 0:e.quantity,img:null===e||void 0===e||null===(l=e.stock)||void 0===l||null===(r=l.product)||void 0===r?void 0:r.img,price:null===e||void 0===e||null===(o=e.stock)||void 0===o?void 0:o.price,bonus:null===e||void 0===e?void 0:e.bonus,addons:null===e||void 0===e?void 0:e.addons}})),p={product_tax:null===u||void 0===u||null===(t=u.details)||void 0===t||null===(l=t.flatMap((e=>null===e||void 0===e?void 0:e.total_price)))||void 0===l?void 0:l.reduce(((e,t)=>e+t),0),shop_tax:null===u||void 0===u?void 0:u.tax,order_total:null===u||void 0===u?void 0:u.total_price};(0,y.vA)((()=>{var e,t,n,l,r,o,i;c((0,h.JM)(v)),c((0,h.F1)(v)),c((0,h.bX)(p)),c((0,h._9)(null===u||void 0===u?void 0:u.currency)),c((0,b.Ok)({activeMenu:S,data:{...S.data,addressData:{address:null===u||void 0===u||null===(e=u.address)||void 0===e?void 0:e.address,lat:null===u||void 0===u||null===(t=u.location)||void 0===t?void 0:t.latitude,lng:null===u||void 0===u||null===(n=u.location)||void 0===n?void 0:n.longitude}}})),c((0,h.B_)({userUuid:null===u||void 0===u||null===(l=u.user)||void 0===l?void 0:l.uuid,shop:M(null===u||void 0===u?void 0:u.shop),delivery_type:null===u||void 0===u?void 0:u.delivery_type,delivery_fee:null===u||void 0===u?void 0:u.delivery_fee,delivery_date:JSON.stringify(null===u||void 0===u?void 0:u.delivery_date),delivery_time:null===u||void 0===u?void 0:u.delivery_time,address:{address:null===u||void 0===u||null===(r=u.address)||void 0===r?void 0:r.address,lat:null===u||void 0===u||null===(o=u.location)||void 0===o?void 0:o.latitude,lng:null===u||void 0===u||null===(i=u.location)||void 0===i?void 0:i.longitude},currency:{id:null===u||void 0===u?void 0:u.currency.payment_system},payment_type:null===u||void 0===u?void 0:u.transaction,deliveries:{label:null===u||void 0===u?void 0:u.delivery_type},status:null===u||void 0===u?void 0:u.status}))})),n.setFieldsValue({delivery_time:B()(null===u||void 0===u?void 0:u.delivery_date,"HH:mm"),delivery_date:B()(null===u||void 0===u?void 0:u.delivery_date,"YYYY-MM-DD"),user:C(null===u||void 0===u?void 0:u.user),currency_id:null===u||void 0===u||null===(r=u.currency)||void 0===r?void 0:r.id,payment_type:{label:(null===u||void 0===u||null===(o=u.transaction)||void 0===o||null===(i=o.payment_system)||void 0===i?void 0:i.tag)||"cash",value:(null===u||void 0===u||null===(a=u.transaction)||void 0===a||null===(d=a.payment_system)||void 0===d?void 0:d.id)||1},note:null===u||void 0===u?void 0:u.note,delivery:{label:null===u||void 0===u?void 0:u.delivery_type,value:null===u||void 0===u||null===(s=u.shop)||void 0===s?void 0:s.price},transactionStatus:u.transaction.status})})).finally((()=>{_(!1),c((0,b.km)(S))})))}),[S.refetch]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.A,{title:t("edit.order"),extra:(0,P.jsx)(i.A,{type:"primary",loading:p,onClick:()=>n.submit(),disabled:!(null!==w&&void 0!==w&&w.length),children:t("save")})}),(0,P.jsxs)(r.A,{name:"order-form",form:n,layout:"vertical",onFinish:e=>{var t,n,l,r,o;const i=function(e){const t=null===e||void 0===e?void 0:e.map((e=>{var t,n;return{quantity:e.quantity,stock_id:e.stockID?null===(t=e.stockID)||void 0===t?void 0:t.id:null===(n=e.stock)||void 0===n?void 0:n.id}})),n=null===e||void 0===e?void 0:e.flatMap((e=>{var t;return null===(t=e.addons)||void 0===t?void 0:t.map((t=>{var n,l;return{quantity:t.quantity,stock_id:t.stock_id,parent_id:e.stockID?null===(n=e.stockID)||void 0===n?void 0:n.id:null===(l=e.stock)||void 0===l?void 0:l.id}}))}));return t.concat(n)}(N),a={currency_id:e.currency_id,rate:null===(t=E.find((t=>t.id===e.currency_id)))||void 0===t?void 0:t.rate,delivery_fee:O.delivery_fee,tax:k.order_tax,payment_type:null===(n=e.payment_type)||void 0===n?void 0:n.label,note:e.note,address:{address:null===(l=S.data.addressData)||void 0===l?void 0:l.address,office:null,house:null,floor:null},location:{latitude:null===(r=S.data.addressData)||void 0===r?void 0:r.lat,longitude:null===(o=S.data.addressData)||void 0===o?void 0:o.lng},delivery_date:B()(e.delivery_date).format("YYYY-MM-DD")+" "+B()(e.delivery_time).format("HH:mm"),user_id:e.user.value,products:null===i||void 0===i?void 0:i.filter((e=>!!e)),status:null===O||void 0===O?void 0:O.status};I(a,e.payment_type)},className:"order-add",initialValues:{user:O.user||void 0,address:O.address||null,currency_id:null===O||void 0===O||null===(e=O.currency)||void 0===e?void 0:e.id,payment_type:O.payment_type||null},children:[(0,P.jsxs)(a.A,{gutter:24,hidden:A,children:[(0,P.jsx)(d.A,{span:16,children:(0,P.jsx)(ve,{form:n})}),(0,P.jsxs)(d.A,{span:8,children:[(0,P.jsx)(q,{form:n}),(0,P.jsx)(L,{form:n}),(0,P.jsx)(he,{form:n})]})]}),A&&(0,P.jsx)("div",{className:"loader",children:(0,P.jsx)(s.A,{})})]}),m?(0,P.jsx)(pe.A,{orderId:m,handleClose:()=>{g(null);const e="orders-board";(0,y.vA)((()=>{c((0,b.EK)({...S,nextUrl:e})),c((0,fe.Gb)({}))})),v("/".concat(e))}}):""]})}},68493:(e,t,n)=>{n.d(t,{b:()=>l});var l=function(e){return e?"function"===typeof e?e():e:null}},98252:(e,t,n)=>{n.d(t,{A:()=>N});var l=n(58168),r=n(64467),o=n(82284),i=n(5544),a=n(9950),d=n(48738),s=n.n(d),c=n(37978),u=n(41929),v=n(12578),p=n(86557),f=n(16661),m=a.createContext("default"),y=function(e){var t=e.children,n=e.size;return a.createElement(m.Consumer,null,(function(e){return a.createElement(m.Provider,{value:n||e},t)}))};const h=m;var x=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]])}return n},g=function(e,t){var n,d,m=a.useContext(h),y=a.useState(1),g=(0,i.A)(y,2),b=g[0],j=g[1],A=a.useState(!1),_=(0,i.A)(A,2),O=_[0],k=_[1],w=a.useState(!0),N=(0,i.A)(w,2),E=N[0],S=N[1],P=a.useRef(),C=a.useRef(),q=(0,u.K4)(t,P),M=a.useContext(v.QO).getPrefixCls,I=function(){if(C.current&&P.current){var t=C.current.offsetWidth,n=P.current.offsetWidth;if(0!==t&&0!==n){var l=e.gap,r=void 0===l?4:l;2*r<n&&j(n-2*r<t?(n-2*r)/t:1)}}};a.useEffect((function(){k(!0)}),[]),a.useEffect((function(){S(!0),j(1)}),[e.src]),a.useEffect((function(){I()}),[e.gap]);var B,D=e.prefixCls,R=e.shape,L=e.size,T=e.src,G=e.srcSet,H=e.icon,z=e.className,Y=e.alt,U=e.draggable,F=e.children,W=e.crossOrigin,V=x(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),K="default"===L?m:L,Q=Object.keys("object"===(0,o.A)(K)&&K||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),J=(0,f.A)(Q),X=a.useMemo((function(){if("object"!==(0,o.A)(K))return{};var e=p.ye.find((function(e){return J[e]})),t=K[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:H?t/2:18}:{}}),[J,K]),Z=M("avatar",D),$=s()((n={},(0,r.A)(n,"".concat(Z,"-lg"),"large"===K),(0,r.A)(n,"".concat(Z,"-sm"),"small"===K),n)),ee=a.isValidElement(T),te=s()(Z,$,(d={},(0,r.A)(d,"".concat(Z,"-").concat(R),!!R),(0,r.A)(d,"".concat(Z,"-image"),ee||T&&E),(0,r.A)(d,"".concat(Z,"-icon"),!!H),d),z),ne="number"===typeof K?{width:K,height:K,lineHeight:"".concat(K,"px"),fontSize:H?K/2:18}:{};if("string"===typeof T&&E)B=a.createElement("img",{src:T,draggable:U,srcSet:G,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&S(!1)},alt:Y,crossOrigin:W});else if(ee)B=T;else if(H)B=H;else if(O||1!==b){var le="scale(".concat(b,") translateX(-50%)"),re={msTransform:le,WebkitTransform:le,transform:le},oe="number"===typeof K?{lineHeight:"".concat(K,"px")}:{};B=a.createElement(c.A,{onResize:I},a.createElement("span",{className:"".concat(Z,"-string"),ref:function(e){C.current=e},style:(0,l.A)((0,l.A)({},oe),re)},F))}else B=a.createElement("span",{className:"".concat(Z,"-string"),style:{opacity:0},ref:function(e){C.current=e}},F);return delete V.onError,delete V.gap,a.createElement("span",(0,l.A)({},V,{style:(0,l.A)((0,l.A)((0,l.A)({},ne),X),V.style),className:te,ref:q}),B)},b=a.forwardRef(g);b.displayName="Avatar",b.defaultProps={shape:"circle",size:"default"};const j=b;var A=n(50604),_=n(39156),O=n(65059);const k=function(e){var t=a.useContext(v.QO),n=t.getPrefixCls,l=t.direction,o=e.prefixCls,i=e.className,d=void 0===i?"":i,c=e.maxCount,u=e.maxStyle,p=e.size,f=n("avatar-group",o),m=s()(f,(0,r.A)({},"".concat(f,"-rtl"),"rtl"===l),d),h=e.children,x=e.maxPopoverPlacement,g=void 0===x?"top":x,b=e.maxPopoverTrigger,k=void 0===b?"hover":b,w=(0,A.A)(h).map((function(e,t){return(0,_.Ob)(e,{key:"avatar-key-".concat(t)})})),N=w.length;if(c&&c<N){var E=w.slice(0,c),S=w.slice(c,N);return E.push(a.createElement(O.A,{key:"avatar-popover-key",content:S,trigger:k,placement:g,overlayClassName:"".concat(f,"-popover")},a.createElement(j,{style:u},"+".concat(N-c)))),a.createElement(y,{size:p},a.createElement("div",{className:m,style:e.style},E))}return a.createElement(y,{size:p},a.createElement("div",{className:m,style:e.style},w))};var w=j;w.Group=k;const N=w},73414:(e,t,n)=>{n.d(t,{A:()=>k});var l=n(58168),r=n(64467),o=n(60436),i=n(9950),a=n(48738),d=n.n(a),s=n(50604),c=n(94889),u=n(34660),v=n(12578),p=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]])}return n},f=function(e){var t,n,r=e.prefixCls,o=e.separator,a=void 0===o?"/":o,d=e.children,s=e.overlay,f=e.dropdownProps,m=p(e,["prefixCls","separator","children","overlay","dropdownProps"]),y=(0,i.useContext(v.QO).getPrefixCls)("breadcrumb",r);return t="href"in m?i.createElement("a",(0,l.A)({className:"".concat(y,"-link")},m),d):i.createElement("span",(0,l.A)({className:"".concat(y,"-link")},m),d),n=t,t=s?i.createElement(u.A,(0,l.A)({overlay:s,placement:"bottom"},f),i.createElement("span",{className:"".concat(y,"-overlay-link")},n,i.createElement(c.A,null))):n,d?i.createElement("li",null,t,a&&i.createElement("span",{className:"".concat(y,"-separator")},a)):null};f.__ANT_BREADCRUMB_ITEM=!0;const m=f;var y=function(e){var t=e.children,n=(0,i.useContext(v.QO).getPrefixCls)("breadcrumb");return i.createElement("span",{className:"".concat(n,"-separator")},t||"/")};y.__ANT_BREADCRUMB_SEPARATOR=!0;const h=y;var x=n(69216),g=n(39156),b=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]])}return n};function j(e,t,n,l){var r=n.indexOf(e)===n.length-1,o=function(e,t){if(!e.breadcrumbName)return null;var n=Object.keys(t).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(n,")"),"g"),(function(e,n){return t[n]||e}))}(e,t);return r?i.createElement("span",null,o):i.createElement("a",{href:"#/".concat(l.join("/"))},o)}var A=function(e,t){return e=(e||"").replace(/^\//,""),Object.keys(t).forEach((function(n){e=e.replace(":".concat(n),t[n])})),e},_=function(e,t,n){var l=(0,o.A)(e),r=A(t||"",n);return r&&l.push(r),l},O=function(e){var t,n=e.prefixCls,o=e.separator,a=void 0===o?"/":o,c=e.style,u=e.className,p=e.routes,f=e.children,y=e.itemRender,h=void 0===y?j:y,O=e.params,k=void 0===O?{}:O,w=b(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),N=i.useContext(v.QO),E=N.getPrefixCls,S=N.direction,P=E("breadcrumb",n);if(p&&p.length>0){var C=[];t=p.map((function(e){var t,n=A(e.path,k);return n&&C.push(n),e.children&&e.children.length&&(t=i.createElement(x.A,{items:e.children.map((function(e){return{key:e.path||e.breadcrumbName,label:h(e,k,p,_(C,e.path,k))}}))})),i.createElement(m,{overlay:t,separator:a,key:n||e.breadcrumbName},h(e,k,p,C))}))}else f&&(t=(0,s.A)(f).map((function(e,t){return e?(0,g.Ob)(e,{separator:a,key:t}):e})));var q=d()(P,(0,r.A)({},"".concat(P,"-rtl"),"rtl"===S),u);return i.createElement("nav",(0,l.A)({className:q,style:c},w),i.createElement("ol",null,t))};O.Item=m,O.Separator=h;const k=O},48056:(e,t,n)=>{n.d(t,{A:()=>_});var l=n(64467),r=n(5544),o=n(9950),i=n(48738),a=n.n(i),d=n(79435),s=n(35821),c=n(89379);const u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};var v=n(25085),p=function(e,t){return o.createElement(v.A,(0,c.A)((0,c.A)({},e),{},{ref:t,icon:u}))};const f=o.forwardRef(p);var m=n(37978),y=n(12578),h=n(73414),x=n(98252),g=n(80737),b=n(82725),j=n(66075),A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr",l=t.title,r=t.avatar,i=t.subTitle,a=t.tags,d=t.extra,c=t.onBack,u="".concat(e,"-heading"),v=l||i||a||d;if(!v)return null;var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";return void 0!==e.backIcon?e.backIcon:"rtl"===t?o.createElement(f,null):o.createElement(s.A,null)}(t,n),m=function(e,t,n){return t&&n?o.createElement(j.A,{componentName:"PageHeader"},(function(l){var r=l.back;return o.createElement("div",{className:"".concat(e,"-back")},o.createElement(b.A,{onClick:function(e){null===n||void 0===n||n(e)},className:"".concat(e,"-back-button"),"aria-label":r},t))})):null}(e,p,c),y=m||r||v;return o.createElement("div",{className:u},y&&o.createElement("div",{className:"".concat(u,"-left")},m,r&&o.createElement(x.A,r),l&&o.createElement("span",{className:"".concat(u,"-title"),title:"string"===typeof l?l:void 0},l),i&&o.createElement("span",{className:"".concat(u,"-sub-title"),title:"string"===typeof i?i:void 0},i),a&&o.createElement("span",{className:"".concat(u,"-tags")},a)),d&&o.createElement("span",{className:"".concat(u,"-extra")},o.createElement(g.A,null,d)))};const _=function(e){var t=(0,d.A)(!1),n=(0,r.A)(t,2),i=n[0],s=n[1],c=function(e){var t=e.width;s(t<768,!0)};return o.createElement(y.TG,null,(function(t){var n,r,d=t.getPrefixCls,s=t.pageHeader,u=t.direction,v=e.prefixCls,p=e.style,f=e.footer,y=e.children,x=e.breadcrumb,g=e.breadcrumbRender,b=e.className,j=!0;"ghost"in e?j=e.ghost:s&&"ghost"in s&&(j=s.ghost);var _=d("page-header",v),O=(null===x||void 0===x?void 0:x.routes)?function(e){return o.createElement(h.A,e)}(x):null,k=x&&"props"in x,w=null!==(r=null===g||void 0===g?void 0:g(e,O))&&void 0!==r?r:O,N=k?x:w,E=a()(_,b,(n={"has-breadcrumb":!!N,"has-footer":!!f},(0,l.A)(n,"".concat(_,"-ghost"),j),(0,l.A)(n,"".concat(_,"-rtl"),"rtl"===u),(0,l.A)(n,"".concat(_,"-compact"),i),n));return o.createElement(m.A,{onResize:c},o.createElement("div",{className:E,style:p},N,A(_,e,u),y&&function(e,t){return o.createElement("div",{className:"".concat(e,"-content")},t)}(_,y),function(e,t){return t?o.createElement("div",{className:"".concat(e,"-footer")},t):null}(_,f)))}))}},65059:(e,t,n)=>{n.d(t,{A:()=>u});var l=n(58168),r=n(9950),o=n(81541),i=n(12578),a=n(68493),d=n(49437),s=function(e,t){var n={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(n[l[r]]=e[l[r]])}return n},c=r.forwardRef((function(e,t){var n=e.prefixCls,c=e.title,u=e.content,v=s(e,["prefixCls","title","content"]),p=r.useContext(i.QO).getPrefixCls,f=p("popover",n),m=p();return r.createElement(o.A,(0,l.A)({},v,{prefixCls:f,ref:t,overlay:function(e){if(c||u)return r.createElement(r.Fragment,null,c&&r.createElement("div",{className:"".concat(e,"-title")},(0,a.b)(c)),r.createElement("div",{className:"".concat(e,"-inner-content")},(0,a.b)(u)))}(f),transitionName:(0,d.by)(m,"zoom-big",v.transitionName)}))}));c.displayName="Popover",c.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};const u=c},56713:(e,t,n)=>{e.exports=n(1617)},14345:(e,t,n)=>{function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(9950)),o=a(n(11942)),i=a(n(13870));function a(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n,l,r={},o=Object.keys(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e){var t=e.onPlaceSelected,n=e.apiKey,l=e.libraries,o=e.inputAutocompleteValue,a=e.options,d=e.googleMapsScriptBaseUrl,u=e.refProp,v=e.language,p=c(e,["onPlaceSelected","apiKey","libraries","inputAutocompleteValue","options","googleMapsScriptBaseUrl","refProp","language"]),f=(0,i.default)({ref:u,googleMapsScriptBaseUrl:d,onPlaceSelected:t,apiKey:n,libraries:l,inputAutocompleteValue:o,options:a,language:v}).ref;return r.default.createElement("input",s({ref:f},p))}u.propTypes={apiKey:o.default.string,libraries:o.default.arrayOf(o.default.string),ref:o.default.oneOfType([o.default.func,o.default.shape({current:o.default.any})]),googleMapsScriptBaseUrl:o.default.string,onPlaceSelected:o.default.func,inputAutocompleteValue:o.default.string,options:o.default.shape({componentRestrictions:o.default.object,bounds:o.default.object,location:o.default.object,offset:o.default.number,origin:o.default.object,radius:o.default.number,sessionToken:o.default.object,types:o.default.arrayOf(o.default.string)}),language:o.default.string};var v=(0,r.forwardRef)((function(e,t){return r.default.createElement(u,s({},e,{refProp:t}))}));t.default=v},34040:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GOOGLE_MAP_SCRIPT_BASE_URL=void 0;t.GOOGLE_MAP_SCRIPT_BASE_URL="https://maps.googleapis.com/maps/api/js"},1617:(e,t,n)=>{Object.defineProperty(t,"usePlacesWidget",{enumerable:!0,get:function(){return r.default}});var l=o(n(14345)),r=o(n(13870));function o(e){return e&&e.__esModule?e:{default:e}}},13870:(e,t,n)=>{function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.ref,n=e.onPlaceSelected,l=e.apiKey,a=e.libraries,d=void 0===a?"places":a,c=e.inputAutocompleteValue,u=void 0===c?"new-password":c,v=e.options,p=(v=void 0===v?{}:v).types,f=void 0===p?["(cities)"]:p,m=v.componentRestrictions,y=v.fields,h=void 0===y?["address_components","geometry.location","place_id","formatted_address"]:y,x=v.bounds,g=function(e,t){if(null==e)return{};var n,l,r=function(e,t){if(null==e)return{};var n,l,r={},o=Object.keys(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(v,["types","componentRestrictions","fields","bounds"]),b=e.googleMapsScriptBaseUrl,j=void 0===b?i.GOOGLE_MAP_SCRIPT_BASE_URL:b,A=e.language,_=(0,r.useRef)(null),O=(0,r.useRef)(null),k=(0,r.useRef)(null),w=(0,r.useRef)(null),N=A?"&language=".concat(A):"",E="".concat(j,"?libraries=").concat(d,"&key=").concat(l).concat(N),S=(0,r.useCallback)((function(){return(0,o.loadGoogleMapScript)(j,E)}),[j,E]);return(0,r.useEffect)((function(){var e=s(s({},g),{},{fields:h,types:f,bounds:x});if(m&&(e.componentRestrictions=m),!k.current&&_.current&&o.isBrowser){t&&!t.current&&(t.current=_.current);var r=function(){var t;return"undefined"===typeof google?console.error("Google has not been found. Make sure your provide apiKey prop."):null!==(t=google.maps)&&void 0!==t&&t.places?!_.current instanceof HTMLInputElement?console.error("Input ref must be HTMLInputElement."):(k.current=new google.maps.places.Autocomplete(_.current,e),void(k.current&&(O.current=k.current.addListener("place_changed",(function(){n&&k&&k.current&&n(k.current.getPlace(),_.current,k.current)}))))):console.error("Google maps places API must be loaded.")};return l?S().then((function(){return r()})):r(),function(){return O.current?O.current.remove():void 0}}}),[]),(0,r.useEffect)((function(){var e;(null===r.default||void 0===r.default||null===(e=r.default.version)||void 0===e||!e.startsWith("18"))&&o.isBrowser&&window.MutationObserver&&_.current&&_.current instanceof HTMLInputElement&&(w.current=new MutationObserver((function(){w.current.disconnect(),_.current&&(_.current.autocomplete=u)})),w.current.observe(_.current,{attributes:!0,attributeFilter:["autocomplete"]}))}),[u]),(0,r.useEffect)((function(){k.current&&k.current.setFields(h)}),[h]),(0,r.useEffect)((function(){k.current&&k.current.setBounds(x)}),[x]),(0,r.useEffect)((function(){k.current&&k.current.setComponentRestrictions(m)}),[m]),(0,r.useEffect)((function(){k.current&&k.current.setOptions(g)}),[g]),{ref:_,autocompleteRef:k}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!==typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var d=o?Object.getOwnPropertyDescriptor(e,i):null;d&&(d.get||d.set)?Object.defineProperty(r,i,d):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(9950)),o=n(8668),i=n(34040);function a(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},8668:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadGoogleMapScript=t.isBrowser=void 0;var n="undefined"!==typeof window&&window.document;t.isBrowser=n;t.loadGoogleMapScript=function(e,t){if(!n)return Promise.resolve();if("undefined"!==typeof google&&google.maps&&google.maps.api)return Promise.resolve();var l=document.querySelectorAll('script[src*="'.concat(e,'"]'));if(l&&l.length)return new Promise((function(e){if("undefined"!==typeof google)return e();l[0].addEventListener("load",(function(){return e()}))}));var r=new URL(t);r.searchParams.set("callback","__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__");var o=document.createElement("script");return o.src=r.toString(),new Promise((function(e){window.__REACT_GOOGLE_AUTOCOMPLETE_CALLBACK__=e,document.body.appendChild(o)}))}}}]);