"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1679],{75670:(e,t,a)=>{a.d(t,{A:()=>p});var r=a(9950),l=a(59233),n=a(70030),o=a(36455),s=a(19181),i=a.n(s),c=a(63620),d=a(64924),u=a(85923),m=a(44414);function p(e){let{form:t,lang:a,languages:s}=e;const{t:p}=(0,n.B)();function h(e){e.plugins.get("FileRepository").createUploadAdapter=e=>function(e){return{upload:()=>new Promise(((t,a)=>{const r=new FormData;e.file.then((e=>{e.size/1024/1024<2||(u.oR.error(p("min.2.mb")),a()),r.append("image",e),r.append("type","blogs"),d.A.upload(r).then((e=>{let{data:a}=e;t({default:"".concat(c.sE+a.title)})})).catch((e=>{a(e)}))}))}))}}(e)}return(0,m.jsx)(r.Fragment,{children:s.map((e=>(0,m.jsx)(l.A.Item,{label:p("description"),name:"description[".concat(e.locale,"]"),valuePropName:"data",getValueFromEvent:(e,t)=>t.getData(),rules:[{required:e.locale===a,message:p("required")},{validator:(e,t)=>t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(p("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<5?Promise.reject(new Error(p("must.be.at.least.5"))):t&&(null===t||void 0===t?void 0:t.trim().length)>200?Promise.reject(new Error(p("must.be.less.200"))):Promise.resolve()}],hidden:e.locale!==a,children:(0,m.jsx)(o.CKEditor,{editor:i(),config:{extraPlugins:[h]},onBlur:(a,r)=>{const l=r.getData();t.setFieldsValue({["description[".concat(e.value,"]")]:l})}})},"desc"+e.locale)))})}},47992:(e,t,a)=>{a.d(t,{G:()=>c});var r=a(9950),l=a(95491),n=a.n(l),o=a(99674),s=a(90650),i=a(44414);const c=e=>{let{fetchOptions:t,debounceTimeout:a=400,onClear:l,refetchOptions:c=!1,...d}=e;const[u,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)([]),v=(0,r.useMemo)((()=>n()((e=>{h([]),m(!0),t(e).then((e=>{h(e),m(!1)}))}),a)),[t,a]);return(0,i.jsx)(o.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:v,onClear:()=>{v(""),l&&l()},notFoundContent:u?(0,i.jsx)(s.A,{size:"small"}):"no results",...d,options:p,onFocus:()=>{p.length&&!c||v("")}})}},31281:(e,t,a)=>{function r(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const r=e.map((e=>({[e.locale]:""===t["".concat(a,"[").concat(e.locale,"]")]?void 0:t["".concat(a,"[").concat(e.locale,"]")]})));return Object.assign({},...r)}a.d(t,{A:()=>r})},81679:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var r=a(9950),l=a(59233),n=a(23263),o=a(87094),s=a(41988),i=a(55902),c=a(25933),d=a(48538),u=a(85923),m=a(28429),p=a(71999),h=a(91854),v=a(74623),g=a(33774),j=a(70030),A=a(47992),x=a(62572),b=a(42362),f=a(75670),y=a(31281),w=a(44414);const P=()=>{const{t:e}=(0,j.B)(),t=(0,m.Zp)(),a=(0,h.wA)(),{activeMenu:P}=(0,h.d4)((e=>e.menu),h.bN),[E]=l.A.useForm(),[F,k]=(0,r.useState)(!1),{defaultLang:C,languages:q}=(0,h.d4)((e=>e.formLang),h.bN);(0,r.useEffect)((()=>()=>{const e=E.getFieldsValue(!0);a((0,v.Ok)({activeMenu:P,data:e}))}),[]);return(0,w.jsx)(n.A,{title:e("add.career"),extra:(0,w.jsx)(p.A,{}),children:(0,w.jsxs)(l.A,{name:"basic",layout:"vertical",onFinish:r=>{k(!0);const l={...r,active:Number(r.active),category_id:r.category_id.value,type:r.type,title:(0,y.A)(q,r,"title"),description:(0,y.A)(q,r,"description"),address:(0,y.A)(q,r,"address")},n="catalog/career";g.A.create(l).then((()=>{u.oR.success(e("successfully.created")),a((0,v.EK)({...P,nextUrl:n})),a((0,b.R)()),t("/".concat(n))})).catch((e=>console.error(e.response.data.params))).finally((()=>k(!1)))},initialValues:{parent_id:{title:"---",value:0,key:0},active:!0,...P.data},form:E,children:[(0,w.jsxs)(o.A,{gutter:12,children:[(0,w.jsx)(s.A,{span:12,children:q.map(((t,a)=>(0,w.jsx)(l.A.Item,{label:e("name"),name:"title[".concat(t.locale,"]"),rules:[{validator:(a,r)=>r||(null===t||void 0===t?void 0:t.locale)!==C?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(e("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(e("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(e("required")))}],hidden:t.locale!==C,children:(0,w.jsx)(i.A,{placeholder:e("name"),maxLength:100})},t.title+a)))}),(0,w.jsx)(s.A,{span:12}),(0,w.jsx)(s.A,{span:24,children:(0,w.jsx)(f.A,{form:E,lang:C,languages:q})}),(0,w.jsx)(s.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:e("category"),name:"category_id",rules:[{required:!0,message:e("required")}],children:(0,w.jsx)(A.G,{fetchOptions:async function(e){const t={search:e,type:"career",active:1};return x.A.getAll(t).then((e=>e.data.map((e=>({label:e.translation?e.translation.title:"no name",value:e.id})))))}})})}),(0,w.jsx)(s.A,{span:12,children:q.map(((t,a)=>(0,w.jsx)(l.A.Item,{label:e("location"),name:"address[".concat(t.locale,"]"),rules:[{validator:(a,r)=>r||(null===t||void 0===t?void 0:t.locale)!==C?r&&""===(null===r||void 0===r?void 0:r.trim())?Promise.reject(new Error(e("no.empty.space"))):r&&(null===r||void 0===r?void 0:r.trim().length)<2?Promise.reject(new Error(e("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(e("required")))}],hidden:t.locale!==C,children:(0,w.jsx)(i.A,{})},t.locale+a)))}),(0,w.jsx)(s.A,{span:12,children:(0,w.jsx)(l.A.Item,{label:e("active"),name:"active",valuePropName:"checked",children:(0,w.jsx)(c.A,{})})}),(0,w.jsx)(s.A,{span:12}),(0,w.jsx)(s.A,{span:24,className:"mb-5"})]}),(0,w.jsx)(d.A,{type:"primary",htmlType:"submit",loading:F,children:e("submit")})]})})}}}]);