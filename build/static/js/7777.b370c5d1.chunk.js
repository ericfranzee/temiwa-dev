"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7777],{35116:(e,t,a)=>{a.d(t,{A:()=>c});a(9950);var n=a(48538),l=a(44070),s=a(85923),o=a(70030),d=a(13311),i=a(44414);function c(e){let{size:t="",onClick:a,type:c="default",...r}=e;const{t:u}=(0,o.B)(),{isDemo:h}=(0,d.A)();return(0,i.jsx)(n.A,{size:t,icon:(0,i.jsx)(l.A,{}),onClick:e=>{h?s.oR.warning(u("cannot.work.demo")):a(e)},type:c,...r})}},28645:(e,t,a)=>{a.d(t,{A:()=>x});var n=a(9950),l=a(66362),s=a(69216),o=a(80737),d=a(25933),i=a(57811),c=a(81541),r=a(48538),u=a(89323),h=a(70030),v=a(44414);const{Text:p}=l.A,x=e=>{let{columns:t=[],setColumns:a,style:l,size:x="",iconOnly:m}=e;const{t:A}=(0,h.B)(),[j,f]=(0,n.useState)(!1),g=(0,v.jsx)(s.A,{children:null===t||void 0===t?void 0:t.map(((e,n)=>(0,v.jsx)(s.A.Item,{children:(0,v.jsxs)(o.A,{className:"d-flex justify-content-between",children:[(0,v.jsx)(p,{children:e.title}),(0,v.jsx)(d.A,{defaultChecked:!0,onClick:()=>function(e){const n=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(n)}(e),disabled:1===n})]})},e+n)))});return(0,v.jsx)(i.A,{overlay:g,trigger:["click"],onVisibleChange:e=>{f(e)},visible:j,children:(0,v.jsx)(c.A,{title:A("change.columns"),children:(0,v.jsx)(r.A,{style:{...l},size:x,icon:(0,v.jsx)(u.A,{}),children:m?null:A("Columns")})})})}},1201:(e,t,a)=>{a.d(t,{A:()=>c});a(9950);var n=a(70030),l=a(88542);const s=a.p+"static/media/noproductsfound.1cec73868b5fd048b865.riv",o=a.p+"static/media/noresult.ac4af107751f94856a9c.riv",d=a.p+"static/media/nosell.32cb2c2cc548a15c820d.riv";var i=a(44414);const c=function(e){let{id:t="noresult",text:a=""}=e;const{t:c}=(0,n.B)(),r={src:{noproductsfound:s,noresult:o,nosell:d}[t],artboard:"New Artboard",autoplay:!0},{RiveComponent:u}=(0,l.useRive)(r);return(0,i.jsxs)("div",{className:"animation-canvas",children:[(0,i.jsx)("div",{style:{width:"100%",height:200},children:(0,i.jsx)(u,{})}),(0,i.jsx)("div",{className:"text",children:c(a)})]})}},8297:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(9950),l=a(55902),s=a(41397),o=a(60767),d=a(44414);function i(e){let{handleChange:t,defaultValue:a,resetSearch:i,...c}=e;const[r,u]=(0,n.useState)(a),h=(0,n.useMemo)((()=>(0,s.debounce)((e=>{t(e)}),800)),[]);return(0,n.useEffect)((()=>{u(a)}),[i]),(0,d.jsx)(l.A,{value:r,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,d.jsx)(o.A,{}),...c})}},47992:(e,t,a)=>{a.d(t,{G:()=>c});var n=a(9950),l=a(95491),s=a.n(l),o=a(99674),d=a(90650),i=a(44414);const c=e=>{let{fetchOptions:t,debounceTimeout:a=400,onClear:l,refetchOptions:c=!1,...r}=e;const[u,h]=(0,n.useState)(!1),[v,p]=(0,n.useState)([]),x=(0,n.useMemo)((()=>s()((e=>{p([]),h(!0),t(e).then((e=>{p(e),h(!1)}))}),a)),[t,a]);return(0,i.jsx)(o.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:x,onClear:()=>{x(""),l&&l()},notFoundContent:u?(0,i.jsx)(d.A,{size:"small"}):"no results",...r,options:v,onFocus:()=>{v.length&&!c||x("")}})}},8168:(e,t,a)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{A:()=>n})},11444:(e,t,a)=>{a.r(t),a.d(t,{default:()=>G});var n=a(9950),l=a(24513),s=a(67376),o=a(44070),d=a(13700),i=a(53387),c=a(54909),r=a(12916),u=a(80737),h=a(25933),v=a(48538),p=a(23263),x=a(52913),m=a(28429),A=a(85923),j=a(63620),f=a(55386),g=a(76083),b=a(91854),C=a(74623),y=a(47933),w=a(88986),k=a(47992),z=a(58547),V=a(8297),S=a(8168),H=a(70030),_=a(35116),M=a(59233),I=a(82706),N=a(87094),O=a(41988),R=a(99674),B=a(14863),P=a(44414);const E=["published","pending","unpublished"];function F(e){let{orderDetails:t,handleCancel:a}=e;const{activeMenu:l}=(0,b.d4)((e=>e.menu),b.bN),[s]=M.A.useForm(),o=(0,b.wA)(),{t:d}=(0,H.B)(),[i,c]=(0,n.useState)(!1);return(0,P.jsx)(I.A,{visible:!!t,title:t.title,onCancel:a,footer:[(0,P.jsx)(v.A,{type:"primary",onClick:()=>s.submit(),loading:i,children:d("save")}),(0,P.jsx)(v.A,{type:"default",onClick:a,children:d("cancel")})],children:(0,P.jsx)(M.A,{form:s,layout:"vertical",onFinish:e=>{c(!0);const n={...e};y.A.updateStatus(t.uuid,n).then((()=>{a();const e=l.data,t={status:(null===e||void 0===e?void 0:e.role)||"published",perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};o((0,B.uC)(t)),o((0,C.Ms)(l))})).finally((()=>c(!1)))},initialValues:{status:t.status},children:(0,P.jsx)(N.A,{gutter:12,children:(0,P.jsx)(O.A,{span:24,children:(0,P.jsx)(M.A.Item,{label:d("status"),name:"status",rules:[{required:!0,message:d("required")}],children:(0,P.jsx)(R.A,{children:E.map(((e,t)=>(0,P.jsx)(R.A.Option,{value:e,children:d(e)},t)))})})})})})})}var T=a(28645),X=a(1201),D=a(38525);const{TabPane:K}=c.A,W=["blue","red","gold","volcano","cyan","lime"],q=["all","published","pending","unpublished"],G=()=>{var e,t,a,M,I,N,O,R,E,G,L;const{t:Z}=(0,H.B)(),$=(0,b.wA)(),J=(0,m.Zp)(),[Q,U]=(0,n.useState)(null),{activeMenu:Y}=(0,b.d4)((e=>e.menu),b.bN),[ee,te]=(0,n.useState)("all"),[ae,ne]=(0,n.useState)([{title:Z("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:Z("name"),dataIndex:"name",is_show:!0,render:(e,t)=>{var a;return null===(a=t.translation)||void 0===a?void 0:a.title}},{title:Z("status"),is_show:!0,dataIndex:"status",key:"status",render:e=>(0,P.jsx)("div",{children:"published"===e?(0,P.jsx)(r.A,{color:"blue",children:Z(e)}):"unpublished"===e?(0,P.jsx)(r.A,{color:"error",children:Z(e)}):(0,P.jsx)(r.A,{color:"cyan",children:Z(e)})})},{title:Z("translations"),dataIndex:"locales",is_show:!0,render:(e,t)=>{var a;return(0,P.jsx)(u.A,{children:null===(a=t.locales)||void 0===a?void 0:a.map(((e,t)=>(0,P.jsx)(r.A,{className:"text-uppercase",color:[W[t]],children:e},t+"_locales")))})}},{title:Z("shop"),dataIndex:"shop_id",is_show:!0,render:(e,t)=>{var a,n;return null===(a=t.shop)||void 0===a||null===(n=a.translation)||void 0===n?void 0:n.title}},{title:Z("active"),dataIndex:"active",is_show:!0,render:(e,t)=>(0,P.jsx)(h.A,{onChange:()=>{oe(!0),se(t.uuid),ie(!0)},checked:e})},{title:Z("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,P.jsxs)("div",{children:["new"===e?(0,P.jsx)(r.A,{color:"blue",children:Z(e)}):"canceled"===e?(0,P.jsx)(r.A,{color:"error",children:Z(e)}):(0,P.jsx)(r.A,{color:"cyan",children:Z(e)}),(0,P.jsx)(l.A,{onClick:()=>U(t)})]})},{title:Z("options"),dataIndex:"options",is_show:!0,render:(e,t)=>(0,P.jsxs)(u.A,{children:[(0,P.jsx)(v.A,{type:"primary",icon:(0,P.jsx)(l.A,{}),onClick:()=>ye(t.uuid)}),(0,P.jsx)(v.A,{icon:(0,P.jsx)(s.A,{}),onClick:()=>we(t.uuid)}),(0,P.jsx)(_.A,{icon:(0,P.jsx)(o.A,{}),onClick:()=>{oe(!0),se([t.id]),pe(!0),ie(!1)}})]})}]),[le,se]=(0,n.useState)(null),{setIsModalVisible:oe}=(0,n.useContext)(f.o),[de,ie]=(0,n.useState)(null),[ce,re]=(0,n.useState)(!1),[ue,he]=(0,n.useState)(!1),[ve,pe]=(0,n.useState)(null),xe=(null===(e=Y.data)||void 0===e?void 0:e.role)||ee,me=Y.data,Ae={search:null===me||void 0===me?void 0:me.search,brand_id:null===me||void 0===me||null===(t=me.brand)||void 0===t?void 0:t.value,category_id:null===me||void 0===me||null===(a=me.category)||void 0===a?void 0:a.value,shop_id:null===me||void 0===me||null===(M=me.shop)||void 0===M?void 0:M.value,sort:null===me||void 0===me?void 0:me.sort,status:"all"===xe?void 0:xe,column:null===me||void 0===me?void 0:me.column,perPage:null===me||void 0===me?void 0:me.perPage,page:null===me||void 0===me?void 0:me.page},{addonsList:je,meta:fe,loading:ge,params:be}=(0,b.d4)((e=>e.addons),b.bN),Ce=()=>{$((0,C.Ok)({activeMenu:Y,data:null}))};(0,w.A)((()=>{$((0,B.uC)(Ae))}),[Y.data]),(0,n.useEffect)((()=>{Y.refetch&&($((0,B.uC)(Ae)),$((0,C.km)(Y)))}),[Y.refetch]);const ye=e=>{$((0,C.X4)({id:"addon-edit",url:"addon/".concat(e),name:Z("edit.addon")})),Ce(),J("/addon/".concat(e))},we=e=>{$((0,C.X4)({id:"addon-clone",url:"addon-clone/".concat(e),name:Z("clone.addon")})),Ce(),J("/addon-clone/".concat(e))};const ke=e=>{const t=Y.data;$((0,C.Ok)({activeMenu:Y,data:{...t,...e}}))},ze={selectedRowKeys:le,onChange:e=>{se(e)}};return(0,P.jsxs)(n.Fragment,{children:[(0,P.jsx)(p.A,{className:"p-0",children:(0,P.jsxs)(u.A,{wrap:!0,size:[14,20],children:[(0,P.jsx)(V.A,{placeholder:Z("search"),handleChange:e=>ke({search:e}),defaultValue:null===(I=Y.data)||void 0===I?void 0:I.search,resetSearch:!(null!==(N=Y.data)&&void 0!==N&&N.search),style:{minWidth:300}}),(0,P.jsx)(k.G,{placeholder:Z("select.shop"),fetchOptions:async function(e){const t={search:0===e.length?null:e};return z.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}))},style:{minWidth:180},onChange:e=>ke({shop:e}),value:null===(O=Y.data)||void 0===O?void 0:O.shop}),(0,P.jsxs)(v.A,{onClick:()=>{var e,t;$((0,C.X4)({id:"addon-import",url:"catalog/addon/import",name:Z("addon.import"),shop_id:null===Y||void 0===Y||null===(e=Y.data)||void 0===e||null===(t=e.shop)||void 0===t?void 0:t.value})),J("/catalog/addon/import")},disabled:!(null!==Y&&void 0!==Y&&null!==(R=Y.data)&&void 0!==R&&R.shop),children:[(0,P.jsx)(D.I8R,{className:"mr-2"}),Z("import")]}),(0,P.jsxs)(v.A,{loading:ue,onClick:()=>{var e,t;he(!0);const a={addon:1,shop_id:null===Y||void 0===Y||null===(e=Y.data)||void 0===e||null===(t=e.shop)||void 0===t?void 0:t.value};y.A.export(a).then((e=>{const t=j.bb+e.data.file_name;window.location.href=t})).finally((()=>he(!1)))},children:[(0,P.jsx)(D.$tV,{className:"mr-2"}),Z("export")]}),(0,P.jsx)(_.A,{size:"",onClick:()=>{null===le||0===le.length?A.oR.warning(Z("select.the.product")):(oe(!0),pe(!1))},children:Z("delete.selected")}),(0,P.jsx)(v.A,{icon:(0,P.jsx)(d.A,{}),onClick:()=>{$((0,C.Ok)({activeMenu:Y,data:void 0}))},disabled:!Y.data,style:{minWidth:100}}),(0,P.jsx)(v.A,{type:"primary",icon:(0,P.jsx)(i.A,{}),onClick:()=>{$((0,C.X4)({id:"addon-add",url:"addon/add",name:Z("add.addon")})),Ce(),J("/addon/add")},children:Z("addon.add")}),(0,P.jsx)(T.A,{columns:ae,setColumns:ne})]})}),(0,P.jsxs)(p.A,{title:Z("addons"),children:[(0,P.jsx)(c.A,{className:"mt-3",activeKey:xe,onChange:e=>{ke({role:e,page:1}),te(e)},type:"card",children:q.map((e=>(0,P.jsx)(K,{tab:Z(e)},e)))}),(0,P.jsx)(x.A,{locale:{emptyText:(0,P.jsx)(X.A,{id:"nosell"})},scroll:{x:!0},rowSelection:ze,loading:ge,columns:null===ae||void 0===ae?void 0:ae.filter((e=>e.is_show)),dataSource:je,pagination:{pageSize:be.perPage,page:(null===(E=Y.data)||void 0===E?void 0:E.page)||1,total:fe.total,defaultCurrent:null===(G=Y.data)||void 0===G?void 0:G.page,current:null===(L=Y.data)||void 0===L?void 0:L.page},onChange:function(e,t,a){const{pageSize:n,current:l}=e,{field:s,order:o}=a,d=(0,S.A)(o);$((0,C.Ok)({activeMenu:Y,data:{...Y.data,perPage:n,page:l,column:s,sort:d}}))},rowKey:e=>e.id})]}),Q&&(0,P.jsx)(F,{orderDetails:Q,handleCancel:()=>U(null)}),(0,P.jsx)(g.A,{click:de?()=>{re(!0),y.A.setActive(le).then((()=>{oe(!1),$((0,B.uC)(Ae)),A.oR.success(Z("successfully.updated")),ie(!1)})).finally((()=>re(!1)))}:()=>{re(!0);const e={...Object.assign({},...le.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};y.A.delete(e).then((()=>{oe(!1),A.oR.success(Z("successfully.deleted")),$((0,B.uC)(Ae))})).finally((()=>{se(null),re(!1)}))},text:Z(de?"set.active.food":ve?"delete":"all.delete"),loading:ce,setText:se,setActive:ie})]})}},13700:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(89379),l=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var o=a(25085),d=function(e,t){return l.createElement(o.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:s}))};const i=l.forwardRef(d)},53387:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(89379),l=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var o=a(25085),d=function(e,t){return l.createElement(o.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:s}))};const i=l.forwardRef(d)},89323:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(89379),l=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var o=a(25085),d=function(e,t){return l.createElement(o.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:s}))};const i=l.forwardRef(d)}}]);