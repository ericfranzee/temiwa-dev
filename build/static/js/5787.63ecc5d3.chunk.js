"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5787],{75670:(e,t,r)=>{r.d(t,{A:()=>p});var l=r(9950),n=r(59233),o=r(70030),a=r(36455),i=r(19181),s=r.n(i),c=r(63620),d=r(64924),u=r(85923),m=r(44414);function p(e){let{form:t,lang:r,languages:i}=e;const{t:p}=(0,o.B)();function h(e){e.plugins.get("FileRepository").createUploadAdapter=e=>function(e){return{upload:()=>new Promise(((t,r)=>{const l=new FormData;e.file.then((e=>{e.size/1024/1024<2||(u.oR.error(p("min.2.mb")),r()),l.append("image",e),l.append("type","blogs"),d.A.upload(l).then((e=>{let{data:r}=e;t({default:"".concat(c.sE+r.title)})})).catch((e=>{r(e)}))}))}))}}(e)}return(0,m.jsx)(l.Fragment,{children:i.map((e=>(0,m.jsx)(n.A.Item,{label:p("description"),name:"description[".concat(e.locale,"]"),valuePropName:"data",getValueFromEvent:(e,t)=>t.getData(),rules:[{required:e.locale===r,message:p("required")},{validator:(e,t)=>t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(p("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<5?Promise.reject(new Error(p("must.be.at.least.5"))):t&&(null===t||void 0===t?void 0:t.trim().length)>200?Promise.reject(new Error(p("must.be.less.200"))):Promise.resolve()}],hidden:e.locale!==r,children:(0,m.jsx)(a.CKEditor,{editor:s(),config:{extraPlugins:[h]},onBlur:(r,l)=>{const n=l.getData();t.setFieldsValue({["description[".concat(e.value,"]")]:n})}})},"desc"+e.locale)))})}},11025:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var l=r(9950),n=r(28429),o=r(85923),a=r(59233),i=r(23263),s=r(87094),c=r(41988),d=r(55902),u=r(80737),m=r(48538),p=r(91854),h=r(74623),v=r(73271),g=r(58920),j=r(71999),f=r(70030),x=r(75670),A=r(44414);function b(){const{t:e}=(0,f.B)(),{activeMenu:t}=(0,p.d4)((e=>e.menu),p.bN),{languages:r,defaultLang:b}=(0,p.d4)((e=>e.formLang),p.bN),P=(0,p.wA)(),[w]=a.A.useForm(),E=(0,n.Zp)(),[y,F]=(0,l.useState)(!1);function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"title";const l=r.map((r=>({[r.locale]:e["".concat(t,"[").concat(r.locale,"]")]})));return Object.assign({},...l)}(0,l.useEffect)((()=>()=>{const e=w.getFieldsValue(!0);P((0,h.Ok)({activeMenu:t,data:e}))}),[]);return(0,A.jsx)(i.A,{title:e("add.notification"),extra:(0,A.jsx)(j.A,{}),children:(0,A.jsxs)(a.A,{name:"notification-add",layout:"vertical",onFinish:r=>{const l={type:"notification",title:k(r),description:k(r,"description"),short_desc:k(r,"short_desc")};F(!0);const n="notifications";g.A.create(l).then((()=>{o.oR.success(e("successfully.created")),P((0,h.EK)({...t,nextUrl:n})),E("/".concat(n)),P((0,v.b)({}))})).finally((()=>F(!1)))},form:w,initialValues:{active:!0,...t.data},children:[(0,A.jsxs)(s.A,{gutter:12,children:[(0,A.jsx)(c.A,{span:12,children:r.map((t=>(0,A.jsx)(a.A.Item,{label:e("title"),name:"title[".concat(t.locale,"]"),rules:[{validator:(r,l)=>l||(null===t||void 0===t?void 0:t.locale)!==b?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(e("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<2?Promise.reject(new Error(e("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(e("required")))}],hidden:t.locale!==b,children:(0,A.jsx)(d.A,{maxLength:50})},"title"+t.locale)))}),(0,A.jsx)(c.A,{span:24,children:r.map((t=>(0,A.jsx)(a.A.Item,{label:e("short.description"),name:"short_desc[".concat(t.locale,"]"),rules:[{validator:(r,l)=>l||(null===t||void 0===t?void 0:t.locale)!==b?l&&""===(null===l||void 0===l?void 0:l.trim())?Promise.reject(new Error(e("no.empty.space"))):l&&(null===l||void 0===l?void 0:l.trim().length)<5?Promise.reject(new Error(e("must.be.at.least.5"))):Promise.resolve():Promise.reject(new Error(e("required")))}],hidden:t.locale!==b,children:(0,A.jsx)(d.A,{maxLength:50})},"short_desc"+t.locale)))}),(0,A.jsx)(c.A,{span:24,children:(0,A.jsx)(x.A,{form:w,languages:r,lang:b})})]}),(0,A.jsx)(u.A,{children:(0,A.jsx)(m.A,{type:"primary",htmlType:"submit",loading:y,children:e("save")})})]})})}}}]);