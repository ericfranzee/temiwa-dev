"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[9484],{59484:(e,a,l)=>{l.r(a),l.d(a,{default:()=>b});var s=l(9950),i=l(28429),t=l(85923),r=l(59233),n=l(23263),o=l(87094),d=l(41988),m=l(55902),u=l(40577),c=l(48538),g=l(91854),v=l(74623),h=l(70030),p=l(71999),j=l(93394),A=l(48970),x=l(44414);const b=()=>{var e,a;const{t:l}=(0,h.B)(),{activeMenu:b}=(0,g.d4)((e=>e.menu),g.bN),f=(0,g.wA)(),[y]=r.A.useForm(),k=(0,i.Zp)(),[w,q]=(0,s.useState)(null!==(e=b.data)&&void 0!==e&&e.image?[null===(a=b.data)||void 0===a?void 0:a.image]:[]),{defaultLang:E,languages:z}=(0,g.d4)((e=>e.formLang),g.bN),[I,L]=(0,s.useState)(!1);(0,s.useEffect)((()=>()=>{const e=y.getFieldsValue(!0);f((0,v.Ok)({activeMenu:b,data:e}))}),[]);return(0,x.jsx)(n.A,{title:l("add.booking.zone"),extra:(0,x.jsx)(p.A,{}),children:(0,x.jsxs)(r.A,{name:"basic",layout:"vertical",onFinish:e=>{const a={...e,area:String(e.area),images:null===w||void 0===w?void 0:w.map((e=>e.name)),images:null===w||void 0===w?void 0:w.map((e=>e.name))};L(!0);const s="seller/booking/zone";j.A.create(a).then((()=>{t.oR.success(l("successfully.created")),k("/".concat(s)),f((0,v.EK)({...b,nextUrl:s}))})).finally((()=>L(!1)))},form:y,initialValues:{active:!0,...b.data},children:[(0,x.jsxs)(o.A,{gutter:12,children:[(0,x.jsx)(d.A,{span:12,children:z.map((e=>(0,x.jsx)(r.A.Item,{label:l("title"),name:["title",e.locale],rules:[{validator:(a,s)=>s||(null===e||void 0===e?void 0:e.locale)!==E?s&&""===(null===s||void 0===s?void 0:s.trim())?Promise.reject(new Error(l("no.empty.space"))):s&&(null===s||void 0===s?void 0:s.trim().length)<2?Promise.reject(new Error(l("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(l("required")))}],hidden:e.locale!==E,children:(0,x.jsx)(m.A,{})},"title"+e.id)))}),(0,x.jsx)(d.A,{span:12,children:(0,x.jsx)(r.A.Item,{label:l("area"),name:"area",rules:[{required:!0,message:l("required")},{type:"number",min:1,message:l("must.be.at.least.1")}],children:(0,x.jsx)(u.A,{className:"w-100"})})}),(0,x.jsx)(d.A,{span:24,children:(0,x.jsx)(r.A.Item,{label:l("image"),name:"images",rules:[{required:0===(null===w||void 0===w?void 0:w.length),message:l("required")}],children:(0,x.jsx)(A.A,{type:"shop-galleries",imageList:w,setImageList:q,form:y,multiple:!0})})})]}),(0,x.jsx)(c.A,{type:"primary",htmlType:"submit",loading:I,children:l("submit")})]})})}}}]);