"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6245],{66245:(e,a,l)=>{l.r(a),l.d(a,{default:()=>k});var t=l(9950),s=l(59233),i=l(23263),r=l(87094),n=l(41988),c=l(55902),d=l(99674),u=l(25933),o=l(48538),m=l(85923),p=l(28429),h=l(71999),v=l(98591),A=l(91854),x=l(74623),j=l(70030),g=l(48970),y=l(61707),b=l(12598),f=l(44414);const k=()=>{var e,a;const{t:l}=(0,j.B)(),k=(0,p.Zp)(),w=(0,A.wA)(),{activeMenu:q}=(0,A.d4)((e=>e.menu),A.bN),[I,_]=(0,t.useState)(null!==(e=q.data)&&void 0!==e&&e.image?[null===(a=q.data)||void 0===a?void 0:a.image]:[]),[S]=s.A.useForm(),[L,F]=(0,t.useState)(!1),[N,z]=(0,t.useState)(null),{defaultLang:C,languages:E}=(0,A.d4)((e=>e.formLang),A.bN);(0,t.useEffect)((()=>()=>{const e=S.getFieldsValue(!0);w((0,x.Ok)({activeMenu:q,data:e}))}),[]);return(0,f.jsx)(i.A,{title:l("add.category"),extra:(0,f.jsx)(h.A,{}),children:(0,f.jsxs)(s.A,{name:"basic",layout:"vertical",onFinish:e=>{var a,t,s;F(!0);const i={...e,type:"receipt",active:e.active?1:0,keywords:e.keywords.join(","),parent_id:0===(null===(a=e.parent_id)||void 0===a?void 0:a.value)?null:null===(t=e.parent_id)||void 0===t?void 0:t.value,"images[0]":null===(s=I[0])||void 0===s?void 0:s.name},r="seller/recipe-categories";b.A.create(i).then((()=>{m.oR.success(l("successfully.created")),w((0,y.ss)()),k("/".concat(r)),w((0,x.EK)({...q,nextUrl:r}))})).catch((e=>z(e.response.data.params))).finally((()=>F(!1)))},initialValues:{parent_id:{title:"---",value:0,key:0},active:!0,...q.data},form:S,children:[(0,f.jsxs)(r.A,{gutter:12,children:[(0,f.jsx)(n.A,{span:12,children:E.map(((e,a)=>(0,f.jsx)(s.A.Item,{label:l("name"),name:"title[".concat(e.locale,"]"),help:N&&N["title.".concat(C)]?N["title.".concat(C)][0]:null,validateStatus:N?"error":"success",rules:[{required:e.locale===C,message:l("required")}],hidden:e.locale!==C,children:(0,f.jsx)(c.A,{placeholder:l("name")})},e.title+a)))}),(0,f.jsx)(n.A,{span:12,children:E.map(((e,a)=>(0,f.jsx)(s.A.Item,{label:l("description"),name:"description[".concat(e.locale,"]"),rules:[{required:e.locale===C,message:l("required")}],hidden:e.locale!==C,children:(0,f.jsx)(v.A,{rows:4})},e.locale+a)))}),(0,f.jsx)(n.A,{span:12,children:(0,f.jsx)(s.A.Item,{label:l("keywords"),name:"keywords",rules:[{required:!0,message:l("required")}],children:(0,f.jsx)(d.A,{mode:"tags",style:{width:"100%"}})})}),(0,f.jsx)(n.A,{span:12,children:(0,f.jsx)(s.A.Item,{label:l("parent.category"),name:"parent_id",rules:[{required:!0,message:l("required")}],help:N&&N.parent_id?N.parent_id[0]:null,validateStatus:N?"error":"success",children:(0,f.jsx)(d.A,{children:(0,f.jsx)(d.A.Option,{value:0,children:"---"})})})}),(0,f.jsx)(n.A,{span:4,children:(0,f.jsx)(s.A.Item,{label:l("image"),children:(0,f.jsx)(g.A,{type:"categories",imageList:I,setImageList:_,form:S,multiple:!1})})}),(0,f.jsx)(n.A,{span:2,children:(0,f.jsx)(s.A.Item,{label:l("active"),name:"active",valuePropName:"checked",children:(0,f.jsx)(u.A,{})})})]}),(0,f.jsx)(o.A,{type:"primary",htmlType:"submit",loading:L,children:l("submit")})]})})}}}]);