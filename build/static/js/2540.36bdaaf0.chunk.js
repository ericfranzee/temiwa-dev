"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[2540],{12970:(s,e,l)=>{function i(s){var e,l;let i=null===s||void 0===s?void 0:s.slice(0,1),d=null===s||void 0===s?void 0:s.lastIndexOf("@"),n=null===s||void 0===s?void 0:s.slice(1,d-1);n=null===(e=n)||void 0===e?void 0:e.replace(/./g,"*");let a=null===s||void 0===s?void 0:s.slice(d-1,s.length);return null===i||void 0===i||null===(l=i.concat(n))||void 0===l?void 0:l.concat(a)}l.d(e,{A:()=>i})},53774:(s,e,l)=>{function i(){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const l=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===e?"".concat(l," ").concat(s):"".concat(s," ").concat(l)}l.r(e),l.d(e,{default:()=>i})},2540:(s,e,l)=>{l.r(e),l.d(e,{default:()=>q});var i=l(9950),d=l(80737),n=l(12916),a=l(72243),o=l(23263),r=l(87094),t=l(41988),c=l(66362),v=l(74522),u=l(86366),x=l(90650),m=l(52913),j=l(98252),h=l(74947),p=l(81419),N=l(28429),f=l(72521),A=l(91854),y=l(74623),b=l(70030),g=l(53774),_=l(74930),k=l(39174),w=l(50384),z=l(31222),B=l(59051),Y=l.n(B),I=l(69554),C=l(12970),M=l(13311),T=l(44414);function q(){var s,e,l,B,q,D,S,F,H,O,Z,$,E,J,K,L,V,G,P,Q,R,U,W,X,ss,es,ls,is,ds;const{activeMenu:ns}=(0,A.d4)((s=>s.menu),A.bN),{isDemo:as}=(0,M.A)(),{defaultCurrency:os}=(0,A.d4)((s=>s.currency),A.bN),rs=(0,A.d4)((s=>s.globalSettings.settings.hour_format)),ts=ns.data,{t:cs}=(0,b.B)(),{id:vs}=(0,N.g)(),us=(0,A.wA)(),[xs,ms]=(0,i.useState)(!1),{statusList:js}=(0,A.d4)((s=>s.orderStatus),A.bN),hs=[{title:cs("id"),dataIndex:"id",key:"id",render:(s,e)=>{var l;return null===(l=e.stock)||void 0===l?void 0:l.id}},{title:cs("product.name"),dataIndex:"product",key:"product",render:(s,e)=>{var l,i,a,o,r;return(0,T.jsxs)(d.A,{direction:"vertical",className:"relative",children:[null===(l=e.stock)||void 0===l||null===(i=l.product)||void 0===i||null===(a=i.translation)||void 0===a?void 0:a.title,null===(o=e.stock)||void 0===o||null===(r=o.extras)||void 0===r?void 0:r.map((s=>{var e,l,i;return(0,T.jsxs)(n.A,{children:[null===(e=s.group)||void 0===e||null===(l=e.translation)||void 0===l?void 0:l.title,": ",null===(i=s.value)||void 0===i?void 0:i.value]},null===s||void 0===s?void 0:s.id)}))]})}},{title:cs("image"),dataIndex:"img",key:"img",render:(s,e)=>{var l,i;return(0,T.jsx)(a.A,{src:(0,I.A)(null===(l=e.stock)||void 0===l||null===(i=l.product)||void 0===i?void 0:i.img),alt:"product",width:100,height:"auto",className:"rounded",preview:!0,placeholder:!0})}},{title:cs("quantity"),dataIndex:"quantity",key:"quantity",render:s=>(0,T.jsx)("span",{children:s})},{title:cs("discount"),dataIndex:"discount",key:"discount",render:function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,g.default)(s,null===os||void 0===os?void 0:os.symbol)}},{title:cs("tax"),dataIndex:"tax",key:"tax",render:s=>(0,g.default)(s,null===os||void 0===os?void 0:os.symbol)},{title:cs("total.price"),dataIndex:"total_price",key:"total_price",render:(s,e)=>(0,g.default)(s,null===os||void 0===os?void 0:os.symbol)}];return(0,i.useEffect)((()=>{ns.refetch&&(ms(!0),f.A.getById(vs).then((s=>{let{data:e}=s;us((0,y.Ok)({activeMenu:ns,data:e}))})).finally((()=>{ms(!1),us((0,y.km)(ns))})))}),[ns.refetch]),(0,T.jsxs)("div",{className:"order_details",children:[(0,T.jsx)(o.A,{className:"order-details-info",title:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(_.iHs,{className:"mr-2 icon"}),"".concat(cs("order")," ").concat(null!==ts&&void 0!==ts&&ts.id?"#".concat(null===ts||void 0===ts?void 0:ts.id," "):"")," ",cs("from.order")," ",null===ts||void 0===ts||null===(s=ts.user)||void 0===s?void 0:s.firstname," ",(null===ts||void 0===ts||null===(e=ts.user)||void 0===e?void 0:e.lastname)||""]})}),(0,T.jsxs)(r.A,{gutter:24,children:[(0,T.jsx)(t.A,{span:24,children:(0,T.jsx)(o.A,{children:(0,T.jsxs)(d.A,{className:"justify-content-between w-100",children:[(0,T.jsxs)(d.A,{className:"align-items-start",children:[(0,T.jsx)(p.A,{className:"order-card-icon"}),(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)(c.A.Text,{children:cs("delivery.date")}),xs?(0,T.jsx)(v.A.Button,{size:16}):(0,T.jsxs)(c.A.Text,{className:"order-card-title",children:[null===ts||void 0===ts?void 0:ts.delivery_date," ",null===ts||void 0===ts?void 0:ts.delivery_time]})]})]}),(0,T.jsxs)(d.A,{className:"align-items-start",children:[(0,T.jsx)(k.aOb,{className:"order-card-icon"}),(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)(c.A.Text,{children:cs("total.price")}),xs?(0,T.jsx)(v.A.Button,{size:16,loading:xs}):(0,T.jsx)(c.A.Text,{className:"order-card-title",children:(0,g.default)(null===ts||void 0===ts?void 0:ts.total_price,null===os||void 0===os?void 0:os.symbol)})]})]}),(0,T.jsxs)(d.A,{className:"align-items-start",children:[(0,T.jsx)(k.j6C,{className:"order-card-icon"}),(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)(c.A.Text,{children:cs("messages")}),xs?(0,T.jsx)(v.A.Button,{size:16}):(0,T.jsx)(c.A.Text,{className:"order-card-title",children:null!==ts&&void 0!==ts&&ts.review?1:0})]})]}),(0,T.jsxs)(d.A,{className:"align-items-start",children:[(0,T.jsx)(_.iHs,{className:"order-card-icon"}),(0,T.jsxs)("div",{className:"d-flex flex-column",children:[(0,T.jsx)(c.A.Text,{children:cs("products")}),xs?(0,T.jsx)(v.A.Button,{size:16}):(0,T.jsx)(c.A.Text,{className:"order-card-title",children:null===ts||void 0===ts||null===(l=ts.details)||void 0===l?void 0:l.reduce(((s,e)=>s+e.quantity),0)})]})]})]})})}),"canceled"!==(null===ts||void 0===ts?void 0:ts.status)&&(0,T.jsx)(t.A,{span:24,children:(0,T.jsx)(o.A,{children:(0,T.jsx)(u.A,{current:null===js||void 0===js?void 0:js.findIndex((s=>s.name===(null===ts||void 0===ts?void 0:ts.status))),children:null===js||void 0===js?void 0:js.slice(0,-1).map((s=>(0,T.jsx)(u.A.Step,{title:cs(s.name)},s.id)))})})}),(0,T.jsxs)(t.A,{span:16,children:[(0,T.jsx)(x.A,{spinning:xs,children:(0,T.jsx)(o.A,{style:{minHeight:"200px"},children:(0,T.jsxs)(r.A,{hidden:xs,className:"mb-3 order_detail",children:[(0,T.jsxs)(t.A,{span:12,children:[(0,T.jsxs)("div",{children:[cs("created.date.&.time"),":",(0,T.jsxs)("span",{className:"ml-2",children:[(0,T.jsx)(w.cCc,{className:"mr-1"})," ",Y()(null===ts||void 0===ts?void 0:ts.created_at).format("YYYY-MM-DD ".concat(rs))," "]})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[cs("delivery.date.&.time"),":",(0,T.jsxs)("span",{className:"ml-2",children:[(0,T.jsx)(w.cCc,{className:"mr-1"})," ",null===ts||void 0===ts?void 0:ts.delivery_date," ",null===ts||void 0===ts?void 0:ts.delivery_time]})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[cs("payment.status"),":",(0,T.jsx)("span",{className:"ml-2",children:cs(null===ts||void 0===ts||null===(B=ts.transaction)||void 0===B?void 0:B.status)})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[cs("house"),":",(0,T.jsx)("span",{className:"ml-2",children:cs(null===ts||void 0===ts||null===(q=ts.address)||void 0===q?void 0:q.house)})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[cs("floor"),":",(0,T.jsx)("span",{className:"ml-2",children:cs(null===ts||void 0===ts||null===(D=ts.address)||void 0===D?void 0:D.floor)})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[cs("otp"),":",(0,T.jsx)("span",{className:"ml-2",children:null!==(S=null===ts||void 0===ts?void 0:ts.otp)&&void 0!==S?S:cs("N/A")})]})]}),(0,T.jsxs)(t.A,{span:12,children:[(0,T.jsxs)("div",{children:[cs("status"),":",(0,T.jsx)("span",{className:"ml-2",children:"new"===(null===ts||void 0===ts?void 0:ts.status)?(0,T.jsx)(n.A,{color:"blue",children:cs(null===ts||void 0===ts?void 0:ts.status)}):"canceled"===(null===ts||void 0===ts?void 0:ts.status)?(0,T.jsx)(n.A,{color:"error",children:cs(null===ts||void 0===ts?void 0:ts.status)}):(0,T.jsx)(n.A,{color:"cyan",children:cs(null===ts||void 0===ts?void 0:ts.status)})})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[cs("delivery.type"),":",(0,T.jsx)("span",{className:"ml-2",children:null===ts||void 0===ts?void 0:ts.delivery_type})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[cs("payment.type"),":",(0,T.jsx)("span",{className:"ml-2",children:cs(null===ts||void 0===ts||null===(F=ts.transaction)||void 0===F||null===(H=F.payment_system)||void 0===H?void 0:H.tag)})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[cs("address"),":",(0,T.jsx)("span",{className:"ml-2",children:null===ts||void 0===ts||null===(O=ts.address)||void 0===O?void 0:O.address})]}),(0,T.jsx)("br",{}),(0,T.jsxs)("div",{children:[cs("office"),":",(0,T.jsx)("span",{className:"ml-2",children:null===ts||void 0===ts||null===(Z=ts.address)||void 0===Z?void 0:Z.office})]}),(0,T.jsx)("br",{})]})]})})}),(0,T.jsxs)(o.A,{className:"w-100 order-table",children:[(0,T.jsx)(m.A,{scroll:{x:!0},columns:hs,dataSource:(null===($=ns.data)||void 0===$?void 0:$.details)||[],loading:xs,rowKey:s=>s.id,pagination:!1}),(0,T.jsxs)(d.A,{size:100,className:"d-flex justify-content-end w-100 order-table__summary",children:[(0,T.jsxs)("div",{children:[(0,T.jsxs)("span",{children:[cs("delivery.fee"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("span",{children:[cs("order.tax"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("span",{children:[cs("product"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("span",{children:[cs("coupon"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("span",{children:[cs("discount"),":"]}),(0,T.jsx)("br",{}),(0,T.jsxs)("h3",{children:[cs("total.price"),":"]})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("span",{children:(0,g.default)(null!==(E=null===ts||void 0===ts?void 0:ts.delivery_fee)&&void 0!==E?E:0,null===os||void 0===os?void 0:os.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{children:(0,g.default)(null===ts||void 0===ts?void 0:ts.total_tax,null===os||void 0===os?void 0:os.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{children:(0,g.default)(null===ts||void 0===ts?void 0:ts.origin_price,null===os||void 0===os?void 0:os.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{children:(0,g.default)(null===ts||void 0===ts||null===(J=ts.coupon)||void 0===J?void 0:J.price,null===os||void 0===os?void 0:os.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("span",{children:(0,g.default)(null===ts||void 0===ts?void 0:ts.total_discount,os.symbol)}),(0,T.jsx)("br",{}),(0,T.jsx)("h3",{children:(0,g.default)(null===ts||void 0===ts?void 0:ts.total_price,os.symbol)})]})]})]})]}),(0,T.jsxs)(t.A,{span:8,className:"order_info",children:["ready"===(null===ts||void 0===ts?void 0:ts.status)&&"pickup"!==(null===ts||void 0===ts?void 0:ts.delivery_type)&&(0,T.jsx)(o.A,{title:cs("deliveryman"),children:(null===ts||void 0===ts?void 0:ts.deliveryman)&&(0,T.jsxs)(d.A,{children:[(0,T.jsx)(j.A,{shape:"square",size:64,src:null===ts||void 0===ts||null===(K=ts.deliveryman)||void 0===K?void 0:K.img}),(0,T.jsxs)("div",{children:[(0,T.jsxs)("h5",{children:[null===ts||void 0===ts||null===(L=ts.deliveryman)||void 0===L?void 0:L.firstname," ",(null===ts||void 0===ts||null===(V=ts.deliveryman)||void 0===V?void 0:V.lastname)||""]}),(0,T.jsxs)("span",{className:"delivery-info",children:[(0,T.jsx)(w.s91,{}),null===ts||void 0===ts||null===(G=ts.deliveryman)||void 0===G?void 0:G.phone]}),(0,T.jsxs)("div",{className:"delivery-info",children:[(0,T.jsx)("b",{children:(0,T.jsx)(z.mm2,{size:16})}),(0,T.jsx)("span",{children:as?(0,C.A)(null===ts||void 0===ts||null===(P=ts.deliveryman)||void 0===P?void 0:P.email):null===ts||void 0===ts||null===(Q=ts.deliveryman)||void 0===Q?void 0:Q.email})]})]})]})}),!(null===ts||void 0===ts||!ts.username)&&(0,T.jsxs)(o.A,{title:cs("order.receiver"),children:[(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:cs("name")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(w.tVJ,{}),null===ts||void 0===ts?void 0:ts.username]})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:cs("phone")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(w.s91,{}),null===ts||void 0===ts?void 0:ts.phone]})]})]}),(0,T.jsx)(o.A,{children:(0,T.jsxs)("div",{className:"d-flex w-100 customer-info-container",children:[xs?(0,T.jsx)(v.A.Avatar,{size:64,shape:"square"}):(0,T.jsx)(j.A,{shape:"square",size:64,src:null===ts||void 0===ts||null===(R=ts.user)||void 0===R?void 0:R.img}),(0,T.jsx)("h5",{className:"customer-name",children:xs?(0,T.jsx)(v.A.Button,{size:20,style:{width:70}}):(null===ts||void 0===ts||null===(U=ts.user)||void 0===U?void 0:U.firstname)+" "+((null===ts||void 0===ts||null===(W=ts.user)||void 0===W?void 0:W.lastname)||"")}),(0,T.jsxs)("div",{className:"customer-info-detail",children:[(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:cs("phone")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(w.s91,{}),xs?(0,T.jsx)(v.A.Button,{size:16}):(null===ts||void 0===ts||null===(X=ts.user)||void 0===X?void 0:X.phone)||"none"]})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:cs("email")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(z.mm2,{}),xs?(0,T.jsx)(v.A.Button,{size:16}):(0,T.jsx)(T.Fragment,{children:as?(0,C.A)(null===ts||void 0===ts||null===(ss=ts.user)||void 0===ss?void 0:ss.email):null===ts||void 0===ts||null===(es=ts.user)||void 0===es?void 0:es.email})]})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:cs("registration.date")}),(0,T.jsxs)("span",{className:"description",children:[(0,T.jsx)(w.cCc,{}),xs?(0,T.jsx)(v.A.Button,{size:16}):Y()(null===ts||void 0===ts||null===(ls=ts.user)||void 0===ls?void 0:ls.created_at).format("DD-MM-YYYY, ".concat(rs))]})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:cs("orders.count")}),(0,T.jsx)("span",{className:"description",children:xs?(0,T.jsx)(v.A.Button,{size:16}):(0,T.jsx)(h.A,{showZero:!0,style:{backgroundColor:"#3d7de3"},count:(null===ts||void 0===ts||null===(is=ts.user)||void 0===is?void 0:is.orders_count)||0})})]}),(0,T.jsxs)("div",{className:"customer-info",children:[(0,T.jsx)("span",{className:"title",children:cs("spent.since.registration")}),(0,T.jsx)("span",{className:"description",children:xs?(0,T.jsx)(v.A.Button,{size:16}):(0,T.jsx)(h.A,{showZero:!0,style:{backgroundColor:"#48e33d"},count:(0,g.default)(null===ts||void 0===ts||null===(ds=ts.user)||void 0===ds?void 0:ds.orders_sum_price,os.symbol)})})]})]})]})}),(null===ts||void 0===ts?void 0:ts.review)&&!xs&&(0,T.jsx)(o.A,{title:cs("messages"),children:(0,T.jsxs)("div",{className:"order-message",children:[(0,T.jsx)("span",{className:"message",children:null===ts||void 0===ts?void 0:ts.review.comment}),(0,T.jsx)(d.A,{className:"w-100 justify-content-end",children:(0,T.jsx)("span",{className:"date",children:Y()(null===ts||void 0===ts?void 0:ts.review.created_at).format("YYYY-MM-DD ".concat(rs))})})]})})]})]})]})}}}]);