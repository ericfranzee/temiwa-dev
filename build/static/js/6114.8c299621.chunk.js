(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[6114],{35116:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(9950);var l=n(48538),o=n(44070),i=n(85923),a=n(70030),d=n(13311),s=n(44414);function r(e){let{size:t="",onClick:n,type:r="default",...c}=e;const{t:u}=(0,a.B)(),{isDemo:v}=(0,d.A)();return(0,s.jsx)(l.A,{size:t,icon:(0,s.jsx)(o.A,{}),onClick:e=>{v?i.oR.warning(u("cannot.work.demo")):n(e)},type:r,...c})}},28645:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var l=n(9950),o=n(66362),i=n(69216),a=n(80737),d=n(25933),s=n(57811),r=n(81541),c=n(48538),u=n(89323),v=n(70030),h=n(44414);const{Text:p}=o.A,m=e=>{let{columns:t=[],setColumns:n,style:o,size:m="",iconOnly:x}=e;const{t:f}=(0,v.B)(),[g,y]=(0,l.useState)(!1),j=(0,h.jsx)(i.A,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,h.jsx)(i.A.Item,{children:(0,h.jsxs)(a.A,{className:"d-flex justify-content-between",children:[(0,h.jsx)(p,{children:e.title}),(0,h.jsx)(d.A,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(l)}(e),disabled:1===l})]})},e+l)))});return(0,h.jsx)(s.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{y(e)},visible:g,children:(0,h.jsx)(r.A,{title:f("change.columns"),children:(0,h.jsx)(c.A,{style:{...o},size:m,icon:(0,h.jsx)(u.A,{}),children:x?null:f("Columns")})})})}},8297:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var l=n(9950),o=n(55902),i=n(41397),a=n(60767),d=n(44414);function s(e){let{handleChange:t,defaultValue:n,resetSearch:s,...r}=e;const[c,u]=(0,l.useState)(n),v=(0,l.useMemo)((()=>(0,i.debounce)((e=>{t(e)}),800)),[]);return(0,l.useEffect)((()=>{u(n)}),[s]),(0,d.jsx)(o.A,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,d.jsx)(a.A,{}),...r})}},47992:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var l=n(9950),o=n(95491),i=n.n(o),a=n(99674),d=n(90650),s=n(44414);const r=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:o,refetchOptions:r=!1,...c}=e;const[u,v]=(0,l.useState)(!1),[h,p]=(0,l.useState)([]),m=(0,l.useMemo)((()=>i()((e=>{p([]),v(!0),t(e).then((e=>{p(e),v(!1)}))}),n)),[t,n]);return(0,s.jsx)(a.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),o&&o()},notFoundContent:u?(0,s.jsx)(d.A,{size:"small"}):"no results",...c,options:h,onFocus:()=>{h.length&&!r||m("")}})}},80415:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,HV:()=>o,LH:()=>l,PR:()=>i,wO:()=>s,xt:()=>d});const l={new:[1,2,3,4,5],accepted:[1,2,3,4,5],ready:[1,2,3,4,5],on_a_way:[1,2,3,4,5],delivered:[1,2,3,4,5],canceled:[1,2,3,4,5],cooking:[1,2,3,4,5]},o=(new Date,new Date,["new","accepted","ready","on_a_way","pause","delivered","canceled"]),i=30,a="HH:mm",d="hh:mm a",s=!0},8168:(e,t,n)=>{"use strict";function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{A:()=>l})},29597:(e,t,n)=>{"use strict";function l(e){var t;if(null===e||void 0===e||!e.location)return{lat:47.4143302506288,lng:8.532059477976883};const n=null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.split(", ");return{lat:Number(null===n||void 0===n?void 0:n[0]),lng:Number(null===n||void 0===n?void 0:n[1])}}n.d(t,{A:()=>l})},51066:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var l=n(17706),o=n(80415);const i=()=>{var e,t,n,i;return null!==(e=null===(t=l.M.getState())||void 0===t||null===(n=t.globalSettings)||void 0===n||null===(i=n.settings)||void 0===i?void 0:i.hour_format)&&void 0!==e?e:o.G}},6566:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var l=n(17706);const o=()=>{var e,t;const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_IS_DEMO:"false"}.MAP_API_KEY,{google_map_key:o}=null===(e=l.M.getState())||void 0===e||null===(t=e.globalSettings)||void 0===t?void 0:t.settings;return o||n}},53774:(e,t,n)=>{"use strict";function l(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const n=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===t?"".concat(n," ").concat(e):"".concat(e," ").concat(n)}n.r(t),n.d(t,{default:()=>l})},65820:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});var l=n(28429),o=n(21215),i=n.n(o);const a=()=>{const e=(0,l.Zp)(),t=(0,l.zy)(),n=i().parse(t.search,{ignoreQueryPrefix:!0});return{values:n,set:(t,l)=>e({search:i().stringify({...n,[t]:l})}),reset:t=>{const l={...n};l[t]&&delete l[t],e({search:i().stringify({...l})})},clear:()=>e({search:i().stringify({})}),merge:t=>e({search:i().stringify({...n,...t})})}}},48946:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var l=n(82371);const o={orderExport:(e,t)=>l.A.get("dashboard/user/export/order/".concat(e,"/pdf"),{params:t,responseType:"blob"})}},26714:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var l=n(9950),o=n(48946),i=n(39362),a=n.n(i),d=n(81446),s=n(23263),r=n(82706),c=n(48538),u=n(87094),v=n(41988),h=n(70030),p=n(50384),m=n(68873),x=n(28429),f=n(44414);const g=s.A.Meta,y=e=>{let{id:t,handleCancel:n}=e;const[i,y]=(0,l.useState)(null),{t:j}=(0,h.B)(),A=(0,x.Zp)();return(0,f.jsx)(f.Fragment,{children:i?(0,f.jsx)(d.A,{}):(0,f.jsx)(r.A,{visible:!!t,title:j("selected.download"),closable:!1,handleCancel:n,footer:[(0,f.jsx)(c.A,{type:"default",onClick:n,children:j("cancel")},"cancelBtn")],children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)(v.A,{span:12,children:(0,f.jsx)(s.A,{title:j("download.pdf"),onClick:()=>function(e){y(!0),o.A.orderExport(e).then((t=>{a()(t,"invoice_".concat(e,".pdf"),"application/pdf"),n()})).finally((()=>y(!1)))}(t),className:"text-center cursor-pointer",children:(0,f.jsx)(g,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(p.yos,{size:80})})})}),(0,f.jsx)(v.A,{span:12,children:(0,f.jsx)(s.A,{title:j("download.check"),onClick:()=>(e=>{A("/orders/generate-invoice/".concat(e))})(t),className:"text-center cursor-pointer",children:(0,f.jsx)(g,{className:"d-flex align-items-center justify-content-center",title:(0,f.jsx)(m.TBA,{size:85})})})})]})})})}},46114:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Q});var l=n(9950),o=n(54909),i=n(86971),a=n(12916),d=n(80737),s=n(48538),r=n(23263),c=n(81541),u=n(52913),v=n(28429),h=n(12678),p=n(44070),m=n(98114),x=n(13700),f=n(91854),g=n(74623),y=n(70030),j=n(88986),A=n(53177),w=n(8168),b=n(8297),_=n(53774),C=n(47992),k=n(53271),S=n(28645),M=n(90352),Y=n(38635),D=n(26714),O=n(85923),H=n(35116),N=n(23758),z=n(55386),P=n(76083),R=n(59051),V=n.n(R),E=n(63620),I=n(39174),T=n(38525),B=n(58547),L=n(65820),U=n(2905),G=n(78687),F=n(82206),K=n(44414);const{TabPane:W}=o.A,{RangePicker:Z}=i.A;function Q(){var e,t,n,i,R,Q,X,$,q,J,ee,te,ne,le;const{type:oe}=(0,v.g)(),ie=(0,f.wA)(),ae=(0,v.Zp)(),{t:de}=(0,y.B)(),{defaultCurrency:se}=(0,f.d4)((e=>e.currency),f.bN),{statusList:re}=(0,f.d4)((e=>e.orderStatus),f.bN),[ce,ue]=(0,l.useState)(null),[ve,he]=(0,l.useState)(null),pe=[{name:"all",id:"0",active:!0,sort:0},...re],me=e=>{ie((0,g.X4)({url:"order/details/seller/".concat(e.id),id:"order_details",name:de("order.details")})),ae("/order/details/seller/".concat(e.id))},[xe,fe]=(0,l.useState)([{title:de("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:de("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,K.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:de("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,K.jsx)("div",{className:"cursor-pointer",children:"new"===e?(0,K.jsx)(a.A,{color:"blue",children:de(e)}):"canceled"===e?(0,K.jsx)(a.A,{color:"error",children:de(e)}):(0,K.jsx)(a.A,{color:"cyan",children:de(e)})})},{title:de("deliveryman"),is_show:!0,dataIndex:"deliveryman",key:"deliveryman",render:(e,t)=>(0,K.jsx)("div",{children:"ready"===t.status&&"pickup"!==t.delivery_type?null:(0,K.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})})},{title:de("number.of.products"),dataIndex:"order_details_count",key:"order_details_count",is_show:!0,render:e=>(0,K.jsxs)("div",{className:"text-lowercase",children:[e||0," ",de("products")]})},{title:de("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:(e,t)=>{var n,l,o,i;const a=null===(n=t.transaction)||void 0===n?void 0:n.status;return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("span",{children:(0,_.default)(e,null===t||void 0===t||null===(l=t.currency)||void 0===l?void 0:l.symbol,null===t||void 0===t||null===(o=t.currency)||void 0===o?void 0:o.position)}),(0,K.jsx)("br",{}),(0,K.jsx)("span",{className:"progress"===a?"text-primary":"paid"===a?"text-success":"rejected"===a?"text-danger":"text-info",children:null===(i=t.transaction)||void 0===i?void 0:i.status})]})}},{title:de("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var t;return de(null===e||void 0===e||null===(t=e.payment_system)||void 0===t?void 0:t.tag)||"-"}},{title:de("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at",render:e=>V()(e).format("YYYY-MM-DD HH:mm")},{title:de("delivery.date"),is_show:!0,dataIndex:"delivery_date",key:"delivery_date",render:e=>V()(e).format("YYYY-MM-DD HH:mm")},{title:de("options"),is_show:!0,key:"options",render:(e,t)=>(0,K.jsxs)(d.A,{children:[(0,K.jsx)(s.A,{icon:(0,K.jsx)(I.kMs,{}),onClick:e=>{e.stopPropagation(),ue(t.id)}}),(0,K.jsx)(s.A,{icon:(0,K.jsx)(h.A,{}),onClick:e=>{e.stopPropagation(),me(t)}}),(0,K.jsx)(H.A,{icon:(0,K.jsx)(p.A,{}),onClick:e=>{e.stopPropagation(),Se([t.id]),ge(!0),Ye(!0)}}),(0,K.jsx)(s.A,{icon:(0,K.jsx)(m.A,{}),onClick:e=>{e.stopPropagation(),he(t.id)}})]})}]),{setIsModalVisible:ge}=(0,l.useContext)(z.o),[ye,je]=(0,l.useState)(!1),{activeMenu:Ae}=(0,f.d4)((e=>e.menu),f.bN),we=(0,L.s)(),[be,_e]=(0,l.useState)(we.values.status||"all"),Ce=(null===(e=Ae.data)||void 0===e?void 0:e.role)||be,[ke,Se]=(0,l.useState)(null),[Me,Ye]=(0,l.useState)(null),[De,Oe]=(0,l.useState)(!1),[He,Ne]=(0,l.useState)(V()().subtract(1,"months"),V()()),{orders:ze,loading:Pe,params:Re,meta:Ve}=(0,f.d4)((e=>e.orders),f.bN),Ee=Ae.data,Ie={search:null===Ee||void 0===Ee?void 0:Ee.search,sort:null===Ee||void 0===Ee?void 0:Ee.sort,column:null===Ee||void 0===Ee?void 0:Ee.column,perPage:null===Ee||void 0===Ee?void 0:Ee.perPage,page:null===Ee||void 0===Ee?void 0:Ee.page,user_id:null===Ee||void 0===Ee?void 0:Ee.user_id,region_id:null===Ee||void 0===Ee||null===(t=Ee.region)||void 0===t?void 0:t.value,country_id:null===Ee||void 0===Ee||null===(n=Ee.country)||void 0===n?void 0:n.value,city_id:null===Ee||void 0===Ee||null===(i=Ee.city)||void 0===i?void 0:i.value,status:"all"===Ce?void 0:Ce,type:"2",shop_id:null!==(null===(R=Ae.data)||void 0===R?void 0:R.shop_id)?null===(Q=Ae.data)||void 0===Q?void 0:Q.shop_id:null,delivery_type:"scheduled"!==oe?oe:void 0,delivery_date_from:"scheduled"===oe?V()().add(1,"day").format("YYYY-MM-DD"):void 0,date_from:(null===He||void 0===He||null===(X=He[0])||void 0===X?void 0:X.format("YYYY-MM-DD"))||null,date_to:(null===He||void 0===He||null===($=He[1])||void 0===$?void 0:$.format("YYYY-MM-DD"))||null};(0,j.A)((()=>{ie((0,A.Gb)(Ie))}),[Ee,He,oe]);const Te=(e,t)=>{ie((0,g.Ok)({activeMenu:Ae,data:{...Ee,[t]:e}}))};const Be=()=>{ue(null),he(null)};(0,l.useEffect)((()=>{null!==Ae&&void 0!==Ae&&Ae.refetch&&(0,f.vA)((()=>{ie((0,A.Gb)(Ie)),ie((0,g.km)(Ae))}))}),[null===Ae||void 0===Ae?void 0:Ae.refetch]),(0,l.useEffect)((()=>{ie((0,M.rA)({}))}),[]);const Le={selectedRowKeys:ke,onChange:e=>{Se(e)}};return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(d.A,{className:"justify-content-end w-100 mb-3",children:[(0,K.jsxs)(s.A,{onClick:()=>{je(!0),N.A.export(Ie).then((e=>{var t;return window.location.href=E.bb+(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.file_name)})).finally((()=>je(!1)))},loading:ye,style:{width:"100%"},children:[(0,K.jsx)(T.$tV,{className:"mr-2"}),de("export")]}),(0,K.jsx)(s.A,{onClick:()=>{(0,f.vA)((()=>{ie((0,A.gw)()),ie((0,g.Ok)({activeMenu:Ae,data:null})),ie((0,A.Gb)({status:null,page:null===Ee||void 0===Ee?void 0:Ee.page,perPage:20}))}))},style:{width:"100%"},icon:(0,K.jsx)(x.A,{}),children:de("clear")})]}),(0,K.jsx)(r.A,{children:(0,K.jsxs)(d.A,{wrap:!0,className:"order-filter",children:[(0,K.jsx)(b.A,{defaultValue:null===Ee||void 0===Ee?void 0:Ee.search,resetSearch:!(null!==Ee&&void 0!==Ee&&Ee.search),placeholder:de("search"),handleChange:e=>Te(e,"search")}),(0,K.jsx)(C.G,{placeholder:de("select.shop"),fetchOptions:async function(e){const t={search:e,status:"approved"};return B.A.getAll(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},style:{width:"100%"},onSelect:e=>Te(e.value,"shop_id"),onDeselect:()=>Te(null,"shop_id"),allowClear:!0,value:null===Ee||void 0===Ee?void 0:Ee.shop_id}),(0,K.jsx)(C.G,{placeholder:de("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return k.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:"".concat(null===e||void 0===e?void 0:e.firstname," ").concat(null===e||void 0===e?void 0:e.lastname),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id})))}))},onSelect:e=>Te(e.value,"user_id"),onDeselect:()=>Te(null,"user_id"),style:{width:"100%"},value:null===Ee||void 0===Ee?void 0:Ee.user_id}),(0,K.jsx)(C.G,{placeholder:de("select.region"),fetchOptions:e=>{const t={search:e,perPage:10,page:1};return U.A.get(t).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},onSelect:e=>{ie((0,g.Ok)({activeMenu:Ae,data:{...Ee,region:e,country:null,city:null}}))},onDeselect:()=>{ie((0,g.Ok)({activeMenu:Ae,data:{...Ee,region:null,country:null,city:null}}))},allowClear:!0,style:{width:"100%"},value:null===Ee||void 0===Ee?void 0:Ee.region,autoComplete:"none"}),(0,K.jsx)(C.G,{placeholder:de("select.country"),fetchOptions:e=>{var t,n;const l={search:e,perPage:10,page:1,region_id:null===Ae||void 0===Ae||null===(t=Ae.data)||void 0===t||null===(n=t.region)||void 0===n?void 0:n.value};return G.A.get(l).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>{ie((0,g.Ok)({activeMenu:Ae,data:{...Ee,country:e,city:null}}))},onDeselect:()=>{ie((0,g.Ok)({activeMenu:Ae,data:{...Ee,country:null,city:null}}))},style:{width:"100%"},value:null===Ee||void 0===Ee?void 0:Ee.country,autoComplete:"none",disabled:!(null!==Ee&&void 0!==Ee&&null!==(q=Ee.region)&&void 0!==q&&q.value),allowClear:!0}),(0,K.jsx)(C.G,{placeholder:de("select.city"),fetchOptions:e=>{var t,n;const l={search:e,perPage:10,page:1,country_id:null===Ae||void 0===Ae||null===(t=Ae.data)||void 0===t||null===(n=t.country)||void 0===n?void 0:n.value};return F.A.get(l).then((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0,onSelect:e=>ie((0,g.Ok)({activeMenu:Ae,data:{...Ee,city:e}})),onDeselect:()=>ie((0,g.Ok)({activeMenu:Ae,data:{...Ee,city:null}})),style:{width:"100%"},value:null===Ee||void 0===Ee?void 0:Ee.city,autoComplete:"none",disabled:!(null!==Ee&&void 0!==Ee&&null!==(J=Ee.country)&&void 0!==J&&J.value)||!(null!==Ee&&void 0!==Ee&&null!==(ee=Ee.region)&&void 0!==ee&&ee.value),allowClear:!0}),(0,K.jsx)(Z,{value:He,onChange:e=>{Te((t=>{var n,l;return{...t,date_from:null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n.format("YYYY-MM-DD"),date_to:null===e||void 0===e||null===(l=e[1])||void 0===l?void 0:l.format("YYYY-MM-DD")}})),Ne(e)},disabledDate:e=>e&&e>V()().endOf("day"),style:{width:"100%"}})]})}),(0,K.jsxs)(r.A,{children:[(0,K.jsxs)(d.A,{className:"justify-content-between align-items-start w-100",children:[(0,K.jsx)(o.A,{onChange:e=>{const t=e;ie((0,g.Ok)({activeMenu:Ae,data:{role:t,page:1}})),_e(e),ae("?status=".concat(t))},type:"card",activeKey:Ce,children:pe.filter((e=>!0===e.active)).map((e=>(0,K.jsx)(W,{tab:de(e.name)},e.name)))}),(0,K.jsxs)(d.A,{children:[(0,K.jsx)(c.A,{title:de("delete.selected"),children:(0,K.jsx)(H.A,{type:"primary",onClick:()=>{null===ke||0===ke.length?O.oR.warning(de("select.the.product")):(ge(!0),Ye(!1))}})}),(0,K.jsx)(S.A,{setColumns:fe,columns:xe,iconOnly:!0})]})]}),(0,K.jsx)(u.A,{scroll:{x:!0},rowSelection:Le,columns:null===xe||void 0===xe?void 0:xe.filter((e=>e.is_show)),dataSource:ze,loading:Pe,pagination:{pageSize:Re.perPage,page:(null===(te=Ae.data)||void 0===te?void 0:te.page)||1,total:null===Ve||void 0===Ve?void 0:Ve.total,defaultCurrent:null===(ne=Ae.data)||void 0===ne?void 0:ne.page,current:null===(le=Ae.data)||void 0===le?void 0:le.page},rowKey:e=>e.id,onChange:function(e,t,n){const{pageSize:l,current:o}=e,{field:i,order:a}=n,d=(0,w.A)(a);ie((0,g.Ok)({activeMenu:Ae,data:{...Ee,perPage:l,page:o,column:i,sort:d}}))},onRow:e=>({onClick:()=>{me(e)}})})]}),ce&&(0,K.jsx)(Y.A,{id:ce,handleCancel:Be}),ve&&(0,K.jsx)(D.A,{id:ve,handleCancel:Be}),(0,K.jsx)(P.A,{click:()=>{Oe(!0);const e={...Object.assign({},...ke.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};N.A.delete(e).then((()=>{O.oR.success(de("successfully.deleted")),ge(!1),ie((0,A.Gb)(Ie)),Ye(null)})).finally((()=>{Se(null),Oe(!1)}))},text:de(Me?"delete":"all.delete"),loading:De,setText:Se})]})}},38635:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var l=n(69286),o=n(86366),i=n(82706),a=n(48538),d=n(23263),s=n(87094),r=n(41988),c=n(12916),u=n(9950),v=n(70030),h=n(23758),p=n(81446),m=n(50384),x=n(91854),f=n(41478),g=n(29597),y=n(47965),j=n(31222),A=n(6604),w=n(68873),b=n(59051),_=n.n(b),C=n(6566),k=n(51066),S=n(44414);const M=(0,C.A)(),{Step:Y}=o.A,D=()=>(0,S.jsx)("div",{style:{position:"absolute",transform:"translate(-50%, -100%)"},children:(0,S.jsx)("img",{src:f,width:"50",alt:"Pin"})}),O=e=>{var t,n,f;let{id:b,handleCancel:C}=e;const{t:O}=(0,v.B)(),[H,N]=(0,u.useState)(null),[z,P]=(0,u.useState)(null),[R,V]=(0,u.useState)(null),{settings:E}=(0,x.d4)((e=>e.globalSettings),x.bN),I=(0,k.Q)(),T=(0,g.A)(E),[B,L]=(0,u.useState)(0),[U,G]=(0,u.useState)({lat:null===T||void 0===T?void 0:T.lat,lng:null===T||void 0===T?void 0:T.lng}),[F,K]=(0,u.useState)([{id:0,name:"new",icon:(0,S.jsx)(y.A,{})},{id:1,name:"accepted",icon:(0,S.jsx)(m.LW,{})},{id:2,name:"ready",icon:(0,S.jsx)(j.NtI,{})},{id:3,name:"on_a_way",icon:(0,S.jsx)(A.o2P,{})},{id:4,name:"delivered",icon:(0,S.jsx)(A.eDZ,{})}]);const{google_map_key:W}=(0,x.d4)((e=>e.globalSettings.settings),x.bN);return(0,u.useEffect)((()=>{N(!0),h.A.getById(b).then((e=>{var t,n,l,o,i,a,d;let{data:s}=e;K("canceled"===s.status?[{id:1,name:"new",icon:(0,S.jsx)(y.A,{})},{id:5,name:"canceled",icon:(0,S.jsx)(w.XfH,{})}]:F),L("canceled"===s.status?1:null===(t=F.find((e=>e.name===s.status)))||void 0===t?void 0:t.id);const r=null!==(n=null!==(l=null!==(o=null===s||void 0===s||null===(i=s.address)||void 0===i?void 0:i.location)&&void 0!==o?o:null===s||void 0===s||null===(a=s.my_address)||void 0===a?void 0:a.location)&&void 0!==l?l:null===s||void 0===s||null===(d=s.delivery_point)||void 0===d?void 0:d.location)&&void 0!==n?n:{latitude:null===T||void 0===T?void 0:T.lat,longitude:null===T||void 0===T?void 0:T.lng};G({lat:Number(null===r||void 0===r?void 0:r.latitude),lng:Number(null===r||void 0===r?void 0:r.longitude)}),V("canceled"===s.status?"error":"success"),P(s)})).finally((()=>{N(!1)}))}),[]),(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(i.A,{visible:!!b,title:O("show.locations"),onCancel:()=>C(),style:{minWidth:"80vw"},footer:[(0,S.jsx)(a.A,{type:"default",onClick:C,children:O("cancel")},"cancelBtn")],children:H?(0,S.jsx)(p.A,{}):(0,S.jsxs)(d.A,{children:[(0,S.jsx)(o.A,{current:B,status:R,className:"mb-5",children:null===F||void 0===F?void 0:F.map(((e,t)=>(0,S.jsx)(Y,{title:O(e.name),icon:null===e||void 0===e?void 0:e.icon},e.id+t)))}),(0,S.jsxs)(s.A,{gutter:12,children:[(0,S.jsxs)(r.A,{span:12,children:[(0,S.jsxs)("h3",{children:[O("order.id")," #",null===z||void 0===z?void 0:z.id]}),(0,S.jsxs)("p",{children:[(0,S.jsx)(m.A5h,{})," ",_()(null===z||void 0===z?void 0:z.created_at).format("YYYY-MM-DD ".concat(I))]}),(0,S.jsxs)("p",{children:[O("scheduled.at")," ",_()(null===z||void 0===z?void 0:z.delivery_date).format("YYYY-MM-DD ".concat(I))]})]}),(0,S.jsxs)(r.A,{span:12,children:[(0,S.jsxs)("p",{children:[O("status")," ","new"===(null===z||void 0===z?void 0:z.status)?(0,S.jsx)(c.A,{color:"blue",children:O(null===z||void 0===z?void 0:z.status)}):"canceled"===(null===z||void 0===z?void 0:z.status)?(0,S.jsx)(c.A,{color:"error",children:O(null===z||void 0===z?void 0:z.status)}):(0,S.jsx)(c.A,{color:"cyan",children:O(null===z||void 0===z?void 0:z.status)})]}),(0,S.jsxs)("p",{children:[O("payment.method")," ",(0,S.jsx)("strong",{children:null===z||void 0===z||null===(t=z.transaction)||void 0===t||null===(n=t.payment_system)||void 0===n?void 0:n.tag})]}),(0,S.jsxs)("p",{children:[O("order.type")," ",(0,S.jsx)("strong",{children:null===z||void 0===z?void 0:z.delivery_type})]}),(0,S.jsxs)("p",{children:[O("payment.type")," ",(0,S.jsx)("strong",{children:null===z||void 0===z||null===(f=z.transaction)||void 0===f?void 0:f.status})]})]}),(0,S.jsxs)(r.A,{span:24,className:"mt-5",children:[(0,S.jsx)("h4",{children:O("map")}),(0,S.jsx)("div",{className:"map-container",style:{height:400,width:"100%"},children:(0,S.jsx)(l.Ay,{bootstrapURLKeys:{key:M},defaultZoom:10,center:null!==U&&void 0!==U?U:T,options:{fullscreenControl:!1},children:(0,S.jsx)(D,{lat:null===U||void 0===U?void 0:U.lat,lng:null===U||void 0===U?void 0:U.lng})})})]})]})]})})})}},13700:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var l=n(89379),o=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var a=n(25085),d=function(e,t){return o.createElement(a.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:i}))};const s=o.forwardRef(d)},89323:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var l=n(89379),o=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var a=n(25085),d=function(e,t){return o.createElement(a.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:i}))};const s=o.forwardRef(d)},39362:function(e,t){var n,l,o;l=[],void 0===(o="function"===typeof(n=function(){return function e(t,n,l){var o,i,a=window,d="application/octet-stream",s=l||d,r=t,c=!n&&!l&&r,u=document.createElement("a"),v=function(e){return String(e)},h=a.Blob||a.MozBlob||a.WebKitBlob||v,p=n||"download";if(h=h.call?h.bind(a):Blob,"true"===String(this)&&(s=(r=[r,s])[0],r=r[1]),c&&c.length<2048&&(p=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,p,d)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(r)){if(!(r.length>2096103.424&&h!==v))return navigator.msSaveBlob?navigator.msSaveBlob(y(r),p):j(r);s=(r=y(r)).type||d}else if(/([\x80-\xff])/.test(r)){for(var x=0,f=new Uint8Array(r.length),g=f.length;x<g;++x)f[x]=r.charCodeAt(x);r=new h([f],{type:s})}function y(e){for(var t=e.split(/[:;,]/),n=t[1],l=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),o=l.length,i=0,a=new Uint8Array(o);i<o;++i)a[i]=l.charCodeAt(i);return new h([a],{type:n})}function j(e,t){if("download"in u)return u.href=e,u.setAttribute("download",p),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){a.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(o=r instanceof h?r:new h([r],{type:s}),navigator.msSaveBlob)return navigator.msSaveBlob(o,p);if(a.URL)j(a.URL.createObjectURL(o),!0);else{if("string"===typeof o||o.constructor===v)try{return j("data:"+s+";base64,"+a.btoa(o))}catch(A){return j("data:"+s+","+encodeURIComponent(o))}(i=new FileReader).onload=function(e){j(this.result)},i.readAsDataURL(o)}return!0}})?n.apply(t,l):n)||(e.exports=o)},41478:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/user.fbe7078c52acde79652d.jpg"}}]);