"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[1759],{65820:(e,a,t)=>{t.d(a,{s:()=>r});var s=t(28429),l=t(21215),n=t.n(l);const r=()=>{const e=(0,s.Zp)(),a=(0,s.zy)(),t=n().parse(a.search,{ignoreQueryPrefix:!0});return{values:t,set:(a,s)=>e({search:n().stringify({...t,[a]:s})}),reset:a=>{const s={...t};s[a]&&delete s[a],e({search:n().stringify({...s})})},clear:()=>e({search:n().stringify({})}),merge:a=>e({search:n().stringify({...t,...a})})}}},44140:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var s=t(9950),l=t(91854),n=t(71999),r=t(70030),i=t(55529),o=t(86366),d=t(23263),c=t(96351),u=t(65820),m=t(74623),v=t(58547),p=t(28429),h=t(81446),f=t(86289),x=t(90419),A=t(42580),g=t(44414);const{Step:j}=o.A,y=()=>{var e;const{t:a}=(0,r.B)(),{activeMenu:t}=(0,l.d4)((e=>e.menu),l.bN),y=(0,u.s)(),w=Number((null===(e=y.values)||void 0===e?void 0:e.step)||0),[b,_]=(0,s.useState)(t.refetch),k=(0,l.wA)(),{uuid:S}=(0,p.g)(),{languages:q}=(0,l.d4)((e=>e.formLang),l.bN),C=()=>{const e=w+1;y.set("step",e)},N=()=>{const e=w-1;y.set("step",e)},F=e=>({items:e,uid:e,url:e,name:e});function I(e){if(null===e||void 0===e||!e.translations)return{};const{translations:a}=e,t=q.map((e=>{var t,s,l;return{["title[".concat(e.locale,"]")]:null===(t=a.find((a=>a.locale===e.locale)))||void 0===t?void 0:t.title,["description[".concat(e.locale,"]")]:null===(s=a.find((a=>a.locale===e.locale)))||void 0===s?void 0:s.description,["address[".concat(e.locale,"]")]:null===(l=a.find((a=>a.locale===e.locale)))||void 0===l?void 0:l.address}}));return Object.assign({},...t)}return(0,s.useEffect)((()=>{t.refetch&&S&&(e=>{_(!0),v.A.getById(e).then((e=>{var a,s,l,n,r,i;const o={...e.data,...I(e.data),logo_img:F(e.data.logo_img),background_img:F(e.data.background_img),user:{label:e.data.seller.firstname+" "+e.data.seller.lastname,value:e.data.seller.id},delivery_time_from:null===(a=e.data)||void 0===a?void 0:a.delivery_time.from,delivery_time_to:null===(s=e.data)||void 0===s?void 0:s.delivery_time.to,delivery_time_type:null===(l=e.data)||void 0===l?void 0:l.delivery_time.type,recommended:"recommended"===e.data.mark,categories:null===(n=e.data)||void 0===n||null===(r=n.categories)||void 0===r?void 0:r.map((e=>{var a;return{label:null===e||void 0===e||null===(a=e.translation)||void 0===a?void 0:a.title,value:e.id,key:e.id}})),tags:null===(i=e.data)||void 0===i?void 0:i.tags.map((e=>{var a;return{label:null===e||void 0===e||null===(a=e.translation)||void 0===a?void 0:a.title,value:e.id,key:e.id}}))};k((0,m.Ok)({activeMenu:t,data:o}))})).finally((()=>{_(!1),k((0,m.km)(t))}))})(S)}),[t.refetch]),(0,g.jsxs)(d.A,{title:a("restaurant.edit"),extra:(0,g.jsx)(n.A,{}),children:[(0,g.jsx)(o.A,{current:w,onChange:e=>{k((0,m.Ok)({activeMenu:t,data:{...t.data,step:e}})),y.set("step",e)},children:i.C.map((e=>(0,g.jsx)(j,{title:a(e.title)},e.title)))}),b?(0,g.jsx)(h.A,{}):(0,g.jsxs)("div",{className:"steps-content",children:["First-content"===i.C[w].content&&(0,g.jsx)(f.A,{next:C,loading:b,action_type:"edit",user:!0}),"Second-content"===i.C[w].content&&(0,g.jsx)(A.A,{next:C,prev:N}),"Third-content"===i.C[w].content&&(0,g.jsx)(x.A,{next:C,prev:N}),"Four-content"===i.C[w].content&&(0,g.jsx)(c.A,{next:C,prev:N})]})]})}},55529:(e,a,t)=>{t.d(a,{C:()=>s});const s=[{title:"restaurant",content:"First-content"},{title:"map",content:"Second-content"},{title:"delivery",content:"Third-content"},{title:"user",content:"Four-content"}]},96351:(e,a,t)=>{t.d(a,{A:()=>w});var s=t(9950),l=t(59233),n=t(87094),r=t(41988),i=t(55902),o=t(40577),d=t(80737),c=t(48538),u=t(28429),m=t(91854),v=t(53271),p=t(85923),h=t(74623),f=t(59051),x=t.n(f),A=t(70030),g=t(81446),j=t(13311),y=t(44414);function w(e){var a;let{prev:t}=e;const{isDemo:f}=(0,j.A)(),{t:w}=(0,A.B)(),{activeMenu:b}=(0,m.d4)((e=>e.menu),m.bN),_=(0,m.wA)(),k=(0,u.Zp)(),[S,q]=(0,s.useState)(null),[C,N]=(0,s.useState)(!1),[F,I]=(0,s.useState)(!1),[P]=l.A.useForm();console.log(f);return(0,s.useEffect)((()=>{var e,a,t;null!==b&&void 0!==b&&b.data&&(t=null===b||void 0===b||null===(e=b.data)||void 0===e||null===(a=e.seller)||void 0===a?void 0:a.uuid,I(!0),v.A.getById(t).then((e=>{const a=e.data;P.setFieldsValue({firstname:a.firstname,lastname:a.lastname,email:a.email,phone:a.phone,password_confirmation:a.password_confirmation,password:a.password})})).finally((()=>I(!1))))}),[]),(0,y.jsx)(y.Fragment,{children:F?(0,y.jsx)(g.A,{}):(0,y.jsx)(l.A,{form:P,layout:"vertical",initialValues:{gender:"male",role:"admin",...b.data,birthday:null!==(a=b.data)&&void 0!==a&&a.birthday?x()(b.data.birthday):null},onFinish:e=>{var a,t;N(!0);const s={firstname:e.firstname,lastname:e.lastname,email:e.email,phone:e.phone,password_confirmation:e.password_confirmation,password:e.password},l="restaurants";v.A.update(null===b||void 0===b||null===(a=b.data)||void 0===a||null===(t=a.seller)||void 0===t?void 0:t.uuid,s).then((()=>{p.oR.success(w("successfully.updated")),k("/".concat(l)),_((0,h.EK)({...b,nextUrl:l}))})).catch((e=>q(e.response.data.params))).finally((()=>N(!1)))},className:"py-4",children:(0,y.jsxs)(n.A,{gutter:12,children:[(0,y.jsx)(r.A,{span:12,children:(0,y.jsx)(l.A.Item,{label:w("firstname"),name:"firstname",help:null!==S&&void 0!==S&&S.firstname?S.firstname[0]:null,validateStatus:null!==S&&void 0!==S&&S.firstname?"error":"success",rules:[{required:!1,message:w("required")}],children:(0,y.jsx)(i.A,{className:"w-100"})})}),(0,y.jsx)(r.A,{span:12,children:(0,y.jsx)(l.A.Item,{label:w("lastname"),name:"lastname",help:null!==S&&void 0!==S&&S.lastname?S.lastname[0]:null,validateStatus:null!==S&&void 0!==S&&S.lastname?"error":"success",rules:[{required:!1,message:w("required")}],children:(0,y.jsx)(i.A,{className:"w-100"})})}),f||(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(r.A,{span:12,children:(0,y.jsx)(l.A.Item,{label:w("phone"),name:"phone",help:null!==S&&void 0!==S&&S.phone?S.phone[0]:null,validateStatus:null!==S&&void 0!==S&&S.phone?"error":"success",rules:[{required:!1,message:w("required")}],children:(0,y.jsx)(o.A,{min:0,className:"w-100"})})}),(0,y.jsx)(r.A,{span:12,children:(0,y.jsx)(l.A.Item,{label:w("email"),name:"email",help:null!==S&&void 0!==S&&S.email?S.email[0]:null,validateStatus:null!==S&&void 0!==S&&S.email?"error":"success",rules:[{required:!0,message:w("required")}],children:(0,y.jsx)(i.A,{type:"email",className:"w-100"})})}),(0,y.jsx)(r.A,{span:12,children:(0,y.jsx)(l.A.Item,{label:w("password"),name:"password",help:null!==S&&void 0!==S&&S.password?S.password[0]:null,validateStatus:null!==S&&void 0!==S&&S.password?"error":"success",rules:[{required:!1,message:w("required")}],children:(0,y.jsx)(i.A.Password,{type:"password",className:"w-100",autoComplete:"off"})})}),(0,y.jsx)(r.A,{span:12,children:(0,y.jsx)(l.A.Item,{label:w("password.confirmation"),help:null!==S&&void 0!==S&&S.password_confirmation?S.password_confirmation[0]:null,validateStatus:null!==S&&void 0!==S&&S.password_confirmation?"error":"success",name:"password_confirmation",dependencies:["password"],hasFeedback:!0,rules:[{required:!1,message:w("required")},e=>{let{getFieldValue:a}=e;return{validator:(e,t)=>t&&a("password")!==t?Promise.reject(w("passwords.do.not.match")):Promise.resolve()}}],children:(0,y.jsx)(i.A.Password,{type:"password",className:"w-100",autoComplete:"off"})})})]}),(0,y.jsx)(r.A,{span:24,children:(0,y.jsxs)(d.A,{children:[(0,y.jsx)(c.A,{type:"primary",htmlType:"submit",loading:C,children:w("save")}),(0,y.jsx)(c.A,{htmlType:"submit",onClick:()=>t(),children:w("prev")})]})})]})})})}}}]);