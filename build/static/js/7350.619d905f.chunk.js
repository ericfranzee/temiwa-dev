"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7350],{97350:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var t=s(9950),i=s(59233),l=s(23263),r=s(87094),n=s(41988),c=s(55902),d=s(25933),m=s(48538),u=s(90650),o=s(85923),h=s(28429),v=s(91854),g=s(74623),j=s(63620),x=s(70030),A=s(14056),p=s(59759),f=s(48970),b=s(44414);const y=()=>{var e,a;const{t:s}=(0,x.B)(),{activeMenu:y}=(0,v.d4)((e=>e.menu),v.bN),{id:k}=(0,h.g)(),N=(0,v.wA)(),{params:w}=(0,v.d4)((e=>e.brand),v.bN),[E,I]=(0,t.useState)(null!==(e=y.data)&&void 0!==e&&e.image?[null===(a=y.data)||void 0===a?void 0:a.image]:[]),[F]=i.A.useForm(),q=(0,h.Zp)(),[z,P]=(0,t.useState)(!1),[S,V]=(0,t.useState)(!1);(0,t.useEffect)((()=>()=>{const e=F.getFieldsValue(!0);N((0,g.Ok)({activeMenu:y,data:e}))}),[]);const B=e=>({name:e,url:j.sE+e});return(0,t.useEffect)((()=>{y.refetch&&(e=>{P(!0),A.A.getById(e).then((e=>{let a=e.data;F.setFieldsValue({...a,image:[B(a.img)]}),I([B(a.img)])})).finally((()=>{P(!1),N((0,g.km)(y))}))})(k)}),[y.refetch]),(0,b.jsx)(l.A,{title:s("edit.brand"),children:z?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,b.jsx)(u.A,{size:"large",className:"py-5"})}):(0,b.jsxs)(i.A,{name:"basic",layout:"vertical",onFinish:e=>{var a;const t={...e,active:e.active?1:0,"images[0]":null===(a=E[0])||void 0===a?void 0:a.name};V(!0);const i={...w},l="seller/brands";A.A.update(k,t).then((()=>{o.oR.success(s("successfully.updated")),N((0,g.EK)({...y,nextUrl:l})),q("/".concat(l)),N((0,p.w1)(i))})).finally((()=>V(!1)))},form:F,initialValues:{...y.data},children:[(0,b.jsxs)(r.A,{gutter:12,children:[(0,b.jsx)(n.A,{span:12,children:(0,b.jsx)(i.A.Item,{label:s("title"),name:"title",rules:[{required:!0,message:s("required")}],children:(0,b.jsx)(c.A,{})})}),(0,b.jsx)(n.A,{span:6,children:(0,b.jsx)(i.A.Item,{label:s("image"),name:"images",rules:[{validator:()=>0===E.length?Promise.reject(new Error(s("required"))):Promise.resolve()}],children:(0,b.jsx)(f.A,{type:"brands",imageList:E,setImageList:I,form:F,multiple:!1})})}),(0,b.jsx)(n.A,{span:6,children:(0,b.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,b.jsx)(i.A.Item,{label:s("active"),name:"active",valuePropName:"checked",children:(0,b.jsx)(d.A,{})})})})]}),(0,b.jsx)(m.A,{type:"primary",htmlType:"submit",loading:S,children:s("submit")})]})})}}}]);