"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7459],{47992:(e,t,l)=>{l.d(t,{G:()=>c});var i=l(9950),n=l(95491),a=l.n(n),r=l(99674),s=l(90650),o=l(44414);const c=e=>{let{fetchOptions:t,debounceTimeout:l=400,onClear:n,refetchOptions:c=!1,...d}=e;const[u,v]=(0,i.useState)(!1),[m,h]=(0,i.useState)([]),A=(0,i.useMemo)((()=>a()((e=>{h([]),v(!0),t(e).then((e=>{h(e),v(!1)}))}),l)),[t,l]);return(0,o.jsx)(r.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:A,onClear:()=>{A(""),n&&n()},notFoundContent:u?(0,o.jsx)(s.A,{size:"small"}):"no results",...d,options:m,onFocus:()=>{m.length&&!c||A("")}})}},31281:(e,t,l)=>{function i(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const i=e.map((e=>({[e.locale]:""===t["".concat(l,"[").concat(e.locale,"]")]?void 0:t["".concat(l,"[").concat(e.locale,"]")]})));return Object.assign({},...i)}l.d(t,{A:()=>i})},37459:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var i=l(59233),n=l(23263),a=l(70030),r=l(71999),s=l(62110),o=l(33241),c=l(44414);const d=function(){const{t:e}=(0,a.B)(),[t]=i.A.useForm();return(0,c.jsx)(n.A,{title:e("create.service.extra"),extra:(0,c.jsx)(r.A,{}),children:(0,c.jsx)(o.A,{form:t,onSubmit:e=>s.A.create(e)})})}},33241:(e,t,l)=>{l.d(t,{A:()=>y});var i=l(59233),n=l(87094),a=l(41988),r=l(40577),s=l(55902),o=l(25933),c=l(48538),d=l(47992),u=l(9950),v=l(54764),m=l(70030),h=l(91854),A=l(28429),p=l(85923),x=l(74623),f=l(43394),j=l(31281),g=l(48970),b=l(44414);const y=function(e){var t,l;let{form:y,onSubmit:S}=e;const{t:C}=(0,m.B)(),I=(0,A.Zp)(),k=(0,h.wA)(),{defaultLang:w,languages:F}=(0,h.d4)((e=>e.formLang),h.bN),{defaultCurrency:N}=(0,h.d4)((e=>e.currency),h.bN),{activeMenu:O}=(0,h.d4)((e=>e.menu),h.bN),{state:q}=(0,A.zy)(),[z,L]=(0,u.useState)(!1),[B,E]=(0,u.useState)((null===(t=O.data)||void 0===t||null===(l=t.serviceExtrasForm)||void 0===l?void 0:l.img)||[]);return(0,b.jsxs)(i.A,{form:y,layout:"vertical",onFinish:e=>{var t;const l={active:e.active?1:0,service_id:e.service.value,title:(0,j.A)(F,e,"title"),price:e.price||0,img:null===B||void 0===B||null===(t=B[0])||void 0===t?void 0:t.url};L(!0),S(l).then((()=>{const e="service-extra";p.oR.success(C("successfully.created")),y.resetFields(),(0,h.vA)((()=>{k((0,x.EK)({...O,nextUrl:e})),k((0,f.Y)(null===q||void 0===q?void 0:q.params))})),I("/".concat(e))})).finally((()=>L(!1)))},initialValues:{active:!0},children:[(0,b.jsxs)(n.A,{gutter:12,children:[(0,b.jsx)(a.A,{span:12,children:(0,b.jsx)(i.A.Item,{label:C("service"),name:"service",rules:[{required:!0,message:"required"}],children:(0,b.jsx)(d.G,{fetchOptions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={search:null!==e&&void 0!==e&&e.length?e:void 0,perPage:10,page:1};return v.A.getAll(t).then((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((e=>{var t;return{label:(null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title)||C("N/A"),value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))},refetchOptions:!0})})}),(0,b.jsx)(a.A,{span:12,children:(0,b.jsx)(i.A.Item,{label:C("price"),name:"price",rules:[{required:!0}],children:(0,b.jsx)(r.A,{className:"w-100",addonAfter:"after"===(null===N||void 0===N?void 0:N.position)&&(null===N||void 0===N?void 0:N.symbol),addonBefore:"before"===(null===N||void 0===N?void 0:N.position)&&(null===N||void 0===N?void 0:N.symbol)})})}),(0,b.jsx)(a.A,{span:12,children:F.map(((e,t)=>(0,b.jsx)(i.A.Item,{label:C("title"),name:"title[".concat(e.locale,"]"),rules:[{required:e.locale===w,message:C("required")}],hidden:e.locale!==w,children:(0,b.jsx)(s.A,{})},"title"+t)))}),(0,b.jsx)(a.A,{span:6,children:(0,b.jsx)(i.A.Item,{label:C("image"),name:"image",children:(0,b.jsx)(g.A,{type:"service_extras",imageList:B,setImageList:E,form:y,multiple:!1})})}),(0,b.jsx)(a.A,{children:(0,b.jsx)(i.A.Item,{label:C("active"),name:"active",valuePropName:"checked",children:(0,b.jsx)(o.A,{})})})]}),(0,b.jsx)(c.A,{type:"primary",htmlType:"submit",loading:z,children:C("submit")})]})}}}]);