"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[5234],{47992:(e,t,l)=>{l.d(t,{G:()=>d});var n=l(9950),i=l(95491),a=l.n(i),o=l(99674),r=l(90650),s=l(44414);const d=e=>{let{fetchOptions:t,debounceTimeout:l=400,onClear:i,refetchOptions:d=!1,...c}=e;const[u,m]=(0,n.useState)(!1),[v,h]=(0,n.useState)([]),p=(0,n.useMemo)((()=>a()((e=>{h([]),m(!0),t(e).then((e=>{h(e),m(!1)}))}),l)),[t,l]);return(0,s.jsx)(o.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),i&&i()},notFoundContent:u?(0,s.jsx)(r.A,{size:"small"}):"no results",...c,options:v,onFocus:()=>{v.length&&!d||p("")}})}},31281:(e,t,l)=>{function n(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const n=e.map((e=>({[e.locale]:""===t["".concat(l,"[").concat(e.locale,"]")]?void 0:t["".concat(l,"[").concat(e.locale,"]")]})));return Object.assign({},...n)}l.d(t,{A:()=>n})},32853:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});l(9950);var n=l(59233),i=l(83678),a=l(31281),o=l(91854),r=l(72184),s=l(44414);function d(){const[e]=n.A.useForm(),{languages:t}=(0,o.d4)((e=>e.formLang),o.bN);return(0,s.jsx)(i.A,{form:e,handleSubmit:(e,l)=>{const n={type:"look",active:Number(e.active),title:(0,a.A)(t,e,"title"),description:(0,a.A)(t,e,"description"),products:e.products.map((e=>e.value)),images:l.map((e=>e.name))};return r.A.create(n)}})}},83678:(e,t,l)=>{l.d(t,{A:()=>k});var n=l(9950),i=l(23263),a=l(59233),o=l(87094),r=l(41988),s=l(55902),d=l(25933),c=l(48538),u=l(70030),m=l(71999),v=l(91854),h=l(28429),p=l(98591),A=l(47992),j=l(47933),g=l(48970),x=l(74623),b=l(85923),f=l(86918),y=l(44414);function k(e){var t,l;let{form:k,handleSubmit:w}=e;const S=(0,v.wA)(),P=(0,h.Zp)(),{t:C}=(0,u.B)(),{defaultLang:I,languages:E}=(0,v.d4)((e=>e.formLang),v.bN),{activeMenu:N}=(0,v.d4)((e=>e.menu),v.bN),{myShop:F}=(0,v.d4)((e=>e.myShop),v.bN),[L,O]=(0,n.useState)(!1),[q,z]=(0,n.useState)(null!==(t=null===N||void 0===N||null===(l=N.data)||void 0===l?void 0:l.image)&&void 0!==t?t:[]);function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return(t?!e&&(null===t||void 0===t?void 0:t.locale)===I:!e)?Promise.reject(new Error(C("required"))):e&&""===(null===e||void 0===e?void 0:e.trim())?Promise.reject(new Error(C("no.empty.space"))):e&&(null===e||void 0===e?void 0:e.trim().length)<l?Promise.reject(new Error(C("must.be.at.least.".concat(l)))):Promise.resolve()}return(0,y.jsx)(n.Fragment,{children:(0,y.jsx)(i.A,{title:C("add.look"),extra:(0,y.jsx)(m.A,{}),children:(0,y.jsxs)(a.A,{form:k,onFinish:e=>{O(!0);const t="seller/looks";w(e,q).then((()=>{b.oR.success(C("successfully.added")),(0,v.vA)((()=>{S((0,x.EK)({...N,nextUrl:t})),S((0,f.EA)({}))})),P("/".concat(t))})).finally((()=>O(!1)))},layout:"vertical",initialValues:{active:!0,...null===N||void 0===N?void 0:N.data},children:[(0,y.jsxs)(o.A,{gutter:12,children:[(0,y.jsx)(r.A,{span:12,children:E.map((e=>(0,y.jsx)(a.A.Item,{label:C("title"),name:"title[".concat(e.locale,"]"),hidden:e.locale!==I,rules:[{validator:(t,l)=>G(l,e)}],children:(0,y.jsx)(s.A,{})},"title"+e.id)))}),(0,y.jsx)(r.A,{span:12,children:E.map((e=>(0,y.jsx)(a.A.Item,{label:C("description"),name:"description[".concat(e.locale,"]"),hidden:e.locale!==I,rules:[{validator:(t,l)=>G(l,e,5)}],children:(0,y.jsx)(p.A,{rows:3})},"description"+e.id)))}),(0,y.jsx)(r.A,{span:12,children:(0,y.jsx)(a.A.Item,{label:C("products"),name:"products",rules:[{required:!0,message:C("required")}],children:(0,y.jsx)(A.G,{mode:"multiple",fetchOptions:e=>{const t={page:1,perPage:10,active:1,status:"published",shop_id:null===F||void 0===F?void 0:F.id,search:e||null};return j.A.getAll(t).then((e=>e.data.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))))}})})}),(0,y.jsx)(r.A,{span:4,children:(0,y.jsx)(a.A.Item,{name:"images",label:C("image"),rules:[{validator:()=>0===q.length?Promise.reject(new Error(C("required"))):Promise.resolve()}],children:(0,y.jsx)(g.A,{type:"products",imageList:q,setImageList:z,form:k,multiple:!1})})}),(0,y.jsx)(r.A,{span:4,children:(0,y.jsx)(a.A.Item,{label:C("active"),name:"active",valuePropName:"checked",children:(0,y.jsx)(d.A,{defaultChecked:!0})})})]}),(0,y.jsx)(c.A,{type:"primary",htmlType:"submit",loading:L,children:C("submit")})]})})})}}}]);