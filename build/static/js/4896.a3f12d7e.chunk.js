"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[4896],{47992:(e,t,n)=>{n.d(t,{G:()=>d});var l=n(9950),i=n(95491),o=n.n(i),r=n(99674),a=n(90650),s=n(44414);const d=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:i,refetchOptions:d=!1,...c}=e;const[u,m]=(0,l.useState)(!1),[h,v]=(0,l.useState)([]),p=(0,l.useMemo)((()=>o()((e=>{v([]),m(!0),t(e).then((e=>{v(e),m(!1)}))}),n)),[t,n]);return(0,s.jsx)(r.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),i&&i()},notFoundContent:u?(0,s.jsx)(a.A,{size:"small"}):"no results",...c,options:h,onFocus:()=>{h.length&&!d||p("")}})}},31281:(e,t,n)=>{function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"title";const l=e.map((e=>({[e.locale]:""===t["".concat(n,"[").concat(e.locale,"]")]?void 0:t["".concat(n,"[").concat(e.locale,"]")]})));return Object.assign({},...l)}n.d(t,{A:()=>l})},69239:(e,t,n)=>{n.d(t,{A:()=>w});var l=n(59233),i=n(87094),o=n(41988),r=n(55902),a=n(40577),s=n(99674),d=n(25933),c=n(48538),u=n(91854),m=n(70030),h=n(9950),v=n(85923),p=n(74623),A=n(28429),j=n(76206),x=n(31281),f=n(47992),b=n(55660),g=n(44414);const y=["1 day","3 days","7 days","14 days","1 month","2 month","3 month","4 month","5 month","6 month","8 month","18 months","1 year","2 years","5 years"];const w=function(e){let{handleSubmit:t,form:n}=e;const{t:w}=(0,m.B)(),C=(0,u.wA)(),I=(0,A.Zp)(),{defaultLang:S,languages:k}=(0,u.d4)((e=>e.formLang),u.bN),{defaultCurrency:q}=(0,u.d4)((e=>e.currency),u.bN),{activeMenu:O}=(0,u.d4)((e=>e.menu)),[P,E]=(0,h.useState)(!1);function F(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return(t?!e&&(null===t||void 0===t?void 0:t.locale)===S:!e)?Promise.reject(new Error(w("required"))):e&&""===(null===e||void 0===e?void 0:e.trim())?Promise.reject(new Error(w("no.empty.space"))):e&&(null===e||void 0===e?void 0:e.trim().length)<n?Promise.reject(new Error(w("must.be.at.least.".concat(n)))):Promise.resolve()}return(0,g.jsxs)(l.A,{layout:"vertical",form:n,onFinish:e=>{var n;E(!0);const l="gift-cards",i={price:e.price,time:e.time,active:e.active?1:0,shop_id:null===(n=e.shop)||void 0===n?void 0:n.value,title:(0,x.A)(k,e,"title"),description:(0,x.A)(k,e,"description")};t(i).then((()=>{v.oR.success(w("successfully.added")),(0,u.vA)((()=>{C((0,p.EK)({...O,nextUrl:l})),C((0,j.Eb)())})),I("/".concat(l))})).finally((()=>E(!1)))},children:[(0,g.jsxs)(i.A,{gutter:12,children:[(0,g.jsx)(o.A,{span:12,children:k.map((e=>(0,g.jsx)(l.A.Item,{label:w("title"),name:"title[".concat(e.locale,"]"),hidden:e.locale!==S,rules:[{validator:(t,n)=>F(n,e)}],children:(0,g.jsx)(r.A,{})},"title"+e.id)))}),(0,g.jsx)(o.A,{span:12,children:k.map((e=>(0,g.jsx)(l.A.Item,{label:w("description"),name:"description[".concat(e.locale,"]"),hidden:e.locale!==S,rules:[{validator:(t,n)=>F(n,e)}],children:(0,g.jsx)(r.A,{})},"description"+e.id)))}),(0,g.jsx)(o.A,{span:12,children:(0,g.jsx)(l.A.Item,{name:"price",label:w("price"),rules:[{required:!0,message:w("required")}],children:(0,g.jsx)(a.A,{min:0,className:"w-100",addonAfter:"after"===(null===q||void 0===q?void 0:q.position)&&((null===q||void 0===q?void 0:q.symbol)||"$"),addonBefore:"before"===(null===q||void 0===q?void 0:q.position)&&((null===q||void 0===q?void 0:q.symbol)||"$")})})}),(0,g.jsx)(o.A,{span:12,children:(0,g.jsx)(l.A.Item,{name:"time",label:w("time"),rules:[{required:!0}],children:(0,g.jsx)(s.A,{children:y.map((e=>(0,g.jsx)(s.A.Option,{value:e,children:e},e)))})})}),(0,g.jsx)(o.A,{span:12,children:(0,g.jsx)(l.A.Item,{label:w("shop"),name:"shop",rules:[{required:!0,message:w("required")}],children:(0,g.jsx)(f.G,{fetchOptions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={search:e,perPage:10,page:1};return""===e.trim()&&delete t.search,b.A.getAll(t).then((e=>{var t;return null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id,key:null===e||void 0===e?void 0:e.id}}))}))}})})}),(0,g.jsx)(o.A,{children:(0,g.jsx)(l.A.Item,{name:"active",label:w("active"),valuePropName:"checked",children:(0,g.jsx)(d.A,{})})})]}),(0,g.jsx)(c.A,{type:"primary",htmlType:"submit",loading:P,children:w("submit")})]})}},64896:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var l=n(70030),i=n(59233),o=n(23263),r=(n(91854),n(69239)),a=n(71999),s=n(22961),d=n(44414);const c=function(){const{t:e}=(0,l.B)(),[t]=i.A.useForm();return(0,d.jsx)(o.A,{title:e("add.gift.card"),extra:(0,d.jsx)(a.A,{}),children:(0,d.jsx)(r.A,{form:t,handleSubmit:e=>(console.log(e),s.A.create(e))})})}}}]);