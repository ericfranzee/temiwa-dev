"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[7213],{35116:(e,t,a)=>{a.d(t,{A:()=>r});a(9950);var l=a(48538),n=a(44070),s=a(85923),c=a(70030),i=a(13311),o=a(44414);function r(e){let{size:t="",onClick:a,type:r="default",...d}=e;const{t:u}=(0,c.B)(),{isDemo:h}=(0,i.A)();return(0,o.jsx)(l.A,{size:t,icon:(0,o.jsx)(n.A,{}),onClick:e=>{h?s.oR.warning(u("cannot.work.demo")):a(e)},type:r,...d})}},28645:(e,t,a)=>{a.d(t,{A:()=>p});var l=a(9950),n=a(66362),s=a(69216),c=a(80737),i=a(25933),o=a(57811),r=a(81541),d=a(48538),u=a(89323),h=a(70030),m=a(44414);const{Text:g}=n.A,p=e=>{let{columns:t=[],setColumns:a,style:n,size:p="",iconOnly:v}=e;const{t:A}=(0,h.B)(),[x,y]=(0,l.useState)(!1),j=(0,m.jsx)(s.A,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,m.jsx)(s.A.Item,{children:(0,m.jsxs)(c.A,{className:"d-flex justify-content-between",children:[(0,m.jsx)(g,{children:e.title}),(0,m.jsx)(i.A,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));a(l)}(e),disabled:1===l})]})},e+l)))});return(0,m.jsx)(o.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{y(e)},visible:x,children:(0,m.jsx)(r.A,{title:A("change.columns"),children:(0,m.jsx)(d.A,{style:{...n},size:p,icon:(0,m.jsx)(u.A,{}),children:v?null:A("Columns")})})})}},8297:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(9950),n=a(55902),s=a(41397),c=a(60767),i=a(44414);function o(e){let{handleChange:t,defaultValue:a,resetSearch:o,...r}=e;const[d,u]=(0,l.useState)(a),h=(0,l.useMemo)((()=>(0,s.debounce)((e=>{t(e)}),800)),[]);return(0,l.useEffect)((()=>{u(a)}),[o]),(0,i.jsx)(n.A,{value:d,onChange:e=>{u(e.target.value),h(e.target.value)},prefix:(0,i.jsx)(c.A,{}),...r})}},47992:(e,t,a)=>{a.d(t,{G:()=>r});var l=a(9950),n=a(95491),s=a.n(n),c=a(99674),i=a(90650),o=a(44414);const r=e=>{let{fetchOptions:t,debounceTimeout:a=400,onClear:n,refetchOptions:r=!1,...d}=e;const[u,h]=(0,l.useState)(!1),[m,g]=(0,l.useState)([]),p=(0,l.useMemo)((()=>s()((e=>{g([]),h(!0),t(e).then((e=>{g(e),h(!1)}))}),a)),[t,a]);return(0,o.jsx)(c.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),n&&n()},notFoundContent:u?(0,o.jsx)(i.A,{size:"small"}):"no results",...d,options:m,onFocus:()=>{m.length&&!r||p("")}})}},8168:(e,t,a)=>{function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}a.d(t,{A:()=>l})},17213:(e,t,a)=>{a.d(t,{A:()=>E});var l=a(9950),n=a(54909),s=a(80737),c=a(12916),i=a(72243),o=a(25933),r=a(48538),d=a(23263),u=a(52913),h=a(70030),m=(a(69554),a(90540),a(12678)),g=a(67376),p=a(24513),v=a(44070),A=a(53387),x=a(13700),y=a(28264),j=a(74623),f=a(91854),C=a(85923),w=a(76083),b=a(55386),k=a(12598),z=a(28429),V=a(28645),S=a(8168),H=a(88986),I=a(8297),_=a(35116),M=a(38525),O=a(63620),N=a(44414);const{TabPane:R}=n.A,W=["blue","red","gold","volcano","cyan","lime"],B=["all","pending","published","unpublished"],E=e=>{var t,a,E,P,X,F,U,T;let{parentId:K,type:q="main",parent_type:G,isRefetch:Z=!1,handleAddAction:$=(()=>{})}=e;const{t:D}=(0,h.B)(),J=(0,f.wA)(),L=(0,z.Zp)(),{activeMenu:Q}=(0,f.d4)((e=>e.menu),f.bN),[Y,ee]=(0,l.useState)("all"),te=(null===(t=Q.data)||void 0===t?void 0:t.role)||Y,{uuid:ae}=(0,z.g)(),[le,ne]=(0,l.useState)(null),[se,ce]=(0,l.useState)(null);const ie=()=>{K?$(K):(J((0,j.X4)({id:K?"sub-category-add":"category-add",url:"seller/category/add",name:D(K?"add.sub.category":"add.category")})),L("/seller/category/add",{state:{parentId:K,parentUuid:ae}}))},oe=()=>{J((0,j.X4)({url:"seller/catalog/categories/import",id:K?"sub_category_import":"category_import",name:D(K?"import.sub.category":"import.category")})),L("/seller/catalog/categories/import",{state:{parentId:K,parentUuid:ae}})},[re,de]=(0,l.useState)([{title:D("id"),dataIndex:"id",key:"id",is_show:!0},{title:D("name"),dataIndex:"name",key:"name",is_show:!0},{title:D("translations"),dataIndex:"locales",is_show:!0,render:(e,t)=>{var a;return(0,N.jsx)(s.A,{children:null===(a=t.locales)||void 0===a?void 0:a.map(((e,t)=>(0,N.jsx)(c.A,{className:"text-uppercase",color:[W[t]],children:e})))})}},{title:D("image"),dataIndex:"img",key:"img",is_show:!0,render:(e,t)=>(0,N.jsx)(i.A,{src:e||"https://via.placeholder.com/150",alt:"img_gallery",width:100,className:"rounded",preview:!0,placeholder:!0},e+t.id)},{title:D("active"),dataIndex:"active",is_show:!0,render:(e,t)=>(0,N.jsx)(o.A,{onChange:()=>{ue(!0),me(t.uuid),ne(!0)},checked:e})},{title:D("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,N.jsx)("div",{children:"pending"===e?(0,N.jsx)(c.A,{color:"blue",children:D(e)}):"unpublished"===e?(0,N.jsx)(c.A,{color:"error",children:D(e)}):(0,N.jsx)(c.A,{color:"cyan",children:D(e)})})},{title:D("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,N.jsxs)(s.A,{children:[(0,N.jsx)(r.A,{icon:(0,N.jsx)(m.A,{}),onClick:()=>function(e){J((0,j.X4)({url:"seller/category/show/".concat(e.uuid),id:"category_show",name:D("category.show")})),L("/seller/category/show/".concat(e.uuid),{state:{parentId:K,parentUuid:ae}})}(t)}),(0,N.jsx)(r.A,{icon:(0,N.jsx)(g.A,{}),onClick:()=>{return e=t.uuid,J((0,j.X4)({id:K?"sub-category-clone":"category-clone",url:"seller/category-clone/".concat(e),name:D(K?"sub.category.clone":"category.clone")})),void L("/seller/category-clone/".concat(e),{state:{parentId:K,parentUuid:ae}});var e}}),(0,N.jsx)(r.A,{type:"primary",icon:(0,N.jsx)(p.A,{}),onClick:()=>function(e){J((0,j.X4)({url:"seller/category/".concat(e.uuid),id:K?"category_sub_edit":"category_edit",name:D(K?"edit.sub.category":"edit.category")})),L("/seller/category/".concat(e.uuid),{state:{parentId:K,parentUuid:ae}})}(t)}),(0,N.jsx)(_.A,{icon:(0,N.jsx)(v.A,{}),onClick:()=>{me([t.id]),ue(!0),ye(!0)}})]})}]),{setIsModalVisible:ue}=(0,l.useContext)(b.o),[he,me]=(0,l.useState)(null),[ge,pe]=(0,l.useState)(!1),[ve,Ae]=(0,l.useState)(!1),[xe,ye]=(0,l.useState)(null),{categories:je,meta:fe,loading:Ce}=(0,f.d4)((e=>e.category),f.bN),we=Q.data,be={search:null===we||void 0===we?void 0:we.search,perPage:(null===Q||void 0===Q||null===(a=Q.data)||void 0===a?void 0:a.perPage)||10,page:(null===we||void 0===we?void 0:we.page)||1,status:"all"===te?void 0:te,type:q,parent_id:K};(0,l.useEffect)((()=>{J((0,y.uO)(be)),J((0,j.km)(Q))}),[Q.refetch,q,K]),(0,l.useEffect)((()=>{Z&&J((0,y.uO)(be))}),[Z]),(0,H.A)((()=>{J((0,y.uO)(be))}),[Q.data]);const ke=()=>{Ae(!0),k.A.export(be).then((e=>{const t=O.bb+e.data.file_name;window.location.href=t})).finally((()=>Ae(!1)))},ze={selectedRowKeys:he,onChange:e=>{me(e)}},Ve=()=>{null===he||0===he.length?C.oR.warning(D("select.the.product")):(ue(!0),ye(!1))},Se=e=>{const t=Q.data;J((0,j.Ok)({activeMenu:Q,data:{...t,...e}}))},He=()=>{J((0,j.Ok)({activeMenu:Q,data:void 0}))};return(0,N.jsxs)(N.Fragment,{children:[!K&&(0,N.jsx)(d.A,{className:"p-0",children:(0,N.jsxs)(s.A,{wrap:!0,size:[14,20],children:[(0,N.jsx)(I.A,{placeholder:D("search"),className:"w-25",handleChange:e=>{Se({search:e})},defaultValue:null===(E=Q.data)||void 0===E?void 0:E.search,resetSearch:!(null!==(P=Q.data)&&void 0!==P&&P.search),style:{minWidth:300}}),(0,N.jsx)(_.A,{size:"",onClick:Ve,children:D("delete.selected")}),(0,N.jsxs)(r.A,{style:{minWidth:150},onClick:oe,children:[(0,N.jsx)(M.I8R,{className:"mr-2"}),D("import")]}),(0,N.jsxs)(r.A,{style:{minWidth:150},loading:ve,onClick:ke,children:[(0,N.jsx)(M.$tV,{className:"mr-2"}),D("export")]}),"child"!==G&&(0,N.jsx)(r.A,{type:"primary",icon:(0,N.jsx)(A.A,{}),onClick:ie,children:D("add.category")}),(0,N.jsx)(r.A,{icon:(0,N.jsx)(x.A,{}),onClick:He,disabled:!Q.data,style:{minWidth:100}}),(0,N.jsx)(V.A,{columns:re,setColumns:de})]})}),(0,N.jsxs)(d.A,{title:D(K?"sub.category":"categories"),children:[K&&(0,N.jsxs)(s.A,{wrap:!0,size:[14,20],children:[(0,N.jsx)(I.A,{placeholder:D("search"),className:"w-25",handleChange:e=>{Se({search:e})},defaultValue:null===(X=Q.data)||void 0===X?void 0:X.search,resetSearch:!(null!==(F=Q.data)&&void 0!==F&&F.search),style:{minWidth:300}}),(0,N.jsx)(_.A,{size:"",onClick:Ve,children:D("delete.selected")}),(0,N.jsxs)(r.A,{style:{minWidth:150},onClick:oe,children:[(0,N.jsx)(M.I8R,{className:"mr-2"}),D("import")]}),(0,N.jsxs)(r.A,{style:{minWidth:150},loading:ve,onClick:ke,children:[(0,N.jsx)(M.$tV,{className:"mr-2"}),D("export")]}),"child"!==G&&(0,N.jsx)(r.A,{type:"primary",icon:(0,N.jsx)(A.A,{}),onClick:ie,children:D("add.category")}),(0,N.jsx)(r.A,{icon:(0,N.jsx)(x.A,{}),onClick:He,disabled:!Q.data,style:{minWidth:100}}),(0,N.jsx)(V.A,{columns:re,setColumns:de})]}),(0,N.jsx)(n.A,{className:"mt-3",activeKey:te,onChange:e=>{Se({role:e,page:1}),ee(e)},type:"card",children:B.map((e=>(0,N.jsx)(R,{tab:D(e)},e)))}),(0,N.jsx)(u.A,{scroll:{x:!0},rowSelection:ze,columns:null===re||void 0===re?void 0:re.filter((e=>e.is_show)),dataSource:je,pagination:{pageSize:(null===(U=Q.data)||void 0===U?void 0:U.perPage)||10,page:(null===we||void 0===we?void 0:we.page)||1,total:fe.total,defaultCurrent:null===we||void 0===we?void 0:we.page,current:null===(T=Q.data)||void 0===T?void 0:T.page},rowKey:e=>e.id,onChange:function(e,t,a){const{pageSize:l,current:n}=e,{field:s,order:c}=a,i=(0,S.A)(c);J((0,j.Ok)({activeMenu:Q,data:{...Q.data,perPage:l,page:n,column:s,sort:i}}))},loading:Ce})]}),(0,N.jsx)(w.A,{click:le?()=>{pe(!0),k.A.setActive(he).then((()=>{ue(!1),J((0,y.uO)(be)),C.oR.success(D("successfully.updated")),ne(!1)})).finally((()=>pe(!1)))}:()=>{pe(!0);const e={...Object.assign({},...he.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};k.A.delete(e).then((()=>{J((0,y.uO)(be)),C.oR.success(D("successfully.deleted"))})).finally((()=>{ue(!1),pe(!1),ye(null),me(null)}))},text:D(le?"set.active.category":xe?"delete":"all.delete"),setText:me,loading:ge})]})}},90540:(e,t,a)=>{a.d(t,{A:()=>p});var l=a(9950),n=a(59233),s=a(82706),c=a(48538),i=a(70030),o=a(47992),r=a(74623),d=a(91854),u=a(12598),h=a(28429),m=a(53387),g=a(44414);function p(e){let{isModalOpen:t,handleCancel:a}=e;const{t:p}=(0,i.B)(),[v]=n.A.useForm(),[A,x]=(0,l.useState)(!1),{activeMenu:y}=(0,d.d4)((e=>e.menu),d.bN),j=(0,d.wA)(),f=(0,h.Zp)();return(0,g.jsx)(s.A,{visible:t,title:p("add.category"),onCancel:a,footer:[(0,g.jsx)(c.A,{type:"primary",onClick:()=>(j((0,r.X4)({url:"seller/category/add",id:"seller/category/add",name:p("edit.category")})),void f("/seller/category/add")),loading:A,icon:(0,g.jsx)(m.A,{}),children:p("add.new.category")},"add.new"),(0,g.jsx)(c.A,{type:"primary",onClick:()=>v.submit(),loading:A,children:p("save")},"save.from"),(0,g.jsx)(c.A,{type:"default",onClick:a,children:p("cancel")},"cancel.form")],children:(0,g.jsx)(n.A,{layout:"vertical",name:"user-address",form:v,onFinish:e=>{const t={...Object.assign({},...e.title.map(((e,t)=>({["categories[".concat(t,"]")]:e.value})))),type:"main"};x(!0),u.A.create(t).then((()=>{a(),j((0,r.Ms)(y))})).catch((e=>console.error(e))).finally((()=>x(!1)))},children:(0,g.jsx)(n.A.Item,{name:"title",label:p("title"),rules:[{required:!0,message:"required"}],children:(0,g.jsx)(o.G,{mode:"multiple",placeholder:"Select category",fetchOptions:async function(e){const t={search:0!==e.length?e:null,perPage:10,type:"main"};return u.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>{var t;return{label:null===(t=e.translation)||void 0===t?void 0:t.title,value:e.id}}))}))},style:{minWidth:150}})})})})}},13700:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(89379),n=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var c=a(25085),i=function(e,t){return n.createElement(c.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:s}))};const o=n.forwardRef(i)},53387:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(89379),n=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var c=a(25085),i=function(e,t){return n.createElement(c.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:s}))};const o=n.forwardRef(i)},89323:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(89379),n=a(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var c=a(25085),i=function(e,t){return n.createElement(c.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:s}))};const o=n.forwardRef(i)}}]);