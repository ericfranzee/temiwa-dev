"use strict";(self.webpackChunkuzmart=self.webpackChunkuzmart||[]).push([[366],{80366:(e,l,d)=>{d.r(l),d.d(l,{default:()=>k});var i=d(23263),n=d(80737),s=d(48538),o=d(12916),r=d(52913),t=d(40895),a=d(9950),c=d(70030),u=d(28429),v=d(57056),h=d(81446),x=d(91854),j=d(59051),p=d.n(j),y=d(53774),m=d(37279),f=d(45418),b=d(44414);const k=()=>{var e,l,d,j,k,_,g,N,A,I;const{t:w}=(0,c.B)(),[Y,C]=(0,a.useState)(null),[q,S]=(0,a.useState)(null),{id:D}=(0,u.g)(),M=(0,a.useRef)(),z=(0,u.Zp)(),{settings:B}=(0,x.d4)((e=>e.globalSettings)),{defaultCurrency:R}=(0,x.d4)((e=>e.currency),x.bN),$=[{title:w("id"),dataIndex:"id",key:"id",render:(e,l)=>{var d;return null===l||void 0===l||null===(d=l.stock)||void 0===d?void 0:d.id}},{title:w("product.name"),dataIndex:"product",key:"product",render:(e,l)=>{var d,i,n;return null===(d=l.stock)||void 0===d||null===(i=d.product)||void 0===i||null===(n=i.translation)||void 0===n?void 0:n.title}},{title:w("price"),dataIndex:"origin_price",key:"origin_price",render:(e,l)=>{var d;return(0,y.default)(e/(null!==(d=null===l||void 0===l?void 0:l.quantity)&&void 0!==d?d:1),null===R||void 0===R?void 0:R.symbol)}},{title:w("quantity"),dataIndex:"quantity",key:"quantity"},{title:w("tax"),dataIndex:"tax",key:"tax",render:e=>(0,y.default)(e,null===R||void 0===R?void 0:R.symbol)},{title:w("discount"),dataIndex:"discount",key:"discount",render:(e,l)=>{var d;return(0,y.default)(null===l||void 0===l||null===(d=l.stock)||void 0===d?void 0:d.discount,null===R||void 0===R?void 0:R.symbol)}},{title:w("total.price"),dataIndex:"total_price",key:"total_price",render:e=>(0,y.default)(e,null===R||void 0===R?void 0:R.symbol)}];(0,a.useEffect)((()=>{C(!0),v.A.getById(D).then((e=>{let{data:l}=e;S(l)})).finally((()=>{C(!1)}))}),[]);const E=(0,f.useReactToPrint)({content:()=>M.current});return(0,b.jsx)(i.A,{title:w("invoice"),extra:(0,b.jsxs)(n.A,{wrap:!0,children:[(0,b.jsx)(s.A,{type:"primary",onClick:()=>z(-1),children:(0,b.jsx)("span",{className:"ml-1",children:w("back")})}),(0,b.jsxs)(s.A,{type:"primary",onClick:()=>E(),ref:M,children:[(0,b.jsx)(m.A,{type:"printer"}),(0,b.jsx)("span",{className:"ml-1",children:w("print")})]})]}),children:Y?(0,b.jsx)(h.A,{}):(0,b.jsxs)("div",{className:"container_check",ref:M,children:[(0,b.jsxs)("header",{className:"check_header",children:[(0,b.jsxs)("span",{children:[(0,b.jsx)("img",{src:null===B||void 0===B?void 0:B.favicon,alt:"img",className:"check_icon overflow-hidden w-25 h-25 rounded",width:"100%",height:"100%"}),(0,b.jsx)("h1",{children:"Invoice"})]}),(0,b.jsxs)("span",{className:"check_companyInfo",children:[(0,b.jsx)("h1",{children:null===B||void 0===B?void 0:B.title}),(0,b.jsx)("h5",{children:null===B||void 0===B?void 0:B.address})]})]}),(0,b.jsxs)("main",{children:[(0,b.jsxs)("span",{children:[(0,b.jsxs)("h4",{children:[w("order.id"),": ",null===q||void 0===q?void 0:q.id]}),(0,b.jsxs)("h4",{children:[w("date"),": ",p()(null===q||void 0===q?void 0:q.created_at).format("DD-MM-YYYY")]}),(0,b.jsx)("address",{children:(0,b.jsxs)("p",{children:[(0,b.jsxs)("span",{children:[w("delivery.type"),": ",null===q||void 0===q?void 0:q.delivery_type]}),(0,b.jsx)("br",{}),(0,b.jsxs)("span",{children:[w("delivery.address"),": ",null===q||void 0===q||null===(e=q.address)||void 0===e?void 0:e.city]}),(0,b.jsx)("br",{}),(0,b.jsxs)("span",{children:[w("delivery.date"),": ",null===q||void 0===q?void 0:q.delivery_date," ",null===q||void 0===q?void 0:q.delivery_time]}),(0,b.jsx)("br",{}),(0,b.jsxs)("span",{children:[w("status"),": ",(0,b.jsx)(o.A,{color:"green",children:null===q||void 0===q?void 0:q.status})]})]})})]}),(0,b.jsx)("span",{children:(0,b.jsx)("address",{children:(0,b.jsxs)("p",{children:[(0,b.jsx)("h3",{className:"shop_data",children:w("user")}),(0,b.jsxs)("span",{children:[w("user.id"),": ",null===q||void 0===q||null===(l=q.user)||void 0===l?void 0:l.id]}),(0,b.jsx)("br",{}),(0,b.jsxs)("span",{children:[w("full.name"),":"," ","".concat(null===q||void 0===q||null===(d=q.user)||void 0===d?void 0:d.firstname," ").concat(null===q||void 0===q||null===(j=q.user)||void 0===j?void 0:j.lastname)]}),(0,b.jsx)("br",{}),(0,b.jsxs)("span",{children:[w("email"),": ",null!==(k=null===q||void 0===q||null===(_=q.user)||void 0===_?void 0:_.email)&&void 0!==k?k:w("no.email")]}),(0,b.jsx)("br",{}),(0,b.jsxs)("span",{children:[w("phone"),": ",null!==(g=null===q||void 0===q||null===(N=q.user)||void 0===N?void 0:N.phone)&&void 0!==g?g:w("no.phone")]})]})})})]}),(0,b.jsx)(r.A,{scroll:{x:!0},columns:$,dataSource:(null===q||void 0===q||null===(A=q.details)||void 0===A?void 0:A.flatMap((e=>null===e||void 0===e?void 0:e.products)))||[],loading:Y,rowKey:e=>e.id,pagination:!1,className:"check_table"}),(0,b.jsxs)("footer",{children:[(0,b.jsx)("span",{children:(0,b.jsxs)("h3",{children:[w("note"),": ",null!==(I=null===q||void 0===q?void 0:q.note)&&void 0!==I?I:w("no.note")]})}),(0,b.jsxs)("span",{children:[(0,b.jsxs)("span",{children:[(0,b.jsxs)("h5",{children:[w("origin.price"),":"]}),(0,b.jsx)("h4",{children:(0,y.default)(null===q||void 0===q?void 0:q.origin_price,null===R||void 0===R?void 0:R.symbol)})]}),(0,b.jsxs)("span",{children:[(0,b.jsxs)("h5",{children:[w("total.tax"),":"]}),(0,b.jsx)("h4",{children:(0,y.default)(null===q||void 0===q?void 0:q.total_tax,null===R||void 0===R?void 0:R.symbol)})]}),(0,b.jsxs)("span",{children:[(0,b.jsxs)("h5",{children:[w("service.fee"),":"]}),(0,b.jsx)("h4",{children:(0,y.default)(null===q||void 0===q?void 0:q.service_fee,null===R||void 0===R?void 0:R.symbol)})]}),(0,b.jsxs)("span",{children:[(0,b.jsxs)("h5",{children:[w("delivery.fee"),":"]}),(0,b.jsx)("h4",{children:(0,y.default)(null===q||void 0===q?void 0:q.delivery_fee,null===R||void 0===R?void 0:R.symbol)})]}),(0,b.jsxs)("span",{children:[(0,b.jsxs)("h5",{children:[w("tips"),":"]}),(0,b.jsx)("h4",{children:(0,y.default)(null===q||void 0===q?void 0:q.tips,null===R||void 0===R?void 0:R.symbol)})]}),(0,b.jsxs)("span",{children:[(0,b.jsxs)("h5",{children:[w("total.discount"),":"]}),(0,b.jsxs)("h4",{children:["- ",(0,y.default)(null===q||void 0===q?void 0:q.total_discount)]})]}),(0,b.jsxs)("span",{children:[(0,b.jsxs)("h5",{children:[w("coupon"),":"]}),(0,b.jsxs)("h4",{children:["- ",(0,y.default)(null===q||void 0===q?void 0:q.coupon_price)]})]}),(0,b.jsx)(t.A,{}),(0,b.jsxs)("span",{children:[(0,b.jsxs)("h4",{children:[w("total.price"),":"]}),(0,b.jsx)("h3",{children:(0,y.default)(null===q||void 0===q?void 0:q.total_price,null===R||void 0===R?void 0:R.symbol)})]})]})]}),(0,b.jsxs)("section",{className:"text-center",children:["\xa9 ",p()(new Date).format("YYYY")," ",null===B||void 0===B?void 0:B.title,"."," ",w("all.rights.reserved")]})]})})}},53774:(e,l,d)=>{function i(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"after";const d=Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return"after"===l?"".concat(d," ").concat(e):"".concat(e," ").concat(d)}d.r(l),d.d(l,{default:()=>i})}}]);